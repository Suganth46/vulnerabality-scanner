(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{7613:function(e,t,n){"use strict";n.d(t,{R:function(){return r}});let r="io.prismic.preview"},16573:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});let r="production"},72181:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});let r=!1},29152:function(e,t,n){"use strict";n.d(t,{RP:function(){return function e(t,n,r,u=0){return new i.cW((i,c)=>{let l=t[u];if(null===n||"function"!=typeof l)i(n);else{let d=l({...n},r);a.X&&l.id&&null===d&&s.kg.log(`Event processor "${l.id}" dropped event`),(0,o.J8)(d)?d.then(n=>e(t,n,r,u+1).then(i)).then(null,c):e(t,d,r,u+1).then(i).then(null,c)}})}},cc:function(){return c},fH:function(){return u}});var r=n(20831),i=n(12895),s=n(53640),o=n(96743),a=n(72181);function u(){return(0,r.Y)("globalEventProcessors",()=>[])}function c(e){u().push(e)}},46169:function(e,t,n){"use strict";n.d(t,{$e:function(){return p},Tb:function(){return l},cg:function(){return b},eN:function(){return d},nZ:function(){return _},n_:function(){return f},s3:function(){return g},yj:function(){return v},yl:function(){return h}});var r=n(53640),i=n(20831),s=n(16573),o=n(72181),a=n(57070),u=n(9960),c=n(2907);function l(e,t){return(0,a.Gd)().captureException(e,(0,c.U0)(t))}function d(e,t){return(0,a.Gd)().captureEvent(e,t)}function f(e,t){(0,a.Gd)().addBreadcrumb(e,t)}function p(...e){let t=(0,a.Gd)();if(2===e.length){let[n,r]=e;return n?t.withScope(()=>(t.getStackTop().scope=n,r(n))):t.withScope(r)}return t.withScope(e[0])}async function h(e){let t=g();return t?t.flush(e):(o.X&&r.kg.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}function g(){return(0,a.Gd)().getClient()}function _(){return(0,a.Gd)().getScope()}function v(e){let t=g(),n=(0,a.aF)(),r=_(),{release:o,environment:c=s.J}=t&&t.getOptions()||{},{userAgent:l}=i.GLOBAL_OBJ.navigator||{},d=(0,u.Hv)({release:o,environment:c,user:r.getUser()||n.getUser(),...l&&{userAgent:l},...e}),f=n.getSession();return f&&"ok"===f.status&&(0,u.CT)(f,{status:"exited"}),m(),n.setSession(d),r.setSession(d),d}function m(){let e=(0,a.aF)(),t=_(),n=t.getSession()||e.getSession();n&&(0,u.RJ)(n),y(),e.setSession(),t.setSession()}function y(){let e=(0,a.aF)(),t=_(),n=g(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function b(e=!1){if(e){m();return}y()}},57070:function(e,t,n){"use strict";n.d(t,{Gd:function(){return _},aF:function(){return v},cu:function(){return h}});var r=n(96743),i=n(70220),s=n(6889),o=n(53640),a=n(20831),u=n(16573),c=n(72181),l=n(33373),d=n(9960);let f=parseFloat(n(17407).J);class p{constructor(e,t,n,r=f){let i,s;this._version=r,t?i=t:(i=new l.sX).setClient(e),n?s=n:(s=new l.sX).setClient(e),this._stack=[{scope:i}],e&&this.bindClient(e),this._isolationScope=s}isOlderThan(e){return this._version<e}bindClient(e){let t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){let e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){let t;let n=this.pushScope();try{t=e(n)}catch(e){throw this.popScope(),e}return(0,r.J8)(t)?t.then(e=>(this.popScope(),e),e=>{throw this.popScope(),e}):(this.popScope(),t)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){let n=this._lastEventId=t&&t.event_id?t.event_id:(0,i.DM)(),r=Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...t,event_id:n}),n}captureMessage(e,t,n){let r=this._lastEventId=n&&n.event_id?n.event_id:(0,i.DM)(),s=Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:s,...n,event_id:r}),r}captureEvent(e,t){let n=t&&t.event_id?t.event_id:(0,i.DM)();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){let{scope:n,client:r}=this.getStackTop();if(!r)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:a=100}=r.getOptions&&r.getOptions()||{};if(a<=0)return;let u={timestamp:(0,s.yW)(),...e},c=i?(0,o.Cf)(()=>i(u,t)):u;null!==c&&(r.emit&&r.emit("beforeAddBreadcrumb",c,t),n.addBreadcrumb(c,a))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){let{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){let t=g(this);try{e(this)}finally{g(t)}}getIntegration(e){let t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return c.X&&o.kg.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){let n=this._callExtensionMethod("startTransaction",e,t);return c.X&&!n&&(this.getClient()?o.kg.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):o.kg.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){let e=this.getStackTop().scope,t=e.getSession();t&&(0,d.RJ)(t),this._sendSessionUpdate(),e.setSession()}startSession(e){let{scope:t,client:n}=this.getStackTop(),{release:r,environment:i=u.J}=n&&n.getOptions()||{},{userAgent:s}=a.GLOBAL_OBJ.navigator||{},o=(0,d.Hv)({release:r,environment:i,user:t.getUser(),...s&&{userAgent:s},...e}),c=t.getSession&&t.getSession();return c&&"ok"===c.status&&(0,d.CT)(c,{status:"exited"}),this.endSession(),t.setSession(o),o}shouldSendDefaultPii(){let e=this.getClient(),t=e&&e.getOptions();return!!(t&&t.sendDefaultPii)}_sendSessionUpdate(){let{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e,...t){let n=h().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);c.X&&o.kg.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function h(){return a.GLOBAL_OBJ.__SENTRY__=a.GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},a.GLOBAL_OBJ}function g(e){let t=h(),n=m(t);return y(t,e),n}function _(){let e=h();if(e.__SENTRY__&&e.__SENTRY__.acs){let t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=h()){return(!(e&&e.__SENTRY__&&e.__SENTRY__.hub)||m(e).isOlderThan(f))&&y(e,new p),m(e)}(e)}function v(){return _().getIsolationScope()}function m(e){return(0,a.Y)("hub",()=>new p,e)}function y(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}},33373:function(e,t,n){"use strict";let r;n.d(t,{lW:function(){return f},sX:function(){return d}});var i=n(96743),s=n(6889),o=n(70220),a=n(53640),u=n(29152),c=n(9960),l=n(34594);class d{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=p()}static clone(e){return e?e.clone():new d}clone(){let e=new d;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&(0,c.CT)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let t="function"==typeof e?e(this):e;if(t instanceof d){let e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else(0,i.PO)(t)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext));return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=p(),this}addBreadcrumb(e,t){let n="number"==typeof t?t:100;if(n<=0)return this;let r={timestamp:(0,s.yW)(),...e},i=this._breadcrumbs;return i.push(r),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){let{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:r,_extra:i,_user:s,_level:o,_fingerprint:a,_eventProcessors:u,_propagationContext:c,_sdkProcessingMetadata:l,_transactionName:d,_span:f}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:r,extra:i,user:s,level:o,fingerprint:a||[],eventProcessors:u,propagationContext:c,sdkProcessingMetadata:l,transactionName:d,span:f}}applyToEvent(e,t={},n=[]){(0,l.gi)(e,this.getScopeData());let r=[...n,...(0,u.fH)(),...this._eventProcessors];return(0,u.RP)(r,e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){let n=t&&t.event_id?t.event_id:(0,o.DM)();if(!this._client)return a.kg.warn("No client configured on scope - will not capture exception!"),n;let r=Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){let r=n&&n.event_id?n.event_id:(0,o.DM)();if(!this._client)return a.kg.warn("No client configured on scope - will not capture message!"),r;let i=Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureEvent(e,t){let n=t&&t.event_id?t.event_id:(0,o.DM)();return this._client?this._client.captureEvent(e,{...t,event_id:n},this):a.kg.warn("No client configured on scope - will not capture event!"),n}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function f(){return r||(r=new d),r}function p(){return{traceId:(0,o.DM)(),spanId:(0,o.DM)().substring(16)}}},9960:function(e,t,n){"use strict";n.d(t,{CT:function(){return a},Hv:function(){return o},RJ:function(){return u}});var r=n(6889),i=n(70220),s=n(26940);function o(e){let t=(0,r.ph)(),n={sid:(0,i.DM)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>(0,s.Jr)({sid:`${n.sid}`,init:n.init,started:new Date(1e3*n.started).toISOString(),timestamp:new Date(1e3*n.timestamp).toISOString(),status:n.status,errors:n.errors,did:"number"==typeof n.did||"string"==typeof n.did?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})};return e&&a(n,e),n}function a(e,t={}){if(!t.user||(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,r.ph)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,i.DM)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{let t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function u(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),a(e,n)}},38259:function(e,t,n){"use strict";n.d(t,{_:function(){return u},j:function(){return c}});var r=n(26940),i=n(16573),s=n(46169),o=n(39682),a=n(56232);function u(e,t,n){let s=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:a}=n&&n.getUser()||{},u=(0,r.Jr)({environment:s.environment||i.J,release:s.release,user_segment:a,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",u),u}function c(e){let t=(0,s.s3)();if(!t)return{};let n=u((0,a.XU)(e).trace_id||"",t,(0,s.nZ)()),r=(0,o.G)(e);if(!r)return n;let i=r&&r._frozenDynamicSamplingContext;if(i)return i;let{sampleRate:c,source:l}=r.metadata;null!=c&&(n.sample_rate=`${c}`);let d=(0,a.XU)(r);return l&&"url"!==l&&(n.transaction=d.description),n.sampled=String((0,a.Tt)(r)),t.emit&&t.emit("createDsc",n),n}},34594:function(e,t,n){"use strict";n.d(t,{gi:function(){return u},yo:function(){return c}});var r=n(26940),i=n(70220),s=n(38259),o=n(39682),a=n(56232);function u(e,t){let{fingerprint:n,span:u,breadcrumbs:c,sdkProcessingMetadata:l}=t;(function(e,t){let{extra:n,tags:i,user:s,contexts:o,level:a,transactionName:u}=t,c=(0,r.Jr)(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});let l=(0,r.Jr)(i);l&&Object.keys(l).length&&(e.tags={...l,...e.tags});let d=(0,r.Jr)(s);d&&Object.keys(d).length&&(e.user={...d,...e.user});let f=(0,r.Jr)(o);f&&Object.keys(f).length&&(e.contexts={...f,...e.contexts}),a&&(e.level=a),u&&(e.transaction=u)})(e,t),u&&function(e,t){e.contexts={trace:(0,a.wy)(t),...e.contexts};let n=(0,o.G)(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:(0,s.j)(t),...e.sdkProcessingMetadata};let r=(0,a.XU)(n).description;r&&(e.tags={transaction:r,...e.tags})}}(e,u),e.fingerprint=e.fingerprint?(0,i.lE)(e.fingerprint):[],n&&(e.fingerprint=e.fingerprint.concat(n)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint,function(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,c),e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...l}}function c(e,t){let{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:u,fingerprint:c,eventProcessors:d,attachments:f,propagationContext:p,transactionName:h,span:g}=t;l(e,"extra",n),l(e,"tags",r),l(e,"user",i),l(e,"contexts",s),l(e,"sdkProcessingMetadata",a),o&&(e.level=o),h&&(e.transactionName=h),g&&(e.span=g),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...p}}function l(e,t,n){if(n&&Object.keys(n).length)for(let r in e[t]={...e[t]},n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}},39682:function(e,t,n){"use strict";function r(e){return e.transaction}n.d(t,{G:function(){return r}})},2907:function(e,t,n){"use strict";n.d(t,{R:function(){return p},U0:function(){return g}});var r=n(70220),i=n(6889),s=n(72667),o=n(20831),a=n(65868),u=n(16573),c=n(29152),l=n(33373),d=n(34594),f=n(56232);function p(e,t,n,p,g,_){let{normalizeDepth:v=3,normalizeMaxBreadth:m=1e3}=e,y={...t,event_id:t.event_id||n.event_id||(0,r.DM)(),timestamp:t.timestamp||(0,i.yW)()},b=n.integrations||e.integrations.map(e=>e.name);(function(e,t){let{environment:n,release:r,dist:i,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:u.J),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=(0,s.$G)(e.message,o));let a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=(0,s.$G)(a.value,o));let c=e.request;c&&c.url&&(c.url=(0,s.$G)(c.url,o))})(y,e),b.length>0&&(y.sdk=y.sdk||{},y.sdk.integrations=[...y.sdk.integrations||[],...b]),void 0===t.type&&function(e,t){let n;let r=o.GLOBAL_OBJ._sentryDebugIds;if(!r)return;let i=h.get(t);i?n=i:(n=new Map,h.set(t,n));let s=Object.keys(r).reduce((e,i)=>{let s;let o=n.get(i);o?s=o:(s=t(i),n.set(i,s));for(let t=s.length-1;t>=0;t--){let n=s[t];if(n.filename){e[n.filename]=r[i];break}}return e},{});try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.filename&&(e.debug_id=s[e.filename])})})}catch(e){}}(y,e.stackParser);let k=function(e,t){if(!t)return e;let n=e?e.clone():new l.sX;return n.update(t),n}(p,n.captureContext);n.mechanism&&(0,r.EG)(y,n.mechanism);let w=g&&g.getEventProcessors?g.getEventProcessors():[],S=(0,l.lW)().getScopeData();if(_){let e=_.getScopeData();(0,d.yo)(S,e)}if(k){let e=k.getScopeData();(0,d.yo)(S,e)}let E=[...n.attachments||[],...S.attachments];E.length&&(n.attachments=E),(0,d.gi)(y,S);let x=[...w,...(0,c.fH)(),...S.eventProcessors];return(0,c.RP)(x,y,n).then(e=>(e&&function(e){let t={};try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})})}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.keys(t).forEach(e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})})}(e),"number"==typeof v&&v>0)?function(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:(0,a.Fv)(e.data,t,n)}}))},...e.user&&{user:(0,a.Fv)(e.user,t,n)},...e.contexts&&{contexts:(0,a.Fv)(e.contexts,t,n)},...e.extra&&{extra:(0,a.Fv)(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=(0,a.Fv)(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(e=>{let r=(0,f.XU)(e).data;return r&&(e.data=(0,a.Fv)(r,t,n)),e})),r}(e,v,m):e)}let h=new WeakMap;function g(e){return e?e instanceof l.sX||"function"==typeof e||Object.keys(e).some(e=>_.includes(e))?{captureContext:e}:e:void 0}let _=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"]},56232:function(e,t,n){"use strict";n.d(t,{$k:function(){return l},Hb:function(){return c},Tt:function(){return p},XU:function(){return f},i0:function(){return a},ve:function(){return o},wy:function(){return u}});var r=n(26940),i=n(35589),s=n(6889);let o=0,a=1;function u(e){let{spanId:t,traceId:n}=e.spanContext(),{data:i,op:s,parent_span_id:o,status:a,tags:u,origin:c}=f(e);return(0,r.Jr)({data:i,op:s,parent_span_id:o,span_id:t,status:a,tags:u,trace_id:n,origin:c})}function c(e){let{traceId:t,spanId:n}=e.spanContext(),r=p(e);return(0,i.$p)(t,n,r)}function l(e){return"number"==typeof e?d(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?d(e.getTime()):(0,s.ph)()}function d(e){return e>9999999999?e/1e3:e}function f(e){return"function"==typeof e.getSpanJSON?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function p(e){let{traceFlags:t}=e.spanContext();return!!(t&a)}},17407:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});let r="7.114.0"},63984:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});let r=!1},49361:function(e,t,n){"use strict";n.d(t,{EN:function(){return c},IQ:function(){return l},bU:function(){return o}});var r=n(21075),i=n(96743),s=n(53640);let o="baggage",a="sentry-",u=/^sentry-/;function c(e){if(!(0,i.HD)(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((e,t)=>{let n=d(t);for(let t of Object.keys(n))e[t]=n[t];return e},{});else{if(!e)return;t=d(e)}let n=Object.entries(t).reduce((e,[t,n])=>(t.match(u)&&(e[t.slice(a.length)]=n),e),{});return Object.keys(n).length>0?n:void 0}function l(e){if(e)return function(e){if(0!==Object.keys(e).length)return Object.entries(e).reduce((e,[t,n],i)=>{let o=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,a=0===i?o:`${e},${o}`;return a.length>8192?(r.X&&s.kg.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):a},"")}(Object.entries(e).reduce((e,[t,n])=>(n&&(e[`${a}${t}`]=n),e),{}))}function d(e){return e.split(",").map(e=>e.split("=").map(e=>decodeURIComponent(e.trim()))).reduce((e,[t,n])=>(e[t]=n,e),{})}},16482:function(e,t,n){"use strict";n.d(t,{Rt:function(){return s},iY:function(){return u},l4:function(){return o},qT:function(){return a}});var r=n(96743);let i=(0,n(20831).R)();function s(e,t={}){if(!e)return"<unknown>";try{let n,s=e,o=[],a=0,u=0,c=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||80;for(;s&&a++<5&&(n=function(e,t){let n,s,o,a,u;let c=[];if(!e||!e.tagName)return"";if(i.HTMLElement&&e instanceof HTMLElement&&e.dataset&&e.dataset.sentryComponent)return e.dataset.sentryComponent;c.push(e.tagName.toLowerCase());let l=t&&t.length?t.filter(t=>e.getAttribute(t)).map(t=>[t,e.getAttribute(t)]):null;if(l&&l.length)l.forEach(e=>{c.push(`[${e[0]}="${e[1]}"]`)});else if(e.id&&c.push(`#${e.id}`),(n=e.className)&&(0,r.HD)(n))for(u=0,s=n.split(/\s+/);u<s.length;u++)c.push(`.${s[u]}`);let d=["aria-label","type","name","title","alt"];for(u=0;u<d.length;u++)o=d[u],(a=e.getAttribute(o))&&c.push(`[${o}="${a}"]`);return c.join("")}(s,c),"html"!==n&&(!(a>1)||!(u+3*o.length+n.length>=l)));)o.push(n),u+=n.length,s=s.parentNode;return o.reverse().join(" > ")}catch(e){return"<unknown>"}}function o(){try{return i.document.location.href}catch(e){return""}}function a(e){return i.document&&i.document.querySelector?i.document.querySelector(e):null}function u(e){if(!i.HTMLElement)return null;let t=e;for(let e=0;e<5&&t;e++){if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}},21075:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});let r=!1},96743:function(e,t,n){"use strict";n.d(t,{Cy:function(){return v},HD:function(){return c},J8:function(){return _},Kj:function(){return g},Le:function(){return l},PO:function(){return f},TX:function(){return a},V9:function(){return y},VW:function(){return o},VZ:function(){return i},cO:function(){return p},fm:function(){return u},i2:function(){return m},kK:function(){return h},pt:function(){return d},y1:function(){return b}});let r=Object.prototype.toString;function i(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(e,Error)}}function s(e,t){return r.call(e)===`[object ${t}]`}function o(e){return s(e,"ErrorEvent")}function a(e){return s(e,"DOMError")}function u(e){return s(e,"DOMException")}function c(e){return s(e,"String")}function l(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function d(e){return null===e||l(e)||"object"!=typeof e&&"function"!=typeof e}function f(e){return s(e,"Object")}function p(e){return"undefined"!=typeof Event&&y(e,Event)}function h(e){return"undefined"!=typeof Element&&y(e,Element)}function g(e){return s(e,"RegExp")}function _(e){return!!(e&&e.then&&"function"==typeof e.then)}function v(e){return f(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function m(e){return"number"==typeof e&&e!=e}function y(e,t){try{return e instanceof t}catch(e){return!1}}function b(e){return!!("object"==typeof e&&null!==e&&(e.__isVue||e._isVue))}},53640:function(e,t,n){"use strict";n.d(t,{Cf:function(){return a},LD:function(){return o},RU:function(){return s},kg:function(){return u}});var r=n(21075),i=n(20831);let s=["debug","info","warn","error","log","assert","trace"],o={};function a(e){if(!("console"in i.GLOBAL_OBJ))return e();let t=i.GLOBAL_OBJ.console,n={},r=Object.keys(o);r.forEach(e=>{let r=o[e];n[e]=t[e],t[e]=r});try{return e()}finally{r.forEach(e=>{t[e]=n[e]})}}let u=function(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return r.X?s.forEach(n=>{t[n]=(...t)=>{e&&a(()=>{i.GLOBAL_OBJ.console[n](`Sentry Logger [${n}]:`,...t)})}}):s.forEach(e=>{t[e]=()=>void 0}),t}()},70220:function(e,t,n){"use strict";n.d(t,{DM:function(){return s},Db:function(){return u},EG:function(){return c},YO:function(){return l},jH:function(){return a},lE:function(){return d}});var r=n(26940),i=n(20831);function s(){let e=i.GLOBAL_OBJ,t=e.crypto||e.msCrypto,n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{let e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return"10000000100040008000100000000000".replace(/[018]/g,e=>(e^(15&n())>>e/4).toString(16))}function o(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function a(e){let{message:t,event_id:n}=e;if(t)return t;let r=o(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function u(e,t,n){let r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function c(e,t){let n=o(e);if(!n)return;let r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){let e={...r&&r.data,...t.data};n.mechanism.data=e}}function l(e){if(e&&e.__sentry_captured__)return!0;try{(0,r.xp)(e,"__sentry_captured__",!0)}catch(e){}return!1}function d(e){return Array.isArray(e)?e:[e]}},65868:function(e,t,n){"use strict";n.d(t,{Fv:function(){return o},Qy:function(){return function e(t,n=3,r=102400){let i=o(t,n);return~-encodeURI(JSON.stringify(i)).split(/%..|./).length>r?e(t,n-1,r):i}}});var r=n(96743),i=n(26940),s=n(74667);function o(e,t=100,o=Infinity){try{return function e(t,o,a=Infinity,u=Infinity,c=function(){let e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){let[l,d]=c;if(null==o||["number","boolean","string"].includes(typeof o)&&!(0,r.i2)(o))return o;let f=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==n.g&&t===n.g)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if((0,r.y1)(t))return"[VueViewModel]";if((0,r.Cy)(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${(0,s.$P)(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;let i=function(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);if(/^HTML(\w*)Element$/.test(i))return`[HTMLElement: ${i}]`;return`[object ${i}]`}catch(e){return`**non-serializable** (${e})`}}(t,o);if(!f.startsWith("[object "))return f;if(o.__sentry_skip_normalization__)return o;let p="number"==typeof o.__sentry_override_normalization_depth__?o.__sentry_override_normalization_depth__:a;if(0===p)return f.replace("object ","");if(l(o))return"[Circular ~]";if(o&&"function"==typeof o.toJSON)try{let t=o.toJSON();return e("",t,p-1,u,c)}catch(e){}let h=Array.isArray(o)?[]:{},g=0,_=(0,i.Sh)(o);for(let t in _){if(!Object.prototype.hasOwnProperty.call(_,t))continue;if(g>=u){h[t]="[MaxProperties ~]";break}let n=_[t];h[t]=e(t,n,p-1,u,c),g++}return d(o),h}("",e,t,o)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}},26940:function(e,t,n){"use strict";n.d(t,{$Q:function(){return l},HK:function(){return d},Jr:function(){return v},Sh:function(){return p},_j:function(){return f},hl:function(){return u},xp:function(){return c},zf:function(){return _}});var r=n(16482),i=n(21075),s=n(96743),o=n(53640),a=n(72667);function u(e,t,n){if(!(t in e))return;let r=e[t],i=n(r);"function"==typeof i&&l(i,r),e[t]=i}function c(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){i.X&&o.kg.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function l(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,c(e,"__sentry_original__",t)}catch(e){}}function d(e){return e.__sentry_original__}function f(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function p(e){if((0,s.VZ)(e))return{message:e.message,name:e.name,stack:e.stack,...g(e)};if(!(0,s.cO)(e))return e;{let t={type:e.type,target:h(e.target),currentTarget:h(e.currentTarget),...g(e)};return"undefined"!=typeof CustomEvent&&(0,s.V9)(e,CustomEvent)&&(t.detail=e.detail),t}}function h(e){try{return(0,s.kK)(e)?(0,r.Rt)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function g(e){if("object"!=typeof e||null===e)return{};{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}}function _(e,t=40){let n=Object.keys(p(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,a.$G)(n[0],t);for(let e=n.length;e>0;e--){let r=n.slice(0,e).join(", ");if(!(r.length>t)){if(e===n.length)return r;return(0,a.$G)(r,t)}}return""}function v(e){return function e(t,n){if(function(e){if(!(0,s.PO)(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(t)){let r=n.get(t);if(void 0!==r)return r;let i={};for(let r of(n.set(t,i),Object.keys(t)))void 0!==t[r]&&(i[r]=e(t[r],n));return i}if(Array.isArray(t)){let r=n.get(t);if(void 0!==r)return r;let i=[];return n.set(t,i),t.forEach(t=>{i.push(e(t,n))}),i}return t}(e,new Map)}},74667:function(e,t,n){"use strict";n.d(t,{$P:function(){return u},Sq:function(){return o},pE:function(){return s}});let r=/\(error: (.*)\)/,i=/captureMessage|captureException/;function s(...e){let t=e.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return(e,n=0)=>{let s=[],o=e.split("\n");for(let e=n;e<o.length;e++){let n=o[e];if(n.length>1024)continue;let i=r.test(n)?n.replace(r,"$1"):n;if(!i.match(/\S*Error: /)){for(let e of t){let t=e(i);if(t){s.push(t);break}}if(s.length>=50)break}}return function(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),i.test(t[t.length-1].function||"")&&(t.pop(),i.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,50).map(e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"}))}(s)}}function o(e){return Array.isArray(e)?s(...e):e}let a="<anonymous>";function u(e){try{if(!e||"function"!=typeof e)return a;return e.name||a}catch(e){return a}}},72667:function(e,t,n){"use strict";n.d(t,{$G:function(){return i},U0:function(){return o},nK:function(){return s}});var r=n(96743);function i(e,t=0){return"string"!=typeof e||0===t?e:e.length<=t?e:`${e.slice(0,t)}...`}function s(e,t){if(!Array.isArray(e))return"";let n=[];for(let t=0;t<e.length;t++){let i=e[t];try{(0,r.y1)(i)?n.push("[VueViewModel]"):n.push(String(i))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function o(e,t=[],n=!1){return t.some(t=>(function(e,t,n=!1){return!!(0,r.HD)(e)&&((0,r.Kj)(t)?t.test(e):!!(0,r.HD)(t)&&(n?e===t:e.includes(t)))})(e,t,n))}},12895:function(e,t,n){"use strict";n.d(t,{$2:function(){return a},WD:function(){return o},cW:function(){return u}});var r,i,s=n(96743);function o(e){return new u(t=>{t(e)})}function a(e){return new u((t,n)=>{n(e)})}(r=i||(i={}))[r.PENDING=0]="PENDING",r[r.RESOLVED=1]="RESOLVED",r[r.REJECTED=2]="REJECTED";class u{constructor(e){u.prototype.__init.call(this),u.prototype.__init2.call(this),u.prototype.__init3.call(this),u.prototype.__init4.call(this),this._state=i.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new u((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new u((t,n)=>{let r,i;return this.then(t=>{i=!1,r=t,e&&e()},t=>{i=!0,r=t,e&&e()}).then(()=>{if(i){n(r);return}t(r)})})}__init(){this._resolve=e=>{this._setResult(i.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(i.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{if(this._state===i.PENDING){if((0,s.J8)(t)){t.then(this._resolve,this._reject);return}this._state=e,this._value=t,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===i.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(this._state===i.RESOLVED&&e[1](this._value),this._state===i.REJECTED&&e[2](this._value),e[0]=!0)})}}}},6889:function(e,t,n){"use strict";n.d(t,{Z1:function(){return o},ph:function(){return s},yW:function(){return i}});var r=n(20831);function i(){return Date.now()/1e3}let s=function(){let{performance:e}=r.GLOBAL_OBJ;if(!e||!e.now)return i;let t=Date.now()-e.now(),n=void 0==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}(),o=(()=>{let{performance:e}=r.GLOBAL_OBJ;if(!e||!e.now)return;let t=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+t-n):36e5,s=e.timing&&e.timing.navigationStart,o="number"==typeof s?Math.abs(s+t-n):36e5;return i<36e5||o<36e5?i<=o?e.timeOrigin:s:n})()},35589:function(e,t,n){"use strict";n.d(t,{$p:function(){return c},KA:function(){return a},pT:function(){return u}});var r=n(49361),i=n(70220);let s=RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function o(e){let t;if(!e)return;let n=e.match(s);if(n)return"1"===n[3]?t=!0:"0"===n[3]&&(t=!1),{traceId:n[1],parentSampled:t,parentSpanId:n[2]}}function a(e,t){let n=o(e),s=(0,r.EN)(t),{traceId:a,parentSpanId:u,parentSampled:c}=n||{};return n?{traceparentData:n,dynamicSamplingContext:s||{},propagationContext:{traceId:a||(0,i.DM)(),parentSpanId:u||(0,i.DM)().substring(16),spanId:(0,i.DM)().substring(16),sampled:c,dsc:s||{}}}:{traceparentData:n,dynamicSamplingContext:void 0,propagationContext:{traceId:a||(0,i.DM)(),spanId:(0,i.DM)().substring(16)}}}function u(e,t){let n=o(e),s=(0,r.EN)(t),{traceId:a,parentSpanId:u,parentSampled:c}=n||{};return n?{traceId:a||(0,i.DM)(),parentSpanId:u||(0,i.DM)().substring(16),spanId:(0,i.DM)().substring(16),sampled:c,dsc:s||{}}:{traceId:a||(0,i.DM)(),spanId:(0,i.DM)().substring(16)}}function c(e=(0,i.DM)(),t=(0,i.DM)().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}},20831:function(e,t,n){"use strict";function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{GLOBAL_OBJ:function(){return i},R:function(){return s},Y:function(){return o}});let i="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function s(){return i}function o(e,t,n){let r=n||i,s=r.__SENTRY__=r.__SENTRY__||{};return s[e]||(s[e]=t())}},42791:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(31729)}])},68702:function(e,t,n){"use strict";let r,i,s,o,a,u,c,l,d,f,p,h,g,_,v,m,y;var b,k,w,S={};n.r(S),n.d(S,{FunctionToString:function(){return B},InboundFilters:function(){return J},LinkedErrors:function(){return et}});var E={};n.r(E),n.d(E,{Breadcrumbs:function(){return te},Dedupe:function(){return tc},GlobalHandlers:function(){return eI},HttpContext:function(){return to},LinkedErrors:function(){return tr},TryCatch:function(){return eM}});var x=n(17407);function T(e,t,n=[t],r="npm"){let i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(e=>({name:`${r}:@sentry/${e}`,version:x.J})),version:x.J}),e._metadata=i}var R=n(26940),O=n(46169),P=n(70220),I=n(53640),C=n(72181),A=n(29152),$=n(57070);let L=[];function F(e,t){for(let n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function M(e,t,n){if(n[t.name]){C.X&&I.kg.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,-1===L.indexOf(t.name)&&(t.setupOnce(A.cc,$.Gd),L.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){let n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,r)=>n(t,r,e))}if(e.addEventProcessor&&"function"==typeof t.processEvent){let n=t.processEvent.bind(t),r=Object.assign((t,r)=>n(t,r,e),{id:t.name});e.addEventProcessor(r)}C.X&&I.kg.log(`Integration installed: ${t.name}`)}function j(e,t){return Object.assign(function(...e){return t(...e)},{id:e})}let D="FunctionToString",N=new WeakMap,q=()=>({name:D,setupOnce(){r=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=(0,R.HK)(this),n=N.has((0,O.s3)())&&void 0!==t?t:this;return r.apply(n,e)}}catch(e){}},setup(e){N.set(e,!0)}}),B=j(D,q);var H=n(72667);let U=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],G=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],X="InboundFilters",W=(e={})=>({name:X,setupOnce(){},processEvent:(t,n,r)=>{var i,s;return((i=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:U],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:G],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,r.getOptions())).ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(t)?(C.X&&I.kg.warn(`Event dropped due to being internal Sentry Error.
Event: ${(0,P.jH)(t)}`),0):(s=i.ignoreErrors,!t.type&&s&&s.length&&(function(e){let t;let n=[];e.message&&n.push(e.message);try{t=e.exception.values[e.exception.values.length-1]}catch(e){}return t&&t.value&&(n.push(t.value),t.type&&n.push(`${t.type}: ${t.value}`)),C.X&&0===n.length&&I.kg.error(`Could not extract message for event ${(0,P.jH)(e)}`),n})(t).some(e=>(0,H.U0)(e,s)))?(C.X&&I.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,P.jH)(t)}`),0):!function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;let n=e.transaction;return!!n&&(0,H.U0)(n,t)}(t,i.ignoreTransactions)?!function(e,t){if(!t||!t.length)return!1;let n=V(e);return!!n&&(0,H.U0)(n,t)}(t,i.denyUrls)?function(e,t){if(!t||!t.length)return!0;let n=V(e);return!n||(0,H.U0)(n,t)}(t,i.allowUrls)||(C.X&&I.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,P.jH)(t)}.
Url: ${V(t)}`),0):(C.X&&I.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,P.jH)(t)}.
Url: ${V(t)}`),0):(C.X&&I.kg.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${(0,P.jH)(t)}`),0))?t:null}}),J=j(X,W);function V(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return C.X&&I.kg.error(`Cannot extract url for event ${(0,P.jH)(e)}`),null}}var z=n(96743);function Y(e,t,n=250,r,i,s,o){if(!s.exception||!s.exception.values||!o||!(0,z.V9)(o.originalException,Error))return;let a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=(function e(t,n,r,i,s,o,a,u){if(o.length>=r+1)return o;let c=[...o];if((0,z.V9)(i[s],Error)){Z(a,u);let o=t(n,i[s]),l=c.length;K(o,s,l,u),c=e(t,n,r,i[s],s,[o,...c],o,l)}return Array.isArray(i.errors)&&i.errors.forEach((i,o)=>{if((0,z.V9)(i,Error)){Z(a,u);let l=t(n,i),d=c.length;K(l,`errors[${o}]`,d,u),c=e(t,n,r,i,s,[l,...c],l,d)}}),c})(e,t,i,o.originalException,r,s.exception.values,a,0).map(e=>(e.value&&(e.value=(0,H.$G)(e.value,n)),e)))}function Z(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function K(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Q(e,t){let n={type:t.name||t.constructor.name,value:t.message},r=e(t.stack||"",1);return r.length&&(n.stacktrace={frames:r}),n}let ee="LinkedErrors",et=j(ee,(e={})=>{let t=e.limit||5,n=e.key||"cause";return{name:ee,setupOnce(){},preprocessEvent(e,r,i){let s=i.getOptions();Y(Q,s.stackParser,s.maxValueLength,n,t,e,r)}}});var en=n(20831);let er=en.GLOBAL_OBJ,ei=0;function es(e,t={},n){if("function"!=typeof e)return e;try{let t=e.__sentry_wrapped__;if(t)return t;if((0,R.HK)(e))return e}catch(t){return e}let r=function(){let r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);let i=r.map(e=>es(e,t));return e.apply(this,i)}catch(e){throw ei++,setTimeout(()=>{ei--}),(0,O.$e)(n=>{n.addEventProcessor(e=>(t.mechanism&&((0,P.Db)(e,void 0,void 0),(0,P.EG)(e,t.mechanism)),e.extra={...e.extra,arguments:r},e)),(0,O.Tb)(e)}),e}};try{for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}(0,R.$Q)(r,e),(0,R.xp)(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}var eo=n(21075),ea=n(74667);let eu={},ec={};function el(e,t){eu[e]=eu[e]||[],eu[e].push(t)}function ed(e,t){ec[e]||(t(),ec[e]=!0)}function ef(e,t){let n=e&&eu[e];if(n)for(let r of n)try{r(t)}catch(t){eo.X&&I.kg.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${(0,ea.$P)(r)}
Error:`,t)}}let ep=null;function eh(e){let t="error";el(t,e),ed(t,eg)}function eg(){ep=en.GLOBAL_OBJ.onerror,en.GLOBAL_OBJ.onerror=function(e,t,n,r,i){return ef("error",{column:r,error:i,line:n,msg:e,url:t}),!!ep&&!ep.__SENTRY_LOADER__&&ep.apply(this,arguments)},en.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}let e_=null;function ev(e){let t="unhandledrejection";el(t,e),ed(t,em)}function em(){e_=en.GLOBAL_OBJ.onunhandledrejection,en.GLOBAL_OBJ.onunhandledrejection=function(e){return ef("unhandledrejection",e),!e_||!!e_.__SENTRY_LOADER__||e_.apply(this,arguments)},en.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var ey=n(16482),eb=n(65868),ek=n(12895);function ew(e,t){let n=eE(e,t),r={type:t&&t.name,value:function(e){let t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function eS(e,t){return{exception:{values:[ew(e,t)]}}}function eE(e,t){let n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(ex.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}let ex=/Minified React error #\d+;/i;function eT(e,t,n,r,i){let s;if((0,z.VW)(t)&&t.error)return eS(e,t.error);if((0,z.TX)(t)||(0,z.fm)(t)){if("stack"in t)s=eS(e,t);else{let i=t.name||((0,z.TX)(t)?"DOMError":"DOMException"),o=t.message?`${i}: ${t.message}`:i;s=eR(e,o,n,r),(0,P.Db)(s,o)}return"code"in t&&(s.tags={...s.tags,"DOMException.code":`${t.code}`}),s}return(0,z.VZ)(t)?eS(e,t):((0,z.PO)(t)||(0,z.cO)(t)?s=function(e,t,n,r){let i=(0,O.s3)(),s=i&&i.getOptions().normalizeDepth,o={exception:{values:[{type:(0,z.cO)(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:function(e,{isUnhandledRejection:t}){let n=(0,R.zf)(e),r=t?"promise rejection":"exception";if((0,z.VW)(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if((0,z.cO)(e)){let t=function(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e);return`Event \`${t}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}(t,{isUnhandledRejection:r})}]},extra:{__serialized__:(0,eb.Qy)(t,s)}};if(n){let t=eE(e,n);t.length&&(o.exception.values[0].stacktrace={frames:t})}return o}(e,t,n,i):(s=eR(e,t,n,r),(0,P.Db)(s,`${t}`,void 0)),(0,P.EG)(s,{synthetic:!0}),s)}function eR(e,t,n,r){let i={};if(r&&n){let r=eE(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]})}if((0,z.Le)(t)){let{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}let eO="GlobalHandlers",eP=(e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:eO,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&eh(t=>{let{stackParser:n,attachStacktrace:r}=eA();if((0,O.s3)()!==e||ei>0)return;let{msg:i,url:s,line:o,column:a,error:u}=t,c=void 0===u&&(0,z.HD)(i)?function(e,t,n,r){let i=(0,z.VW)(e)?e.message:e,s="Error",o=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return o&&(s=o[1],i=o[2]),eC({exception:{values:[{type:s,value:i}]}},t,n,r)}(i,s,o,a):eC(eT(n,u||i,void 0,r,!1),s,o,a);c.level="error",(0,O.eN)(c,{originalException:u,mechanism:{handled:!1,type:"onerror"}})}),t.onunhandledrejection&&ev(t=>{let{stackParser:n,attachStacktrace:r}=eA();if((0,O.s3)()!==e||ei>0)return;let i=function(e){if((0,z.pt)(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(e){}return e}(t),s=(0,z.pt)(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:eT(n,i,void 0,r,!0);s.level="error",(0,O.eN)(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}}},eI=j(eO,eP);function eC(e,t,n,r){let i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},u=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,d=(0,z.HD)(t)&&t.length>0?t:(0,ey.l4)();return 0===u.length&&u.push({colno:c,filename:d,function:"?",in_app:!0,lineno:l}),e}function eA(){let e=(0,O.s3)();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}let e$=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],eL="TryCatch",eF=(e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:eL,setupOnce(){t.setTimeout&&(0,R.hl)(er,"setTimeout",ej),t.setInterval&&(0,R.hl)(er,"setInterval",ej),t.requestAnimationFrame&&(0,R.hl)(er,"requestAnimationFrame",eD),t.XMLHttpRequest&&"XMLHttpRequest"in er&&(0,R.hl)(XMLHttpRequest.prototype,"send",eN);let e=t.eventTarget;e&&(Array.isArray(e)?e:e$).forEach(eq)}}},eM=j(eL,eF);function ej(e){return function(...t){let n=t[0];return t[0]=es(n,{mechanism:{data:{function:(0,ea.$P)(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function eD(e){return function(t){return e.apply(this,[es(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,ea.$P)(e)},handled:!1,type:"instrument"}})])}}function eN(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in n&&"function"==typeof n[e]&&(0,R.hl)(n,e,function(t){let n={mechanism:{data:{function:e,handler:(0,ea.$P)(t)},handled:!1,type:"instrument"}},r=(0,R.HK)(t);return r&&(n.mechanism.data.handler=(0,ea.$P)(r)),es(t,n)})}),e.apply(this,t)}}function eq(e){let t=er[e]&&er[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&((0,R.hl)(t,"addEventListener",function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=es(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,ea.$P)(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,es(r,{mechanism:{data:{function:"addEventListener",handler:(0,ea.$P)(r),target:e},handled:!1,type:"instrument"}}),i])}}),(0,R.hl)(t,"removeEventListener",function(e){return function(t,n,r){try{let i=n&&n.__sentry_wrapped__;i&&e.call(this,t,i,r)}catch(e){}return e.call(this,t,n,r)}}))}function eB(){"console"in en.GLOBAL_OBJ&&I.RU.forEach(function(e){e in en.GLOBAL_OBJ.console&&(0,R.hl)(en.GLOBAL_OBJ.console,e,function(t){return I.LD[e]=t,function(...t){ef("console",{args:t,level:e});let n=I.LD[e];n&&n.apply(en.GLOBAL_OBJ.console,t)}})})}let eH=en.GLOBAL_OBJ;function eU(){if(!eH.document)return;let e=ef.bind(null,"dom"),t=eG(e,!0);eH.document.addEventListener("click",t,!1),eH.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{let n=eH[t]&&eH[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,R.hl)(n,"addEventListener",function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{let r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},s=r[n]=r[n]||{refCount:0};if(!s.handler){let r=eG(e);s.handler=r,t.call(this,n,r,i)}s.refCount++}catch(e){}return t.call(this,n,r,i)}}),(0,R.hl)(n,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{let n=this.__sentry_instrumentation_handlers__||{},i=n[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}}))})}function eG(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=function(e){try{return e.target}catch(e){return null}}(n);if("keypress"===n.type&&(!r||!r.tagName||"INPUT"!==r.tagName&&"TEXTAREA"!==r.tagName&&!r.isContentEditable))return;(0,R.xp)(n,"_sentryCaptured",!0),r&&!r._sentryId&&(0,R.xp)(r,"_sentryId",(0,P.DM)());let a="keypress"===n.type?"input":n.type;!function(e){if(e.type!==s)return!1;try{if(!e.target||e.target._sentryId!==o)return!1}catch(e){}return!0}(n)&&(e({event:n,name:a,global:t}),s=n.type,o=r?r._sentryId:void 0),clearTimeout(i),i=eH.setTimeout(()=>{o=void 0,s=void 0},1e3)}}let eX=en.GLOBAL_OBJ,eW="__sentry_xhr_v3__";function eJ(e){el("xhr",e),ed("xhr",eV)}function eV(){if(!eX.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;(0,R.hl)(e,"open",function(e){return function(...t){let n=Date.now(),r=(0,z.HD)(t[0])?t[0].toUpperCase():void 0,i=function(e){if((0,z.HD)(e))return e;try{return e.toString()}catch(e){}}(t[1]);if(!r||!i)return e.apply(this,t);this[eW]={method:r,url:i,request_headers:{}},"POST"===r&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let s=()=>{let e=this[eW];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}ef("xhr",{args:[r,i],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?(0,R.hl)(this,"onreadystatechange",function(e){return function(...t){return s(),e.apply(this,t)}}):this.addEventListener("readystatechange",s),(0,R.hl)(this,"setRequestHeader",function(e){return function(...t){let[n,r]=t,i=this[eW];return i&&(0,z.HD)(n)&&(0,z.HD)(r)&&(i.request_headers[n.toLowerCase()]=r),e.apply(this,t)}}),e.apply(this,t)}}),(0,R.hl)(e,"send",function(e){return function(...t){let n=this[eW];return n&&(void 0!==t[0]&&(n.body=t[0]),ef("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this})),e.apply(this,t)}})}let ez=(0,en.R)();function eY(){if(!("fetch"in ez))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function eZ(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function eK(e){let t="fetch";el(t,e),ed(t,eQ)}function eQ(){(function(){if("string"==typeof EdgeRuntime)return!0;if(!eY())return!1;if(eZ(ez.fetch))return!0;let e=!1,t=ez.document;if(t&&"function"==typeof t.createElement)try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=eZ(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){eo.X&&I.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e})()&&(0,R.hl)(en.GLOBAL_OBJ,"fetch",function(e){return function(...t){let{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){let[t,n]=e;return{url:e1(t),method:e0(n,"method")?String(n.method).toUpperCase():"GET"}}let t=e[0];return{url:e1(t),method:e0(t,"method")?String(t.method).toUpperCase():"GET"}}(t),i={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return ef("fetch",{...i}),e.apply(en.GLOBAL_OBJ,t).then(e=>(ef("fetch",{...i,endTimestamp:Date.now(),response:e}),e),e=>{throw ef("fetch",{...i,endTimestamp:Date.now(),error:e}),e})}})}function e0(e,t){return!!e&&"object"==typeof e&&!!e[t]}function e1(e){return"string"==typeof e?e:e?e0(e,"url")?e.url:e.toString?e.toString():"":""}let e2=(0,en.R)(),e3=en.GLOBAL_OBJ;function e4(e){let t="history";el(t,e),ed(t,e5)}function e5(){if(!function(){let e=e2.chrome,t=e&&e.app&&e.app.runtime,n="history"in e2&&!!e2.history.pushState&&!!e2.history.replaceState;return!t&&n}())return;let e=e3.onpopstate;function t(e){return function(...t){let n=t.length>2?t[2]:void 0;if(n){let e=a,t=String(n);a=t,ef("history",{from:e,to:t})}return e.apply(this,t)}}e3.onpopstate=function(...t){let n=e3.location.href,r=a;if(a=n,ef("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},(0,R.hl)(e3.history,"pushState",t),(0,R.hl)(e3.history,"replaceState",t)}let e6=["fatal","error","warning","log","info","debug"];function e8(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}let e7="Breadcrumbs",e9=(e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:e7,setupOnce(){},setup(e){var n;t.console&&function(e){let t="console";el(t,e),ed(t,eB)}(function(t){var n;if((0,O.s3)()!==e)return;let r={category:"console",data:{arguments:t.args,logger:"console"},level:"warn"===(n=t.level)?"warning":e6.includes(n)?n:"log",message:(0,H.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;r.message=`Assertion failed: ${(0,H.nK)(t.args.slice(1)," ")||"console.assert"}`,r.data.arguments=t.args.slice(1)}(0,O.n_)(r,{input:t.args,level:t.level})}),t.dom&&(el("dom",(n=t.dom,function(t){let r,i;if((0,O.s3)()!==e)return;let s="object"==typeof n?n.serializeAttribute:void 0,o="object"==typeof n&&"number"==typeof n.maxStringLength?n.maxStringLength:void 0;o&&o>1024&&(o=1024),"string"==typeof s&&(s=[s]);try{let e=t.event,n=e&&e.target?e.target:e;r=(0,ey.Rt)(n,{keyAttrs:s,maxStringLength:o}),i=(0,ey.iY)(n)}catch(e){r="<unknown>"}if(0===r.length)return;let a={category:`ui.${t.name}`,message:r};i&&(a.data={"ui.component_name":i}),(0,O.n_)(a,{event:t.event,name:t.name,global:t.global})})),ed("dom",eU)),t.xhr&&eJ(function(t){if((0,O.s3)()!==e)return;let{startTimestamp:n,endTimestamp:r}=t,i=t.xhr[eW];if(!n||!r||!i)return;let{method:s,url:o,status_code:a,body:u}=i,c={xhr:t.xhr,input:u,startTimestamp:n,endTimestamp:r};(0,O.n_)({category:"xhr",data:{method:s,url:o,status_code:a},type:"http"},c)}),t.fetch&&eK(function(t){if((0,O.s3)()!==e)return;let{startTimestamp:n,endTimestamp:r}=t;if(!(!r||t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method)){if(t.error){let e=t.fetchData,i={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r};(0,O.n_)({category:"fetch",data:e,level:"error",type:"http"},i)}else{let e=t.response,i={...t.fetchData,status_code:e&&e.status},s={input:t.args,response:e,startTimestamp:n,endTimestamp:r};(0,O.n_)({category:"fetch",data:i,type:"http"},s)}}}),t.history&&e4(function(t){if((0,O.s3)()!==e)return;let n=t.from,r=t.to,i=e8(er.location.href),s=n?e8(n):void 0,o=e8(r);s&&s.path||(s=i),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),i.protocol===s.protocol&&i.host===s.host&&(n=s.relative),(0,O.n_)({category:"navigation",data:{from:n,to:r}})}),t.sentry&&e.on&&e.on("beforeSendEvent",function(t){(0,O.s3)()===e&&(0,O.n_)({category:`sentry.${"transaction"===t.type?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:(0,P.jH)(t)},{event:t})})}}},te=j(e7,e9),tt="LinkedErrors",tn=(e={})=>{let t=e.limit||5,n=e.key||"cause";return{name:tt,setupOnce(){},preprocessEvent(e,r,i){let s=i.getOptions();Y(ew,s.stackParser,s.maxValueLength,n,t,e,r)}}},tr=j(tt,tn),ti="HttpContext",ts=()=>({name:ti,setupOnce(){},preprocessEvent(e){if(!er.navigator&&!er.location&&!er.document)return;let t=e.request&&e.request.url||er.location&&er.location.href,{referrer:n}=er.document||{},{userAgent:r}=er.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),to=j(ti,ts),ta="Dedupe",tu=()=>{let e;return{name:ta,setupOnce(){},processEvent(t){if(t.type)return t;try{var n;if((n=e)&&(function(e,t){let n=e.message,r=t.message;return!!((n||r)&&(!n||r)&&(n||!r)&&n===r&&td(e,t)&&tl(e,t))}(t,n)||function(e,t){let n=tf(t),r=tf(e);return!!(n&&r&&n.type===r.type&&n.value===r.value&&td(e,t)&&tl(e,t))}(t,n)))return null}catch(e){}return e=t}}},tc=j(ta,tu);function tl(e,t){let n=tp(e),r=tp(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let e=0;e<r.length;e++){let t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function td(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function tf(e){return e.exception&&e.exception.values&&e.exception.values[0]}function tp(e){let t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){}}let th={};er.Sentry&&er.Sentry.Integrations&&(th=er.Sentry.Integrations);let tg={...th,...S,...E},t_=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function tv(e,t=!1){let{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:u}=e;return`${a}://${u}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r?`${r}/`:r}${o}`}function tm(e){let t=t_.exec(e);if(!t){(0,I.Cf)(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,i="",s,o="",a]=t.slice(1),u="",c=a,l=c.split("/");if(l.length>1&&(u=l.slice(0,-1).join("/"),c=l.pop()),c){let e=c.match(/^\d+/);e&&(c=e[0])}return ty({host:s,pass:i,path:u,projectId:c,port:o,protocol:n,publicKey:r})}function ty(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function tb(e,t=[]){return[e,t]}function tk(e,t){for(let n of e[1]){let e=n[0].type;if(t(n,e))return!0}return!1}function tw(e,t){return(t||new TextEncoder).encode(e)}let tS={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function tE(e){if(!e||!e.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}class tx extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}var tT=n(9960),tR=n(38259),tO=n(2907);let tP="Not capturing exception because it's already been captured.";class tI{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=function(e){let t="string"==typeof e?tm(e):ty(e);if(t&&function(e){if(!eo.X)return!0;let{port:t,projectId:n,protocol:r}=e;return!["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(I.kg.error(`Invalid Sentry Dsn: ${t} missing`),!0))&&(n.match(/^\d+$/)?"http"===r||"https"===r?!(t&&isNaN(parseInt(t,10)))||(I.kg.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):(I.kg.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(I.kg.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1))}(t))return t}(e.dsn):C.X&&I.kg.warn("No DSN provided, client will not send events."),this._dsn){let t=function(e,t={}){let n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/?${(0,R._j)({sentry_key:e.publicKey,sentry_version:"7",...r&&{sentry_client:`${r.name}/${r.version}`}})}`}(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if((0,P.YO)(e)){C.X&&I.kg.log(tP);return}let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then(e=>this._captureEvent(e,t,n)).then(e=>{r=e})),r}captureMessage(e,t,n,r){let i=n&&n.event_id,s=(0,z.Le)(e)?e:String(e),o=(0,z.pt)(e)?this.eventFromMessage(s,t,n):this.eventFromException(e,n);return this._process(o.then(e=>this._captureEvent(e,n,r)).then(e=>{i=e})),i}captureEvent(e,t,n){if(t&&t.originalException&&(0,P.YO)(t.originalException)){C.X&&I.kg.log(tP);return}let r=t&&t.event_id,i=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,i||n).then(e=>{r=e})),r}captureSession(e){"string"!=typeof e.release?C.X&&I.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,tT.CT)(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then(n=>t.flush(e).then(e=>n&&e))):(0,ek.WD)(!0)}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return C.X&&I.kg.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){let t=this._integrations[e.name];M(this,e,this._integrations),t||F(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=function(e,t,n,r){var i;let s=tE(n),o=e.type&&"replay_event"!==e.type?e.type:"event";(i=n&&n.sdk)&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||i.name,e.sdk.version=e.sdk.version||i.version,e.sdk.integrations=[...e.sdk.integrations||[],...i.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...i.packages||[]]);let a=function(e,t,n,r){let i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:tv(r)},...i&&{trace:(0,R.Jr)({...i})}}}(e,s,r,t);return delete e.sdkProcessingMetadata,tb(a,[[{type:o},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(let e of t.attachments||[])n=function(e,t){let[n,r]=e;return[n,[...r,t]]}(n,function(e,t){let n="string"==typeof e.data?tw(e.data,t):e.data;return[(0,R.Jr)({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));let r=this._sendEnvelope(n);r&&r.then(t=>this.emit("afterSendEvent",e,t),null)}sendSession(e){let t=function(e,t,n,r){let i=tE(n);return tb({sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:tv(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){let n=`${e}:${t}`;C.X&&I.kg.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}captureAggregateMetrics(e){C.X&&I.kg.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);let t=function(e,t,n,r){let i={sent_at:new Date().toISOString()};return n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(i.dsn=tv(t)),tb(i,[function(e){let t=function(e){let t="";for(let n of e){let e=Object.entries(n.tags),r=e.length>0?`|#${e.map(([e,t])=>`${e}:${t}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}
`}return t}(e);return[{type:"statsd",length:t.length},t]}(e)])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach(e=>e(...t))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=function(e,t){let n={};return t.forEach(t=>{t&&M(e,t,n)}),n}(this,e),F(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,r=!1,i=t.exception&&t.exception.values;if(i)for(let e of(r=!0,i)){let t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}let s="ok"===e.status;(s&&0===e.errors||s&&n)&&((0,tT.CT)(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ek.cW(t=>{let n=0,r=setInterval(()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=(0,$.aF)()){let i=this.getOptions(),s=Object.keys(this._integrations);return!t.integrations&&s.length>0&&(t.integrations=s),this.emit("preprocessEvent",e,t),(0,tO.R)(i,e,t,n,this,r).then(e=>{if(null===e)return e;let t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){let{traceId:r,spanId:i,parentSpanId:s,dsc:o}=t;e.contexts={trace:{trace_id:r,span_id:i,parent_span_id:s},...e.contexts};let a=o||(0,tR._)(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e})}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then(e=>e.event_id,e=>{C.X&&("log"===e.logLevel?I.kg.log(e.message):I.kg.warn(e))})}_processEvent(e,t,n){let r=this.getOptions(),{sampleRate:i}=r,s=tA(e),o=tC(e),a=e.type||"error",u=`before send for type \`${a}\``;if(o&&"number"==typeof i&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),(0,ek.$2)(new tx(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));let c="replay_event"===a?"replay":a,l=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,l).then(n=>{if(null===n)throw this.recordDroppedEvent("event_processor",c,e),new tx("An event processor returned `null`, will not send event.","log");return t.data&&!0===t.data.__sentry__?n:function(e,t){let n=`${t} must return \`null\` or a valid event.`;if((0,z.J8)(e))return e.then(e=>{if(!(0,z.PO)(e)&&null!==e)throw new tx(n);return e},e=>{throw new tx(`${t} rejected with ${e}`)});if(!(0,z.PO)(e)&&null!==e)throw new tx(n);return e}(function(e,t,n){let{beforeSend:r,beforeSendTransaction:i}=e;return tC(t)&&r?r(t,n):tA(t)&&i?i(t,n):t}(r,n,t),u)}).then(r=>{if(null===r)throw this.recordDroppedEvent("before_send",c,e),new tx(`${u} returned \`null\`, will not send event.`,"log");let i=n&&n.getSession();!s&&i&&this._updateSessionFromEvent(i,r);let o=r.transaction_info;return s&&o&&r.transaction!==e.transaction&&(r.transaction_info={...o,source:"custom"}),this.sendEvent(r,t),r}).then(null,e=>{if(e instanceof tx)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new tx(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${e}`)})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,e=>{C.X&&I.kg.error("Error while sending event:",e)});C.X&&I.kg.error("Transport disabled")}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.keys(e).map(t=>{let[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}})}}function tC(e){return void 0===e.type}function tA(e){return"transaction"===e.type}var t$=n(6889);class tL extends tI{constructor(e){T(e,"browser",["browser"],er.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&er.document&&er.document.addEventListener("visibilitychange",()=>{"hidden"===er.document.visibilityState&&this._flushOutcomes()})}eventFromException(e,t){return function(e,t,n,r){let i=eT(e,t,n&&n.syntheticException||void 0,r);return(0,P.EG)(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),(0,ek.WD)(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,i){let s=eR(e,t,r&&r.syntheticException||void 0,i);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),(0,ek.WD)(s)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return;let t=function(e,{metadata:t,tunnel:n,dsn:r}){return tb({event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:tv(r)}},[[{type:"user_report"},e]])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){var e;let t=this._clearOutcomes();if(0===t.length||!this._dsn)return;let n=tb((e=this._options.tunnel&&tv(this._dsn))?{dsn:e}:{},[[{type:"client_report"},{timestamp:(0,t$.yW)(),discarded_events:t}]]);this._sendEnvelope(n)}}function tF(e,t,n,r){let i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}let tM=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,tj=/\((\S*)(?::(\d+))(?::(\d+))\)/,tD=[30,e=>{let t=tM.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){let e=tj.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}let[e,n]=tG(t[1]||"?",t[2]);return tF(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],tN=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,tq=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,tB=[50,e=>{let t=tN.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let e=tq.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||"?";return[n,e]=tG(n,e),tF(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],tH=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,tU=(0,ea.pE)(tD,tB,[40,e=>{let t=tH.exec(e);return t?tF(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0}]),tG=(e,t)=>{let n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:"?",n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function tX(e,t,n=function(e){let t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return(0,ek.$2)(new tx("Not adding Promise because buffer limit was reached."));let i=r();return -1===t.indexOf(i)&&t.push(i),i.then(()=>n(i)).then(null,()=>n(i).then(null,()=>{})),i},drain:function(e){return new ek.cW((n,r)=>{let i=t.length;if(!i)return n(!0);let s=setTimeout(()=>{e&&e>0&&n(!1)},e);t.forEach(e=>{(0,ek.WD)(e).then(()=>{--i||(clearTimeout(s),n(!0))},r)})})}}}(e.bufferSize||30)){let r={};function i(i){let s=[];if(tk(i,(t,n)=>{let i=tS[n];if(function(e,t,n=Date.now()){return(e[t]||e.all||0)>n}(r,i)){let r=tW(t,n);e.recordDroppedEvent("ratelimit_backoff",i,r)}else s.push(t)}),0===s.length)return(0,ek.WD)();let o=tb(i[0],s),a=t=>{tk(o,(n,r)=>{let i=tW(n,r);e.recordDroppedEvent(t,tS[r],i)})};return n.add(()=>t({body:function(e,t){let[n,r]=e,i=JSON.stringify(n);function s(e){"string"==typeof i?i="string"==typeof e?i+e:[tw(i,t),e]:i.push("string"==typeof e?tw(e,t):e)}for(let e of r){let[t,n]=e;if(s(`
${JSON.stringify(t)}
`),"string"==typeof n||n instanceof Uint8Array)s(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify((0,eb.Fv)(n))}s(e)}}return"string"==typeof i?i:function(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),n=0;for(let r of e)t.set(r,n),n+=r.length;return t}(i)}(o,e.textEncoder)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&C.X&&I.kg.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=function(e,{statusCode:t,headers:n},r=Date.now()){let i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(let e of s.trim().split(",")){let[t,n,,,s]=e.split(":",5),o=parseInt(t,10),a=(isNaN(o)?60:o)*1e3;if(n)for(let e of n.split(";"))"metric_bucket"===e?(!s||s.split(";").includes("custom"))&&(i[e]=r+a):i[e]=r+a;else i.all=r+a}else o?i.all=r+function(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(o,r):429===t&&(i.all=r+6e4);return i}(r,e),e),e=>{throw a("network_error"),e})).then(e=>e,e=>{if(e instanceof tx)return C.X&&I.kg.error("Skipped sending event because buffer is full."),a("queue_overflow"),(0,ek.WD)();throw e})}return i.__sentry__baseTransport__=!0,{send:i,flush:e=>n.drain(e)}}function tW(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}function tJ(e,t=function(){if(v)return v;if(eZ(er.fetch))return v=er.fetch.bind(er);let e=er.document,t=er.fetch;if(e&&"function"==typeof e.createElement)try{let n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);let r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){}return v=t.bind(er)}()){let n=0,r=0;return tX(e,function(i){let s=i.body.length;n+=s,r++;let o={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,o).then(e=>(n-=s,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}))}catch(e){return v=void 0,n-=s,r--,(0,ek.$2)(e)}})}function tV(e){return tX(e,function(t){return new ek.cW((n,r)=>{let i=new XMLHttpRequest;for(let t in i.onerror=r,i.onreadystatechange=()=>{4===i.readyState&&n({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url),e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&i.setRequestHeader(t,e.headers[t]);i.send(t.body)})})}let tz=[W(),q(),eF(),e9(),eP(),tn(),tu(),ts()];var tY=n(73656),tZ=n(56232);function tK(e){let t=u?u.get(e):void 0;if(!t)return;let n={};for(let[,[e,r]]of t)n[e]||(n[e]=[]),n[e].push((0,R.Jr)(r));return n}let tQ="sentry.source",t0="sentry.sample_rate",t1="sentry.op",t2="sentry.origin";var t3=n(39682);(b=k||(k={})).Ok="ok",b.DeadlineExceeded="deadline_exceeded",b.Unauthenticated="unauthenticated",b.PermissionDenied="permission_denied",b.NotFound="not_found",b.ResourceExhausted="resource_exhausted",b.InvalidArgument="invalid_argument",b.Unimplemented="unimplemented",b.Unavailable="unavailable",b.InternalError="internal_error",b.UnknownError="unknown_error",b.Cancelled="cancelled",b.AlreadyExists="already_exists",b.FailedPrecondition="failed_precondition",b.Aborted="aborted",b.OutOfRange="out_of_range",b.DataLoss="data_loss";class t4{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class t5{constructor(e={}){this._traceId=e.traceId||(0,P.DM)(),this._spanId=e.spanId||(0,P.DM)().substring(16),this._startTime=e.startTimestamp||(0,t$.ph)(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[t2]:e.origin||"manual",[t1]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),void 0!==e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[t1]}set op(e){this.setAttribute(t1,e)}get origin(){return this._attributes[t2]}set origin(e){this.setAttribute(t2,e)}spanContext(){let{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?tZ.i0:tZ.ve}}startChild(e){let t=new t5({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t);let n=(0,t3.G)(this);if(t.transaction=n,C.X&&n){let r=e&&e.op||"< unknown op >",i=(0,tZ.XU)(t).description||"< unknown name >",s=n.spanContext().spanId,o=`[Tracing] Starting '${r}' span on transaction '${i}' (${s}).`;I.kg.log(o),this._logMessage=o}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach(t=>this.setAttribute(t,e[t]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return function(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);let n=function(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(t);"unknown_error"!==n&&e.setStatus(n)}(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return"ok"===this._status}finish(e){return this.end(e)}end(e){if(this._endTime)return;let t=(0,t3.G)(this);if(C.X&&t&&t.spanContext().spanId!==this._spanId){let e=this._logMessage;e&&I.kg.log(e.replace("Starting","Finishing"))}this._endTime=(0,tZ.$k)(e)}toTraceparent(){return(0,tZ.Hb)(this)}toContext(){return(0,R.Jr)({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return(0,tZ.wy)(this)}getSpanJSON(){return(0,R.Jr)({data:this._getData(),description:this._name,op:this._attributes[t1],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[t2],_metrics_summary:tK(this),profile_id:this._attributes.profile_id,exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){let{data:e,_attributes:t}=this,n=Object.keys(e).length>0,r=Object.keys(t).length>0;return n||r?n&&r?{...e,...t}:n?e:t:void 0}}function t6(){return(0,O.nZ)().getSpan()}class t8 extends t5{constructor(e,t){super(e),this._contexts={},this._hub=t||(0,$.Gd)(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;let n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[tQ]&&{source:this._attributes[tQ]},...this._attributes[t0]&&{sampleRate:this._attributes[t0]}}}set metadata(e){this._metadata=e}setName(e,t="custom"){this._name=e,this.setAttribute(tQ,t)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new t4(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){let t=(0,tZ.$k)(e),n=this._finishTransaction(t);if(n)return this._hub.captureEvent(n)}toContext(){let e=super.toContext();return(0,R.Jr)({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return(0,tR.j)(this)}setHub(e){this._hub=e}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(e){if(void 0!==this._endTime)return;this._name||(C.X&&I.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);let t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this._sampled){C.X&&I.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","transaction");return}let n=this.spanRecorder?this.spanRecorder.spans.filter(e=>e!==this&&(0,tZ.XU)(e).timestamp):[];if(this._trimEnd&&n.length>0){let e=n.map(e=>(0,tZ.XU)(e).timestamp).filter(Boolean);this._endTime=e.reduce((e,t)=>e>t?e:t)}let{scope:r,isolationScope:i}={scope:this._sentryScope,isolationScope:this._sentryIsolationScope},{metadata:s}=this,{source:o}=s,a={contexts:{...this._contexts,trace:(0,tZ.wy)(this)},spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...s,capturedSpanScope:r,capturedSpanIsolationScope:i,...(0,R.Jr)({dynamicSamplingContext:(0,tR.j)(this)})},_metrics_summary:tK(this),...o&&{transaction_info:{source:o}}};return Object.keys(this._measurements).length>0&&(C.X&&I.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),a.measurements=this._measurements),C.X&&I.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),a}}let t7={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3};class t9 extends t4{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){if(e.spanContext().spanId!==this.transactionSpanId){let t=e.end;e.end=(...n)=>(this._popActivity(e.spanContext().spanId),t.apply(e,n)),void 0===(0,tZ.XU)(e).timestamp&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class ne extends t8{constructor(e,t,n=t7.idleTimeout,r=t7.finalTimeout,i=t7.heartbeatInterval,s=!1,o=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=r,this._heartbeatInterval=i,this._onScope=s,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason="externalFinish",this._autoFinishAllowed=!o,s&&(C.X&&I.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),t.getScope().setSpan(this)),o||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason="finalTimeout",this.end())},this._finalTimeout)}end(e){let t=(0,tZ.$k)(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){for(let e of(C.X&&I.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op),this._beforeFinishCallbacks))e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter(e=>{if(e.spanContext().spanId===this.spanContext().spanId)return!0;!(0,tZ.XU)(e).timestamp&&(e.setStatus("cancelled"),e.end(t),C.X&&I.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));let{start_timestamp:n,timestamp:r}=(0,tZ.XU)(e),i=n&&n<t,s=(this._finalTimeout+this._idleTimeout)/1e3,o=r&&n&&r-n<s;if(C.X){let t=JSON.stringify(e,void 0,2);i?o||I.kg.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):I.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return i&&o}),C.X&&I.kg.log("[Tracing] flushing IdleTransaction")}else C.X&&I.kg.log("[Tracing] No active IdleTransaction");if(this._onScope){let e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){this.spanRecorder||(this.spanRecorder=new t9(e=>{this._finished||this._pushActivity(e)},e=>{this._finished||this._popActivity(e)},this.spanContext().spanId,e),C.X&&I.kg.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason="cancelled",this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(C.X&&I.kg.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason="idleTimeout",this.end(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),C.X&&I.kg.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,C.X&&I.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(C.X&&I.kg.log(`[Tracing] popActivity ${e}`),delete this.activities[e],C.X&&I.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){let e=(0,t$.ph)();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason="cancelled",this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;let e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(C.X&&I.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason="heartbeatFailed",this.end()):this._pingHeartbeat()}_pingHeartbeat(){C.X&&I.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function nt(e){return(e||(0,$.Gd)()).getScope().getTransaction()}let nn=!1;function nr(){let e=nt();if(e){let t="internal_error";C.X&&I.kg.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}function ni(e,t,n){return e.sampled=!1,e}function ns(){let e=this.getScope().getSpan();return e?{"sentry-trace":(0,tZ.Hb)(e)}:{}}function no(e,t){var n,r,i;let s=this.getClient(),o=s&&s.getOptions()||{},a=o.instrumenter||"sentry",u=e.instrumenter||"sentry";a!==u&&(C.X&&I.kg.error(`A transaction was started with instrumenter=\`${u}\`, but the SDK is configured with the \`${a}\` instrumenter.
The transaction will not be sampled. Please use the ${a} instrumentation to start transactions.`),e.sampled=!1);let c=new t8(e,this);return(n=c,r=0,i=(e.name,e.parentSampled,e.data,e.attributes),n.sampled=!1,c=n).isRecording()&&c.initSpanRecorder(o._experiments&&o._experiments.maxSpans),s&&s.emit&&s.emit("startTransaction",c),c}function na(e,t,n,r,i,s,o,a=!1){var u,c,l;let d=e.getClient(),f=d&&d.getOptions()||{},p=new ne(t,e,n,r,o,i,a);return(u=p,c=0,l=(t.name,t.parentSampled,t.data,t.attributes),u.sampled=!1,p=u).isRecording()&&p.initSpanRecorder(f._experiments&&f._experiments.maxSpans),d&&d.emit&&d.emit("startTransaction",p),p}function nu(){let e=(0,$.cu)();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=no),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=ns),nn||(nn=!0,eh(nr),ev(nr)))}nr.tag="sentry_tracingErrorCallback";var nc=n(35589);let nl=en.GLOBAL_OBJ;function nd(){nl.document&&nl.document.addEventListener("visibilitychange",()=>{let e=nt();if(nl.document.hidden&&e){let{op:t,status:n}=(0,tZ.XU)(e);n||e.setStatus("cancelled"),e.setTag("visibilitychange","document.hidden"),e.end()}})}let nf=(e,t,n)=>{let r,i;return s=>{t.value>=0&&(s||n)&&((i=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=i,e(t))}},np=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,nh=()=>{let e=nl.performance.timing,t=nl.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(let t in e)"navigationStart"!==t&&"toJSON"!==t&&(n[t]=Math.max(e[t]-e.navigationStart,0));return n},ng=()=>nl.__WEB_VITALS_POLYFILL__?nl.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||nh()):nl.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],n_=()=>{let e=ng();return e&&e.activationStart||0},nv=(e,t)=>{let n=ng(),r="navigate";return n&&(r=nl.document&&nl.document.prerendering||n_()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:np(),navigationType:r}},nm=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(e=>{t(e.getEntries())});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},ny=(e,t)=>{let n=r=>{("pagehide"===r.type||"hidden"===nl.document.visibilityState)&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};nl.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))},nb=(e,t={})=>{let n;let r=nv("CLS",0),i=0,s=[],o=e=>{e.forEach(e=>{if(!e.hadRecentInput){let t=s[0],o=s[s.length-1];i&&0!==s.length&&e.startTime-o.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,s.push(e)):(i=e.value,s=[e]),i>r.value&&(r.value=i,r.entries=s,n&&n())}})},a=nm("layout-shift",o);if(a){n=nf(e,r,t.reportAllChanges);let i=()=>{o(a.takeRecords()),n(!0)};return ny(i),i}},nk=-1,nw=()=>{nl.document&&nl.document.visibilityState&&(nk="hidden"!==nl.document.visibilityState||nl.document.prerendering?1/0:0)},nS=()=>{ny(({timeStamp:e})=>{nk=e},!0)},nE=()=>(nk<0&&(nw(),nS()),{get firstHiddenTime(){return nk}}),nx=e=>{let t;let n=nE(),r=nv("FID"),i=e=>{e.startTime<n.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),t(!0))},s=e=>{e.forEach(i)},o=nm("first-input",s);t=nf(e,r),o&&ny(()=>{s(o.takeRecords()),o.disconnect()},!0)},nT=0,nR=1/0,nO=0,nP=e=>{e.forEach(e=>{e.interactionId&&(nR=Math.min(nR,e.interactionId),nT=(nO=Math.max(nO,e.interactionId))?(nO-nR)/7+1:0)})},nI=()=>c?nT:performance.interactionCount||0,nC=()=>{"interactionCount"in performance||c||(c=nm("event",nP,{type:"event",buffered:!0,durationThreshold:0}))},nA=()=>nI(),n$=[],nL={},nF=e=>{let t=n$[n$.length-1],n=nL[e.interactionId];if(n||n$.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{let t={id:e.interactionId,latency:e.duration,entries:[e]};nL[t.id]=t,n$.push(t)}n$.sort((e,t)=>t.latency-e.latency),n$.splice(10).forEach(e=>{delete nL[e.id]})}},nM=()=>{let e=Math.min(n$.length-1,Math.floor(nA()/50));return n$[e]},nj=(e,t)=>{let n;t=t||{},nC();let r=nv("INP"),i=e=>{e.forEach(e=>{e.interactionId&&nF(e),"first-input"!==e.entryType||n$.some(t=>t.entries.some(t=>e.duration===t.duration&&e.startTime===t.startTime))||nF(e)});let t=nM();t&&t.latency!==r.value&&(r.value=t.latency,r.entries=t.entries,n())},s=nm("event",i,{durationThreshold:t.durationThreshold||40});n=nf(e,r,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),ny(()=>{i(s.takeRecords()),r.value<0&&nA()>0&&(r.value=0,r.entries=[]),n(!0)}))},nD={},nN=e=>{let t;let n=nE(),r=nv("LCP"),i=e=>{let i=e[e.length-1];if(i){let e=Math.max(i.startTime-n_(),0);e<n.firstHiddenTime&&(r.value=e,r.entries=[i],t())}},s=nm("largest-contentful-paint",i);if(s){t=nf(e,r);let n=()=>{nD[r.id]||(i(s.takeRecords()),s.disconnect(),nD[r.id]=!0,t(!0))};return["keydown","click"].forEach(e=>{nl.document&&addEventListener(e,n,{once:!0,capture:!0})}),ny(n,!0),n}},nq=e=>{nl.document&&(nl.document.prerendering?addEventListener("prerenderingchange",()=>nq(e),!0):"complete"!==nl.document.readyState?addEventListener("load",()=>nq(e),!0):setTimeout(e,0))},nB=(e,t)=>{t=t||{};let n=nv("TTFB"),r=nf(e,n,t.reportAllChanges);nq(()=>{let e=ng();if(e){if(n.value=Math.max(e.responseStart-n_(),0),n.value<0||n.value>performance.now())return;n.entries=[e],r(!0)}})},nH={},nU={};function nG(e,t){return nK(e,t),nU[e]||(function(e){let t={};"event"===e&&(t.durationThreshold=0),nm(e,t=>{nX(e,{entries:t})},t)}(e),nU[e]=!0),nQ(e,t)}function nX(e,t){let n=nH[e];if(n&&n.length)for(let e of n)try{e(t)}catch(e){}}function nW(){return nb(e=>{nX("cls",{metric:e}),l=e},{reportAllChanges:!0})}function nJ(){return nx(e=>{nX("fid",{metric:e}),d=e})}function nV(){return nN(e=>{nX("lcp",{metric:e}),f=e})}function nz(){return nB(e=>{nX("ttfb",{metric:e}),p=e})}function nY(){return nj(e=>{nX("inp",{metric:e}),h=e})}function nZ(e,t,n,r,i=!1){let s;return nK(e,t),nU[e]||(s=n(),nU[e]=!0),r&&t({metric:r}),nQ(e,t,i?s:void 0)}function nK(e,t){nH[e]=nH[e]||[],nH[e].push(t)}function nQ(e,t,n){return()=>{n&&n();let r=nH[e];if(!r)return;let i=r.indexOf(t);-1!==i&&r.splice(i,1)}}function n0(e){return[{type:"span"},e]}function n1(e){return"number"==typeof e&&isFinite(e)}function n2(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}function n3(e){return e/1e3}function n4(){return nl&&nl.addEventListener&&nl.performance}let n5=0,n6={};function n8(){let e=n4();if(e&&t$.Z1){e.mark&&nl.performance.mark("sentry-tracing-init");let t=nZ("fid",({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let n=n3(t$.Z1),r=n3(t.startTime);n6.fid={value:e.value,unit:"millisecond"},n6["mark.fid"]={value:n+r,unit:"second"}},nJ,d),n=function(e,t=!1){return nZ("cls",e,nW,l,t)}(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(n6.cls={value:e.value,unit:""},_=t)},!0),r=function(e,t=!1){return nZ("lcp",e,nV,f,t)}(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(n6.lcp={value:e.value,unit:"millisecond"},g=t)},!0),i=nZ("ttfb",({metric:e})=>{e.entries[e.entries.length-1]&&(n6.ttfb={value:e.value,unit:"millisecond"})},nz,p);return()=>{t(),n(),r(),i()}}return()=>void 0}function n7(){nG("longtask",({entries:e})=>{for(let t of e){let e=nt();if(!e)return;let n=n3(t$.Z1+t.startTime),r=n3(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}})}function n9(){nG("event",({entries:e})=>{for(let t of e){let e=nt();if(!e)return;if("click"===t.name){let n=n3(t$.Z1+t.startTime),r=n3(t.duration),i={description:(0,ey.Rt)(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r},s=(0,ey.iY)(t.target);s&&(i.attributes={"ui.component_name":s}),e.startChild(i)}}})}function re(e,t){if(n4()&&t$.Z1){let t=nZ("inp",({metric:t})=>{var n,r,i;if(void 0===t.value)return;let s=t.entries.find(e=>e.duration===t.value&&void 0!==rt[e.name]),o=(0,O.s3)();if(!s||!o)return;let a=rt[s.name],u=o.getOptions(),c=n3(t$.Z1+s.startTime),l=n3(t.value),d=void 0!==s.interactionId?e[s.interactionId]:void 0;if(void 0===d)return;let{routeName:f,parentContext:p,activeTransaction:h,user:g,replayId:_}=d,v=void 0!==g?g.email||g.id||g.ip_address:void 0,m=void 0!==h?h.getProfileId():void 0,y=new t5({startTimestamp:c,endTimestamp:c+l,op:`ui.interaction.${a}`,name:(0,ey.Rt)(s.target),attributes:{release:u.release,environment:u.environment,transaction:f,...void 0!==v&&""!==v?{user:v}:{},...void 0!==m?{profile_id:m}:{},...void 0!==_?{replay_id:_}:{}},exclusiveTime:t.value,measurements:{inp:{value:t.value,unit:"millisecond"}}}),b=(n=0,r=0,i=0,!1);if(b&&Math.random()<b){let e=y?function(e,t){let n={sent_at:new Date().toISOString()};return t&&(n.dsn=tv(t)),tb(n,e.map(n0))}([y],o.getDsn()):void 0,t=o&&o.getTransport();t&&e&&t.send(e).then(null,e=>{});return}},nY,h);return()=>{t()}}return()=>void 0}let rt={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function rn(e){let t=n4();if(!t||!nl.performance.getEntries||!t$.Z1)return;let n=n3(t$.Z1),r=t.getEntries(),{op:i,start_timestamp:s}=(0,tZ.XU)(e);if(r.slice(n5).forEach(t=>{let r=n3(t.startTime),i=n3(t.duration);if("navigation"!==e.op||!s||!(n+r<s))switch(t.entryType){case"navigation":["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{rr(e,t,r,n)}),rr(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),rr(e,t,"fetch",n,"cache","domainLookupStart"),rr(e,t,"domainLookup",n,"DNS"),t.responseEnd&&(n2(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+n3(t.requestStart),endTimestamp:n+n3(t.responseEnd)}),n2(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+n3(t.responseStart),endTimestamp:n+n3(t.responseEnd)}));break;case"mark":case"paint":case"measure":{(function(e,t,n,r,i){let s=i+n;n2(e,{description:t.name,endTimestamp:s+r,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s})})(e,t,r,i,n);let s=nE(),o=t.startTime<s.firstHiddenTime;"first-paint"===t.name&&o&&(n6.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&o&&(n6.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":(function(e,t,n,r,i,s){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;let o=e8(n),a={};ri(a,t,"transferSize","http.response_transfer_size"),ri(a,t,"encodedBodySize","http.response_content_length"),ri(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(nl.location.origin);let u=s+r;n2(e,{description:n.replace(nl.location.origin,""),endTimestamp:u+i,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:u,data:a})})(e,t,t.name,r,i,n)}}),n5=Math.max(r.length-1,0),function(e){let t=nl.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),n1(n.rtt)&&(n6["connection.rtt"]={value:n.rtt,unit:"millisecond"})),n1(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),n1(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===i){(function(e){let t=ng();if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})})(n6),["fcp","fp","lcp"].forEach(e=>{if(!n6[e]||!s||n>=s)return;let t=Math.abs((n+n3(n6[e].value)-s)*1e3);n6[e].value=t});let t=n6["mark.fid"];t&&n6.fid&&(n2(e,{description:"first input delay",endTimestamp:t.value+n3(n6.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete n6["mark.fid"]),"fcp"in n6||delete n6.cls,Object.keys(n6).forEach(e=>{!function(e,t,n){let r=nt();r&&r.setMeasurement(e,t,n)}(e,n6[e].value,n6[e].unit)}),g&&(g.element&&e.setTag("lcp.element",(0,ey.Rt)(g.element)),g.id&&e.setTag("lcp.id",g.id),g.url&&e.setTag("lcp.url",g.url.trim().slice(0,200)),e.setTag("lcp.size",g.size)),_&&_.sources&&_.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,(0,ey.Rt)(t.node)))}g=void 0,_=void 0,n6={}}function rr(e,t,n,r,i,s){let o=s?t[s]:t[`${n}End`],a=t[`${n}Start`];a&&o&&n2(e,{op:"browser",origin:"auto.browser.browser.metrics",description:i||n,startTimestamp:r+n3(a),endTimestamp:r+n3(o)})}function ri(e,t,n,r){let i=t[n];null!=i&&i<2147483647&&(e[r]=i)}n(49361);let rs=["localhost",/^\/(?!\/)/],ro={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:rs,tracePropagationTargets:rs};function ra(e){let{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o}={traceFetch:ro.traceFetch,traceXHR:ro.traceXHR,...e};t&&eK(e=>{let t=function(e,t,n,r,i="auto.http.browser"){}(0,0,0,0);if(t){let n=function(e){try{return new URL(e,nl.location.origin).href}catch(e){return}}(e.fetchData.url),r=n?e8(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r})}o&&t&&ru(t)}),n&&eJ(e=>{let t=function(e,t,n,r){let i=e.xhr;i&&i[eW]}(e,0,0,0);o&&t&&ru(t)})}function ru(e){let{url:t}=(0,tZ.XU)(e).data||{};if(!t||"string"!=typeof t)return;let n=nG("resource",({entries:r})=>{r.forEach(r=>{"resource"===r.entryType&&"initiatorType"in r&&"string"==typeof r.nextHopProtocol&&("fetch"===r.initiatorType||"xmlhttprequest"===r.initiatorType)&&r.name.endsWith(t)&&((function(e){let{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(let i of e){if("/"===i){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}(e.nextHopProtocol),r=[];return(r.push(["network.protocol.version",n],["network.protocol.name",t]),t$.Z1)?[...r,["http.request.redirect_start",rc(e.redirectStart)],["http.request.fetch_start",rc(e.fetchStart)],["http.request.domain_lookup_start",rc(e.domainLookupStart)],["http.request.domain_lookup_end",rc(e.domainLookupEnd)],["http.request.connect_start",rc(e.connectStart)],["http.request.secure_connection_start",rc(e.secureConnectionStart)],["http.request.connection_end",rc(e.connectEnd)],["http.request.request_start",rc(e.requestStart)],["http.request.response_start",rc(e.responseStart)],["http.request.response_end",rc(e.responseEnd)]]:r})(r).forEach(t=>e.setAttribute(...t)),setTimeout(n))})})}function rc(e=0){return((t$.Z1||performance.timeOrigin)+e)/1e3}let rl={...t7,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,n=!0){let r;if(!nl||!nl.location)return;let i=nl.location.href;t&&(r=e({name:nl.location.pathname,startTimestamp:t$.Z1?t$.Z1/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&e4(({to:t,from:n})=>{if(void 0===n&&i&&-1!==i.indexOf(t)){i=void 0;return}n!==t&&(i=void 0,r&&r.end(),r=e({name:nl.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...ro};class rd{constructor(e){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,nu(),this.options={...rl,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=n8(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&re(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&n7(),this.options._experiments.enableInteractions&&n9(),this._latestRoute={name:void 0,context:void 0}}setupOnce(e,t){this._getCurrentHub=t;let n=t().getClient(),r=n&&n.getOptions(),{routingInstrumentation:i,startTransactionOnLocationChange:s,startTransactionOnPageLoad:o,markBackgroundTransactions:a,traceFetch:u,traceXHR:c,shouldCreateSpanForRequest:l,enableHTTPTimings:d,_experiments:f}=this.options,p=r&&r.tracePropagationTargets||this.options.tracePropagationTargets;i(e=>{let n=this._createRouteTransaction(e);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,e,t),n},o,s),a&&nd(),f.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),ra({traceFetch:u,traceXHR:c,tracePropagationTargets:p,shouldCreateSpanForRequest:l,enableHTTPTimings:d})}_createRouteTransaction(e){let t;if(!this._getCurrentHub)return;let n=this._getCurrentHub(),{beforeNavigate:r,idleTimeout:i,finalTimeout:s,heartbeatInterval:o}=this.options,a="pageload"===e.op;if(a){let n=a?rf("sentry-trace"):"",r=a?rf("baggage"):void 0,{traceId:i,dsc:s,parentSpanId:o,sampled:u}=(0,nc.pT)(n,r);t={traceId:i,parentSpanId:o,parentSampled:u,...e,metadata:{...e.metadata,dynamicSamplingContext:s},trimEnd:!0}}else t={trimEnd:!0,...e};let u="function"==typeof r?r(t):t,c=void 0===u?{...t,sampled:!1}:u;c.metadata=c.name!==t.name?{...c.metadata,source:"custom"}:c.metadata,this._latestRoute.name=c.name,this._latestRoute.context=c,c.sampled;let{location:l}=nl,d=na(n,c,i,s,!0,{location:l},o,a);return a&&nl.document&&(nl.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(nl.document.readyState)&&d.sendAutoFinishSignal()}),["interactive","complete"].includes(nl.document.readyState)&&d.sendAutoFinishSignal()),d.registerBeforeFinishCallback(e=>{this._collectWebVitals(),rn(e)}),d}_registerInteractionListener(){let e;let t=()=>{let{idleTimeout:t,finalTimeout:n,heartbeatInterval:r}=this.options,i=nt();if(i&&i.op&&["navigation","pageload"].includes(i.op)||(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub)||!this._latestRoute.name)return;let s=this._getCurrentHub(),{location:o}=nl;e=na(s,{name:this._latestRoute.name,op:"ui.action.click",trimEnd:!0,data:{[tQ]:this._latestRoute.context?function(e){let t=e.attributes&&e.attributes[tQ],n=e.data&&e.data[tQ],r=e.metadata&&e.metadata.source;return t||n||r}(this._latestRoute.context):"url"}},t,n,!0,{location:o},r)};["click"].forEach(e=>{nl.document&&addEventListener(e,t,{once:!1,capture:!0})})}_registerInpInteractionListener(){let e=({entries:e})=>{let t=(0,O.s3)(),n=void 0!==t&&void 0!==t.getIntegrationByName?t.getIntegrationByName("Replay"):void 0,r=void 0!==n?n.getReplayId():void 0,i=nt(),s=(0,O.nZ)(),o=void 0!==s?s.getUser():void 0;e.forEach(e=>{if("duration"in e){let t=e.interactionId;if(void 0===t)return;let n=this._interactionIdToRouteNameMapping[t],s=e.duration,a=e.startTime,u=Object.keys(this._interactionIdToRouteNameMapping),c=u.length>0?u.reduce((e,t)=>this._interactionIdToRouteNameMapping[e].duration<this._interactionIdToRouteNameMapping[t].duration?e:t):void 0;if(!("first-input"===e.entryType&&u.map(e=>this._interactionIdToRouteNameMapping[e]).some(e=>e.duration===s&&e.startTime===a))&&t){if(n)n.duration=Math.max(n.duration,s);else if(u.length<10||void 0===c||s>this._interactionIdToRouteNameMapping[c].duration){let e=this._latestRoute.name,n=this._latestRoute.context;e&&n&&(c&&Object.keys(this._interactionIdToRouteNameMapping).length>=10&&delete this._interactionIdToRouteNameMapping[c],this._interactionIdToRouteNameMapping[t]={routeName:e,duration:s,parentContext:n,user:o,activeTransaction:i,replayId:r,startTime:a})}}}})};nG("event",e),nG("first-input",e)}}function rf(e){let t=(0,ey.qT)(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}let rp={...t7,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...ro},rh=(e={})=>{nu(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);let t={...rp,...e},n=n8(),r={};t.enableInp&&re(r,t.interactionsSampleRate),t.enableLongTask&&n7(),t._experiments.enableInteractions&&n9();let i={name:void 0,context:void 0};function s(e){let r;let s=(0,$.Gd)(),{beforeStartSpan:o,idleTimeout:a,finalTimeout:u,heartbeatInterval:c}=t,l="pageload"===e.op;if(l){let t=l?rv("sentry-trace"):"",n=l?rv("baggage"):void 0,{traceId:i,dsc:s,parentSpanId:o,sampled:a}=(0,nc.pT)(t,n);r={traceId:i,parentSpanId:o,parentSampled:a,...e,metadata:{...e.metadata,dynamicSamplingContext:s},trimEnd:!0}}else r={trimEnd:!0,...e};let d=o?o(r):r;d.metadata=d.name!==r.name?{...d.metadata,source:"custom"}:d.metadata,i.name=d.name,i.context=d,d.sampled;let{location:f}=nl,p=na(s,d,a,u,!0,{location:f},c,l);return l&&nl.document&&(nl.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(nl.document.readyState)&&p.sendAutoFinishSignal()}),["interactive","complete"].includes(nl.document.readyState)&&p.sendAutoFinishSignal()),p.registerBeforeFinishCallback(e=>{n(),rn(e)}),p}return{name:"BrowserTracing",setupOnce:()=>{},afterAllSetup(e){let n;let o=e.getOptions(),{markBackgroundSpan:a,traceFetch:u,traceXHR:c,shouldCreateSpanForRequest:l,enableHTTPTimings:d,_experiments:f}=t,p=o&&o.tracePropagationTargets||t.tracePropagationTargets,h=nl.location&&nl.location.href;e.on&&(e.on("startNavigationSpan",e=>{n&&n.end(),n=s({op:"navigation",...e})}),e.on("startPageLoadSpan",e=>{n&&n.end(),n=s({op:"pageload",...e})})),t.instrumentPageLoad&&e.emit&&nl.location&&rg(e,{name:nl.location.pathname,startTimestamp:t$.Z1?t$.Z1/1e3:void 0,origin:"auto.pageload.browser",attributes:{[tQ]:"url"}}),t.instrumentNavigation&&e.emit&&nl.location&&e4(({to:t,from:n})=>{if(void 0===n&&h&&-1!==h.indexOf(t)){h=void 0;return}n!==t&&(h=void 0,r_(e,{name:nl.location.pathname,origin:"auto.navigation.browser",attributes:{[tQ]:"url"}}))}),a&&nd(),f.enableInteractions&&function(e,t){let n;let r=()=>{let{idleTimeout:r,finalTimeout:i,heartbeatInterval:s}=e,o=nt();if(o&&o.op&&["navigation","pageload"].includes(o.op)||(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name))return;let{location:a}=nl,u={name:t.name,op:"ui.action.click",trimEnd:!0,data:{[tQ]:t.context?function(e){let t=e.attributes&&e.attributes[tQ],n=e.data&&e.data[tQ],r=e.metadata&&e.metadata.source;return t||n||r}(t.context):"url"}};n=na((0,$.Gd)(),u,r,i,!0,{location:a},s)};["click"].forEach(e=>{nl.document&&addEventListener(e,r,{once:!1,capture:!0})})}(t,i),t.enableInp&&function(e,t){let n=({entries:n})=>{let r=(0,O.s3)(),i=void 0!==r&&void 0!==r.getIntegrationByName?r.getIntegrationByName("Replay"):void 0,s=void 0!==i?i.getReplayId():void 0,o=nt(),a=(0,O.nZ)(),u=void 0!==a?a.getUser():void 0;n.forEach(n=>{if("duration"in n){let r=n.interactionId;if(void 0===r)return;let i=e[r],a=n.duration,c=n.startTime,l=Object.keys(e),d=l.length>0?l.reduce((t,n)=>e[t].duration<e[n].duration?t:n):void 0;if(!("first-input"===n.entryType&&l.map(t=>e[t]).some(e=>e.duration===a&&e.startTime===c))&&r){if(i)i.duration=Math.max(i.duration,a);else if(l.length<10||void 0===d||a>e[d].duration){let n=t.name,i=t.context;n&&i&&(d&&Object.keys(e).length>=10&&delete e[d],e[r]={routeName:n,duration:a,parentContext:i,user:u,activeTransaction:o,replayId:s,startTime:c})}}}})};nG("event",n),nG("first-input",n)}(r,i),ra({traceFetch:u,traceXHR:c,tracePropagationTargets:p,shouldCreateSpanForRequest:l,enableHTTPTimings:d})},options:t}};function rg(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);let n=t6();return"pageload"===(n&&(0,tZ.XU)(n).op)?n:void 0}function r_(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);let n=t6();return"navigation"===(n&&(0,tZ.XU)(n).op)?n:void 0}function rv(e){let t=(0,ey.qT)(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}let rm={"routing.instrumentation":"next-app-router"};var ry=n(52795),rb=n.n(ry),rk=n(63984);let rw={"routing.instrumentation":"next-pages-router"},rS=(0,O.s3)();function rE(e,t=!0,n=!0,r,i){er.document.getElementById("__NEXT_DATA__")?function(e,t=!0,n=!0,r,i){let{route:s,params:o,sentryTrace:a,baggage:u}=function(){let e;let t=er.document.getElementById("__NEXT_DATA__");if(t&&t.innerHTML)try{e=JSON.parse(t.innerHTML)}catch(e){rk.X&&I.kg.warn("Could not extract __NEXT_DATA__")}if(!e)return{};let n={},{page:r,query:i,props:s}=e;return n.route=r,n.params=i,s&&s.pageProps&&(n.sentryTrace=s.pageProps._sentryTraceData,n.baggage=s.pageProps._sentryBaggage),n}(),{traceparentData:c,dynamicSamplingContext:l,propagationContext:d}=(0,nc.KA)(a,u);if((0,O.nZ)().setPropagationContext(d),y=s||er.location.pathname,t){let t={name:y,op:"pageload",origin:"auto.pageload.nextjs.pages_router_instrumentation",tags:rw,startTimestamp:t$.Z1?t$.Z1/1e3:void 0,...o&&rS&&rS.getOptions().sendDefaultPii&&{data:o},...c,metadata:{source:s?"route":"url",dynamicSamplingContext:c&&!l?{}:l}};m=e(t),r(t)}n&&rb().events.on("routeChangeStart",t=>{let n,r;let s=t.split(/[\?#]/,1)[0],o=function(e){let t=(er.__BUILD_MANIFEST||{}).sortedPages;if(t)return t.find(t=>{let n=function(e){let t=e.split("/"),n="";t[t.length-1].match(/^\[\[\.\.\..+\]\]$/)&&(t.pop(),n="(?:/(.+?))?");let r=t.map(e=>e.replace(/^\[\.\.\..+\]$/,"(.+?)").replace(/^\[.*\]$/,"([^/]+?)")).join("/");return RegExp(`^${r}${n}(?:/)?$`)}(t);return e.match(n)})}(s);o?(n=o,r="route"):(n=s,r="url");let a={...rw,from:y};y=n,m&&m.end();let u={name:n,op:"navigation",origin:"auto.navigation.nextjs.pages_router_instrumentation",tags:a,metadata:{source:r}},c=e(u);if(i(u),c){let e=c.startChild({op:"ui.nextjs.route-change",origin:"auto.ui.nextjs.pages_router_instrumentation",description:"Next.js Route Change"}),t=()=>{e.end(),rb().events.off("routeChangeComplete",t)};rb().events.on("routeChangeComplete",t)}})}(e,t,n,r||(()=>void 0),i||(()=>void 0)):function(e,t=!0,n=!0,r,i){let s;let o=er.location.pathname;if(t){let t={name:o,op:"pageload",origin:"auto.pageload.nextjs.app_router_instrumentation",tags:rm,startTimestamp:t$.Z1?t$.Z1/1e3:void 0,metadata:{source:"url"}};s=e(t),r(t)}n&&eK(t=>{if(void 0!==t.endTimestamp||"GET"!==t.fetchData.method)return;let n=function(e){if(!e[0]||"object"!=typeof e[0]||void 0===e[0].searchParams||!e[1]||"object"!=typeof e[1]||!("headers"in e[1]))return null;try{let t=e[0],n=e[1].headers;if("1"!==n.RSC||"1"===n["Next-Router-Prefetch"])return null;return{targetPathname:t.pathname}}catch(e){return null}}(t.args);if(null===n)return;let r=n.targetPathname,a={...rm,from:o};o=r,s&&s.end();let u={name:r,op:"navigation",origin:"auto.navigation.nextjs.app_router_instrumentation",tags:a,metadata:{source:"url"}};e(u),i(u)})}(e,t,n,r||(()=>void 0),i||(()=>void 0))}class rx extends rd{constructor(e){super({tracingOrigins:[...ro.tracingOrigins,/^(api\/)/],routingInstrumentation:rE,...e})}}let rT=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function rR(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let i=r>=0?e[r]:"/";i&&(t=`${i}/${t}`,n="/"===i.charAt(0))}return t=(function(e,t){let n=0;for(let t=e.length-1;t>=0;t--){let r=e[t];"."===r?e.splice(t,1):".."===r?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(t)for(;n--;n)e.unshift("..");return e})(t.split("/").filter(e=>!!e),!n).join("/"),(n?"/":"")+t||"."}function rO(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}let rP="RewriteFrames",rI=(e={})=>{let t=e.root,n=e.prefix||"app:///",r=e.iteratee||(e=>{if(!e.filename)return e;let r=/^[a-zA-Z]:\\/.test(e.filename)||e.filename.includes("\\")&&!e.filename.includes("/"),i=/^\//.test(e.filename);if(r||i){let i;let s=r?e.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):e.filename,o=t?function(e,t){e=rR(e).slice(1),t=rR(t).slice(1);let n=rO(e.split("/")),r=rO(t.split("/")),i=Math.min(n.length,r.length),s=i;for(let e=0;e<i;e++)if(n[e]!==r[e]){s=e;break}let o=[];for(let e=s;e<n.length;e++)o.push("..");return(o=o.concat(r.slice(s))).join("/")}(t,s):function(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=rT.exec(t);return n?n.slice(1):[]}(s)[2];e.filename=`${n}${o}`}return e});return{name:rP,setupOnce(){},processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map(e=>{var t;return{...e,...e.stacktrace&&{stacktrace:{...t=e.stacktrace,frames:t&&t.frames&&t.frames.map(e=>r(e))}}}})}}}catch(t){return e}}(t)),t}}};j(rP,rI);let rC=en.GLOBAL_OBJ,rA=e=>{let t=rC.__rewriteFramesAssetPrefixPath__||"";return rI({iteratee:e=>{try{let{origin:n}=new URL(e.filename);e.filename=function(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):("call"===i||"optionalCall"===i)&&(n=s((...e)=>n.call(t,...e)),t=void 0)}return n}([e,"access",e=>e.filename,"optionalAccess",e=>e.replace,"call",e=>e(n,"app://"),"access",e=>e.replace,"call",e=>e(t,"")])}catch(e){}return e.filename&&e.filename.startsWith("app:///_next")&&(e.filename=decodeURI(e.filename)),e.filename&&e.filename.match(/^app:\/\/\/_next\/static\/chunks\/(main-|main-app-|polyfills-|webpack-|framework-|framework\.)[0-9a-f]+\.js$/)&&(e.in_app=!1),e},...e})},r$=en.GLOBAL_OBJ;function rL(e){let t=e.find(e=>"BrowserTracing"===e.name);if(!t)return e;if(t.afterAllSetup&&t.options){let{options:n}=t;e[e.indexOf(t)]=function(e){let t=rh({tracingOrigins:[...ro.tracingOrigins,/^(api\/)/],...e,instrumentNavigation:!1,instrumentPageLoad:!1}),n={...t.options,instrumentPageLoad:!0,instrumentNavigation:!0,...e};return{...t,options:n,afterAllSetup(e){let r=t=>{rg(e,t)},i=t=>{r_(e,t)};rE(()=>void 0,!1,n.instrumentNavigation,r,i),t.afterAllSetup(e),rE(()=>void 0,n.instrumentPageLoad,!1,r,i)}}}(n)}if(!(t instanceof rx)){let n=t.options;delete n.routingInstrumentation,delete n.tracingOrigins,e[e.indexOf(t)]=new rx(n)}return e}({...tg});var rF=n(79507),rM=n(73656),rj=window;rj.__sentryRewritesTunnelPath__=void 0,rj.SENTRY_RELEASE={id:"fe819a4f8cb4cb633ec4f516f2693873be66b709"},rj.__sentryBasePath=void 0,rj.__rewriteFramesAssetPrefixPath__="";let rD=rM.env.SENTRY_DSN||rM.env.NEXT_PUBLIC_SENTRY_DSN,rN=null!==(w=rM.env.POSTHOG_PROJECT_ID)&&void 0!==w?w:4504431495086080;!function(e){var t;let n={environment:function(e){let t=e?tY.env.NEXT_PUBLIC_VERCEL_ENV:tY.env.VERCEL_ENV;return t?`vercel-${t}`:void 0}(!0)||"production",defaultIntegrations:(t=0,[...tz,rA()]),...e};(function(e){let{integrations:t}=e;t&&(Array.isArray(t)?e.integrations=rL(t):e.integrations=e=>rL(t(e)))})(n),function(e){let t=r$.__sentryRewritesTunnelPath__;if(t&&e.dsn){let n=tm(e.dsn);if(!n)return;let r=n.host.match(/^o(\d+)\.ingest(?:\.([a-z]{2}))?\.sentry\.io$/);if(r){let i=r[1],s=r[2],o=`${t}?o=${i}&p=${n.projectId}`;s&&(o+=`&r=${s}`),e.tunnel=o,rk.X&&I.kg.info(`Tunneling events to "${o}"`)}else rk.X&&I.kg.warn("Provided DSN is not a Sentry SaaS DSN. Will not tunnel events.")}}(n),T(n,"nextjs",["nextjs","react"]),function(e){let t={...e};T(t,"react"),function(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=[...tz]),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),er.SENTRY_RELEASE&&er.SENTRY_RELEASE.id&&(e.release=er.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0),function(e,t){!0===t.debug&&(C.X?I.kg.enable():(0,I.Cf)(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),(0,O.nZ)().update(t.initialScope);let n=new e(t);(function(e){let t=(0,$.Gd)().getStackTop();t.client=e,t.scope.setClient(e)})(n),n.init?n.init():n.setupIntegrations&&n.setupIntegrations()}(tL,{...e,stackParser:(0,ea.Sq)(e.stackParser||tU),integrations:function(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(e=>{e.isDefaultInstance=!0});let r=function(e){let t={};return e.forEach(e=>{let{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)}),Object.keys(t).map(e=>t[e])}(Array.isArray(n)?[...t,...n]:"function"==typeof n?(0,P.lE)(n(t)):t),i=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return -1}(r,e=>"Debug"===e.name);if(-1!==i){let[e]=r.splice(i,1);r.push(e)}return r}(e),transport:e.transport||(eY()?tJ:tV)}),e.autoSessionTracking&&void 0!==er.document&&((0,O.yj)({ignoreDuration:!0}),(0,O.cg)(),e4(({from:e,to:t})=>{void 0!==e&&e!==t&&((0,O.yj)({ignoreDuration:!0}),(0,O.cg)())}))}(t)}(n);let r=(0,O.nZ)();r.setTag("runtime","browser");let i=e=>"transaction"===e.type&&"/404"===e.transaction?null:e;i.id="NextClient404Filter",r.addEventProcessor(i)}({dsn:rD||"https://7aa8b78377e346229047d24f88237935@o1321724.ingest.sentry.io/4504431495086080",tracesSampleRate:.01,environment:"prod",integrations:[new rF.ZP.SentryIntegration(rF.ZP,"hostedscan-lcc",rN,"https://hostedscan-lcc.sentry.io/",["error","fatal"])],ignoreErrors:["Non-Error promise rejection captured with value"]})},79678:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"actionAsyncStorage",{enumerable:!0,get:function(){return r}});let r=(0,n(77831).createAsyncLocalStorage)();("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},35883:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"actionAsyncStorage",{enumerable:!0,get:function(){return r.actionAsyncStorage}});let r=n(79678);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},77831:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createAsyncLocalStorage",{enumerable:!0,get:function(){return s}});let n=Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available");class r{disable(){throw n}getStore(){}run(){throw n}exit(){throw n}enterWith(){throw n}}let i=globalThis.AsyncLocalStorage;function s(){return i?new i:new r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},19929:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraftMode",{enumerable:!0,get:function(){return s}});let r=n(83823),i=n(19089);class s{get isEnabled(){return this._provider.isEnabled}enable(){let e=r.staticGenerationAsyncStorage.getStore();return e&&(0,i.trackDynamicDataAccessed)(e,"draftMode().enable()"),this._provider.enable()}disable(){let e=r.staticGenerationAsyncStorage.getStore();return e&&(0,i.trackDynamicDataAccessed)(e,"draftMode().disable()"),this._provider.disable()}constructor(e){this._provider=e}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},61951:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{cookies:function(){return f},draftMode:function(){return p},headers:function(){return d}});let r=n(23254),i=n(63237),s=n(38157),o=n(35883),a=n(19929),u=n(19089),c=n(83823),l=n(85419);function d(){let e="headers",t=c.staticGenerationAsyncStorage.getStore();if(t){if(t.forceStatic)return i.HeadersAdapter.seal(new Headers({}));(0,u.trackDynamicDataAccessed)(t,e)}return(0,l.getExpectedRequestStore)(e).headers}function f(){let e="cookies",t=c.staticGenerationAsyncStorage.getStore();if(t){if(t.forceStatic)return r.RequestCookiesAdapter.seal(new s.RequestCookies(new Headers({})));(0,u.trackDynamicDataAccessed)(t,e)}let n=(0,l.getExpectedRequestStore)(e),i=o.actionAsyncStorage.getStore();return(null==i?void 0:i.isAction)||(null==i?void 0:i.isAppRoute)?n.mutableCookies:n.cookies}function p(){let e=(0,l.getExpectedRequestStore)("draftMode");return new a.DraftMode(e.draftMode)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},65908:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{DynamicServerError:function(){return r},isDynamicServerError:function(){return i}});let n="DYNAMIC_SERVER_USAGE";class r extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=n}}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===n}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},19685:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{ReadonlyURLSearchParams:function(){return u.ReadonlyURLSearchParams},RedirectType:function(){return u.RedirectType},ServerInsertedHTMLContext:function(){return c.ServerInsertedHTMLContext},notFound:function(){return u.notFound},permanentRedirect:function(){return u.permanentRedirect},redirect:function(){return u.redirect},useParams:function(){return p},usePathname:function(){return d},useRouter:function(){return f},useSearchParams:function(){return l},useSelectedLayoutSegment:function(){return g},useSelectedLayoutSegments:function(){return h},useServerInsertedHTML:function(){return c.useServerInsertedHTML}});let r=n(44194),i=n(65834),s=n(55554),o=n(11257),a=n(33230),u=n(70262),c=n(49185);function l(){let e=(0,r.useContext)(s.SearchParamsContext);return(0,r.useMemo)(()=>e?new u.ReadonlyURLSearchParams(e):null,[e])}function d(){return(0,r.useContext)(s.PathnameContext)}function f(){let e=(0,r.useContext)(i.AppRouterContext);if(null===e)throw Error("invariant expected app router to be mounted");return e}function p(){return(0,r.useContext)(s.PathParamsContext)}function h(e){void 0===e&&(e="children");let t=(0,r.useContext)(i.LayoutRouterContext);return t?function e(t,n,r,i){let s;if(void 0===r&&(r=!0),void 0===i&&(i=[]),r)s=t[1][n];else{var u;let e=t[1];s=null!=(u=e.children)?u:Object.values(e)[0]}if(!s)return i;let c=s[0],l=(0,o.getSegmentValue)(c);return!l||l.startsWith(a.PAGE_SEGMENT_KEY)?i:(i.push(l),e(s,n,!1,i))}(t.tree,e):null}function g(e){void 0===e&&(e="children");let t=h(e);if(!t||0===t.length)return null;let n="children"===e?t[0]:t[t.length-1];return n===a.DEFAULT_SEGMENT_KEY?null:n}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},70262:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{ReadonlyURLSearchParams:function(){return o},RedirectType:function(){return r.RedirectType},notFound:function(){return i.notFound},permanentRedirect:function(){return r.permanentRedirect},redirect:function(){return r.redirect}});let r=n(99211),i=n(59469);class s extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class o extends URLSearchParams{append(){throw new s}delete(){throw new s}set(){throw new s}sort(){throw new s}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},59469:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{isNotFoundError:function(){return i},notFound:function(){return r}});let n="NEXT_NOT_FOUND";function r(){let e=Error(n);throw e.digest=n,e}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===n}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},44759:function(e,t){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return n}}),(r=n||(n={}))[r.SeeOther=303]="SeeOther",r[r.TemporaryRedirect=307]="TemporaryRedirect",r[r.PermanentRedirect=308]="PermanentRedirect",("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},99211:function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{RedirectType:function(){return r},getRedirectError:function(){return c},getRedirectStatusCodeFromError:function(){return g},getRedirectTypeFromError:function(){return h},getURLFromRedirectError:function(){return p},isRedirectError:function(){return f},permanentRedirect:function(){return d},redirect:function(){return l}});let s=n(85419),o=n(35883),a=n(44759),u="NEXT_REDIRECT";function c(e,t,n){void 0===n&&(n=a.RedirectStatusCode.TemporaryRedirect);let r=Error(u);r.digest=u+";"+t+";"+e+";"+n+";";let i=s.requestAsyncStorage.getStore();return i&&(r.mutableCookies=i.mutableCookies),r}function l(e,t){void 0===t&&(t="replace");let n=o.actionAsyncStorage.getStore();throw c(e,t,(null==n?void 0:n.isAction)?a.RedirectStatusCode.SeeOther:a.RedirectStatusCode.TemporaryRedirect)}function d(e,t){void 0===t&&(t="replace");let n=o.actionAsyncStorage.getStore();throw c(e,t,(null==n?void 0:n.isAction)?a.RedirectStatusCode.SeeOther:a.RedirectStatusCode.PermanentRedirect)}function f(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,n,r,i]=e.digest.split(";",4),s=Number(i);return t===u&&("replace"===n||"push"===n)&&"string"==typeof r&&!isNaN(s)&&s in a.RedirectStatusCode}function p(e){return f(e)?e.digest.split(";",3)[2]:null}function h(e){if(!f(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function g(e){if(!f(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(i=r||(r={})).push="push",i.replace="replace",("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},98768:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"requestAsyncStorage",{enumerable:!0,get:function(){return r}});let r=(0,n(77831).createAsyncLocalStorage)();("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},85419:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{getExpectedRequestStore:function(){return i},requestAsyncStorage:function(){return r.requestAsyncStorage}});let r=n(98768);function i(e){let t=r.requestAsyncStorage.getStore();if(t)return t;throw Error("`"+e+"` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context")}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},11257:function(e,t){"use strict";function n(e){return Array.isArray(e)?e[1]:e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSegmentValue",{enumerable:!0,get:function(){return n}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},33394:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"staticGenerationAsyncStorage",{enumerable:!0,get:function(){return r}});let r=(0,n(77831).createAsyncLocalStorage)();("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83823:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"staticGenerationAsyncStorage",{enumerable:!0,get:function(){return r.staticGenerationAsyncStorage}});let r=n(33394);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},80140:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{StaticGenBailoutError:function(){return r},isStaticGenBailoutError:function(){return i}});let n="NEXT_STATIC_GEN_BAILOUT";class r extends Error{constructor(...e){super(...e),this.code=n}}function i(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===n}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},49185:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{ServerInsertedHTMLContext:function(){return i},useServerInsertedHTML:function(){return s}});let r=n(60273)._(n(44194)),i=r.default.createContext(null);function s(e){let t=(0,r.useContext)(i);t&&t(e)}},20380:function(e,t,n){"use strict";n.d(t,{A:function(){return u},Z:function(){return a}});var r=n(31549),i=n(65895),s=n.n(i);let o="G-JWXGSV1ZD1";function a(e){let{user:t}=e,n={user_id:null==t?void 0:t._id};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s(),{src:"https://www.googletagmanager.com/gtag/js?id=".concat(o),strategy:"afterInteractive"}),(0,r.jsx)(s(),{id:"ga4",children:"\n          window.dataLayer = window.dataLayer || [];\n          function gtag(){dataLayer.push(arguments);}\n          gtag('js', new Date());\n\n          gtag('config', '".concat(o,"', ").concat(JSON.stringify(n),");\n        ")})]})}function u(e,t){"function"==typeof gtag&&gtag("event",e,t)}},50179:function(e,t,n){"use strict";n.d(t,{f:function(){return a},k:function(){return o}});var r=n(31549),i=n(44194);let s=(0,i.createContext)(void 0),o=e=>{let{children:t}=e,n=(0,i.useRef)(null);return(0,r.jsx)(s.Provider,{value:n,children:t})};function a(){let e=(0,i.useContext)(s);if(!e)throw Error("useTrialTargetInputContent must be used within a TrialTargetInputProvider");return e}},31729:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r=n(31549),i=n(65895),s=n.n(i),o=n(37337),a=n(44194),u=n(52795),c=n(70690),l=n(7613);let d=e=>e.replace(/%3B/g,";"),f=e=>{let t;for(let n of e.split("; ")){let e=n.split("=");if(d(e[0]).replace(/%3D/g,"=")===l.R){t=d(e.slice(1).join("="));continue}}return t},p=e=>(decodeURIComponent(e).match(/"([^"]+)\.prismic\.io"/)||[])[1];function h({repositoryName:e,updatePreviewURL:t="/api/preview",exitPreviewURL:n="/api/exit-preview",isDraftMode:r}){let i,s=r,o=!0,l="";try{let e=(0,u.useRouter)();o=!1,l=e.basePath,s||(s=e.isPreview),i=()=>e.replace(e.asPath,void 0,{scroll:!1})}catch{i=(0,c.useRouter)().refresh}return(0,a.useEffect)(()=>{let r=async()=>{let e=l+t;(await globalThis.fetch(e)).redirected?i():console.error(`[<PrismicPreview>] Failed to start or update Preview Mode using the "${e}" API endpoint. Does it exist?`)},a=async e=>{e.preventDefault(),o?i():await r()},u=async e=>{e.preventDefault();let t=l+n;(await globalThis.fetch(t)).ok?i():console.error(`[<PrismicPreview>] Failed to exit Preview Mode using the "${t}" API endpoint. Does it exist?`)};if(window.addEventListener("prismicPreviewUpdate",a),window.addEventListener("prismicPreviewEnd",u),!s){let t=f(globalThis.document.cookie);if(t){let n=window.location.href.startsWith(window.location.origin+l),i=p(t);n&&i===e&&r()}}return()=>{window.removeEventListener("prismicPreviewUpdate",a),window.removeEventListener("prismicPreviewEnd",u)}},[l,n,o,s,i,e,t]),null}var g=Object.defineProperty,_=(e,t,n)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t,n)=>(_(e,"symbol"!=typeof t?t+"":t,n),n);class m extends Error{constructor(e="An invalid API response was returned",t,n){super(e),v(this,"url"),v(this,"response"),this.url=t,this.response=n}}let y=e=>/^[a-zA-Z0-9][-a-zA-Z0-9]{2,}[a-zA-Z0-9]$/.test(e),b=e=>{if(y(e))return`https://static.cdn.prismic.io/prismic.js?new=true&repo=${e}`;throw new m(`An invalid Prismic repository name was given: ${e}`,void 0,void 0)};function k({repositoryName:e,children:t,...n}){let i=b(e),a=!1;try{a=(0,o.draftMode)().isEnabled}catch{}return(0,r.jsxs)(r.Fragment,{children:[t,(0,r.jsx)(h,{repositoryName:e,isDraftMode:a,...n}),(0,r.jsx)(s(),{src:i,strategy:"lazyOnload"})]})}var w=n(79507),S=n(22220);function E(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s(),{src:"https://cdn.firstpromoter.com/fpr.js",strategy:"afterInteractive",onLoad:()=>{var e;(e=window).fpr=e.fpr||function(){e.fpr.q=e.fpr.q||[],e.fpr.q["set"==arguments[0]?"unshift":"push"](arguments)},window.fpr("init",{cid:"983mg5pr"}),window.fpr("click")}})})}var x=n(20380),T=n(50179);n(20345);var R=n(78040);w.ZP.__loaded||w.ZP.init("phc_AsedXZSF8KCvaO4gsF9ZDadRQD03K0j7q0QQwfhe8in",{api_host:"https://hostedscan.com/ingest",ui_host:"https://us.posthog.com",loaded:e=>{}});var O=function(e){let{Component:t,pageProps:n}=e,i=(0,u.useRouter)();(0,a.useEffect)(()=>{let e=()=>null===w.ZP||void 0===w.ZP?void 0:w.ZP.capture("$pageview");return i.events.on("routeChangeComplete",e),()=>{i.events.off("routeChangeComplete",e)}},[i]);let{user:s,isLoading:o}=(0,R.aF)();return(0,r.jsx)(k,{repositoryName:"hostedscan",children:(0,r.jsxs)(S.zf,{client:w.ZP,children:[(0,r.jsx)(E,{}),!o&&(0,r.jsx)(x.Z,{user:s}),(0,r.jsx)(T.k,{children:(0,r.jsx)(t,{...n})})]})})}},78040:function(e,t,n){"use strict";let r;n.d(t,{gt:function(){return et},AK:function(){return en},O3:function(){return er},RF:function(){return ei},aF:function(){return eo}});var i=n(44194),s=n(38645);let o=()=>{},a=o(),u=Object,c=e=>e===a,l=e=>"function"==typeof e,d=(e,t)=>({...e,...t}),f=e=>l(e.then),p=new WeakMap,h=0,g=e=>{let t,n;let r=typeof e,i=e&&e.constructor,s=i==Date;if(u(e)!==e||s||i==RegExp)t=s?e.toJSON():"symbol"==r?e.toString():"string"==r?JSON.stringify(e):""+e;else{if(t=p.get(e))return t;if(t=++h+"~",p.set(e,t),i==Array){for(n=0,t="@";n<e.length;n++)t+=g(e[n])+",";p.set(e,t)}if(i==u){t="#";let r=u.keys(e).sort();for(;!c(n=r.pop());)c(e[n])||(t+=n+":"+g(e[n])+",");p.set(e,t)}}return t},_=new WeakMap,v={},m={},y="undefined",b=typeof window!=y,k=typeof document!=y,w=()=>b&&typeof window.requestAnimationFrame!=y,S=(e,t)=>{let n=_.get(e);return[()=>!c(t)&&e.get(t)||v,r=>{if(!c(t)){let i=e.get(t);t in m||(m[t]=i),n[5](t,d(i,r),i||v)}},n[6],()=>!c(t)&&t in m?m[t]:!c(t)&&e.get(t)||v]},E=!0,[x,T]=b&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[o,o],R={initFocus:e=>(k&&document.addEventListener("visibilitychange",e),x("focus",e),()=>{k&&document.removeEventListener("visibilitychange",e),T("focus",e)}),initReconnect:e=>{let t=()=>{E=!0,e()},n=()=>{E=!1};return x("online",t),x("offline",n),()=>{T("online",t),T("offline",n)}}},O=!i.useId,P=!b||"Deno"in window,I=e=>w()?window.requestAnimationFrame(e):setTimeout(e,1),C=P?i.useEffect:i.useLayoutEffect,A="undefined"!=typeof navigator&&navigator.connection,$=!P&&A&&(["slow-2g","2g"].includes(A.effectiveType)||A.saveData),L=e=>{if(l(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?g(e):"",t]},F=0,M=()=>++F;var j={ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function D(...e){let[t,n,r,i]=e,s=d({populateCache:!0,throwOnError:!0},"boolean"==typeof i?{revalidate:i}:i||{}),o=s.populateCache,u=s.rollbackOnError,p=s.optimisticData,h=e=>"function"==typeof u?u(e):!1!==u,g=s.throwOnError;if(l(n)){let e=[];for(let r of t.keys())!/^\$(inf|sub)\$/.test(r)&&n(t.get(r)._k)&&e.push(r);return Promise.all(e.map(v))}return v(n);async function v(n){let i;let[u]=L(n);if(!u)return;let[d,v]=S(t,u),[m,y,b,k]=_.get(t),w=()=>{let e=m[u];return(l(s.revalidate)?s.revalidate(d().data,n):!1!==s.revalidate)&&(delete b[u],delete k[u],e&&e[0])?e[0](2).then(()=>d().data):d().data};if(e.length<3)return w();let E=r,x=M();y[u]=[x,0];let T=!c(p),R=d(),O=R.data,P=R._c,I=c(P)?O:P;if(T&&v({data:p=l(p)?p(I,O):p,_c:I}),l(E))try{E=E(I)}catch(e){i=e}if(E&&f(E)){if(E=await E.catch(e=>{i=e}),x!==y[u][0]){if(i)throw i;return E}i&&T&&h(i)&&(o=!0,v({data:I,_c:a}))}if(o&&!i&&(l(o)?v({data:o(E,I),error:a,_c:a}):v({data:E,error:a,_c:a})),y[u][1]=M(),Promise.resolve(w()).then(()=>{v({_c:a})}),i){if(g)throw i;return}return E}}let N=(e,t)=>{for(let n in e)e[n][0]&&e[n][0](t)},q=(e,t)=>{if(!_.has(e)){let n=d(R,t),r={},i=D.bind(a,e),s=o,u={},c=(e,t)=>{let n=u[e]||[];return u[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},l=(t,n,r)=>{e.set(t,n);let i=u[t];if(i)for(let e of i)e(n,r)},f=()=>{if(!_.has(e)&&(_.set(e,[r,{},{},{},i,l,c]),!P)){let t=n.initFocus(setTimeout.bind(a,N.bind(a,r,0))),i=n.initReconnect(setTimeout.bind(a,N.bind(a,r,1)));s=()=>{t&&t(),i&&i(),_.delete(e)}}};return f(),[e,i,f,s]}return[e,_.get(e)[4]]},[B,H]=q(new Map),U=d({onLoadingSlow:o,onSuccess:o,onError:o,onErrorRetry:(e,t,n,r,i)=>{let s=n.errorRetryCount,o=i.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;(c(s)||!(o>s))&&setTimeout(r,a,i)},onDiscarded:o,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:$?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:$?5e3:3e3,compare:(e,t)=>g(e)==g(t),isPaused:()=>!1,cache:B,mutate:H,fallback:{}},{isOnline:()=>E,isVisible:()=>{let e=k&&document.visibilityState;return c(e)||"hidden"!==e}}),G=(e,t)=>{let n=d(e,t);if(t){let{use:r,fallback:i}=e,{use:s,fallback:o}=t;r&&s&&(n.use=r.concat(s)),i&&o&&(n.fallback=d(i,o))}return n},X=(0,i.createContext)({}),W=b&&window.__SWR_DEVTOOLS_USE__,J=W?window.__SWR_DEVTOOLS_USE__:[],V=e=>l(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],z=()=>d(U,(0,i.useContext)(X)),Y=J.concat(e=>(t,n,r)=>{let i=n&&((...e)=>{let[r]=L(t),[,,,i]=_.get(B);if(r.startsWith("$inf$"))return n(...e);let s=i[r];return c(s)?n(...e):(delete i[r],s)});return e(t,i,r)}),Z=(e,t,n)=>{let r=t[e]||(t[e]=[]);return r.push(n),()=>{let e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}};W&&(window.__SWR_DEVTOOLS_REACT__=i);let K=i.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),Q={dedupe:!0};u.defineProperty(e=>{let{value:t}=e,n=(0,i.useContext)(X),r=l(t),s=(0,i.useMemo)(()=>r?t(n):t,[r,n,t]),o=(0,i.useMemo)(()=>r?s:G(n,s),[r,n,s]),u=s&&s.provider,c=(0,i.useRef)(a);u&&!c.current&&(c.current=q(u(o.cache||B),s));let f=c.current;return f&&(o.cache=f[0],o.mutate=f[1]),C(()=>{if(f)return f[2]&&f[2](),f[3]},[]),(0,i.createElement)(X.Provider,d(e,{value:o}))},"defaultValue",{value:U});let ee=(r=(e,t,n)=>{let{cache:r,compare:o,suspense:u,fallbackData:f,revalidateOnMount:p,revalidateIfStale:h,refreshInterval:g,refreshWhenHidden:v,refreshWhenOffline:m,keepPreviousData:y}=n,[b,k,w,E]=_.get(r),[x,T]=L(e),R=(0,i.useRef)(!1),A=(0,i.useRef)(!1),$=(0,i.useRef)(x),F=(0,i.useRef)(t),N=(0,i.useRef)(n),q=()=>N.current,B=()=>q().isVisible()&&q().isOnline(),[H,U,G,X]=S(r,x),W=(0,i.useRef)({}).current,J=c(f)?n.fallback[x]:f,V=(e,t)=>{for(let n in W)if("data"===n){if(!o(e[n],t[n])&&(!c(e[n])||!o(eo,t[n])))return!1}else if(t[n]!==e[n])return!1;return!0},z=(0,i.useMemo)(()=>{let e=!!x&&!!t&&(c(p)?!q().isPaused()&&!u&&(!!c(h)||h):p),n=t=>{let n=d(t);return(delete n._k,e)?{isValidating:!0,isLoading:!0,...n}:n},r=H(),i=X(),s=n(r),o=r===i?s:n(i),a=s;return[()=>{let e=n(H());return V(e,a)?(a.data=e.data,a.isLoading=e.isLoading,a.isValidating=e.isValidating,a.error=e.error,a):(a=e,e)},()=>o]},[r,x]),Y=(0,s.useSyncExternalStore)((0,i.useCallback)(e=>G(x,(t,n)=>{V(n,t)||e()}),[r,x]),z[0],z[1]),ee=!R.current,et=b[x]&&b[x].length>0,en=Y.data,er=c(en)?J:en,ei=Y.error,es=(0,i.useRef)(er),eo=y?c(en)?es.current:en:er,ea=(!et||!!c(ei))&&(ee&&!c(p)?p:!q().isPaused()&&(u?!c(er)&&h:c(er)||h)),eu=!!(x&&t&&ee&&ea),ec=c(Y.isValidating)?eu:Y.isValidating,el=c(Y.isLoading)?eu:Y.isLoading,ed=(0,i.useCallback)(async e=>{let t,r;let i=F.current;if(!x||!i||A.current||q().isPaused())return!1;let s=!0,u=e||{},d=!w[x]||!u.dedupe,f=()=>O?!A.current&&x===$.current&&R.current:x===$.current,p={isValidating:!1,isLoading:!1},h=()=>{U(p)},g=()=>{let e=w[x];e&&e[1]===r&&delete w[x]},_={isValidating:!0};c(H().data)&&(_.isLoading=!0);try{if(d&&(U(_),n.loadingTimeout&&c(H().data)&&setTimeout(()=>{s&&f()&&q().onLoadingSlow(x,n)},n.loadingTimeout),w[x]=[i(T),M()]),[t,r]=w[x],t=await t,d&&setTimeout(g,n.dedupingInterval),!w[x]||w[x][1]!==r)return d&&f()&&q().onDiscarded(x),!1;p.error=a;let e=k[x];if(!c(e)&&(r<=e[0]||r<=e[1]||0===e[1]))return h(),d&&f()&&q().onDiscarded(x),!1;let u=H().data;p.data=o(u,t)?u:t,d&&f()&&q().onSuccess(t,x,n)}catch(n){g();let e=q(),{shouldRetryOnError:t}=e;!e.isPaused()&&(p.error=n,d&&f()&&(e.onError(n,x,e),(!0===t||l(t)&&t(n))&&(!q().revalidateOnFocus||!q().revalidateOnReconnect||B())&&e.onErrorRetry(n,x,e,e=>{let t=b[x];t&&t[0]&&t[0](j.ERROR_REVALIDATE_EVENT,e)},{retryCount:(u.retryCount||0)+1,dedupe:!0})))}return s=!1,h(),!0},[x,r]),ef=(0,i.useCallback)((...e)=>D(r,$.current,...e),[]);if(C(()=>{F.current=t,N.current=n,c(en)||(es.current=en)}),C(()=>{if(!x)return;let e=ed.bind(a,Q),t=0,n=Z(x,b,(n,r={})=>{if(n==j.FOCUS_EVENT){let n=Date.now();q().revalidateOnFocus&&n>t&&B()&&(t=n+q().focusThrottleInterval,e())}else if(n==j.RECONNECT_EVENT)q().revalidateOnReconnect&&B()&&e();else if(n==j.MUTATE_EVENT)return ed();else if(n==j.ERROR_REVALIDATE_EVENT)return ed(r)});return A.current=!1,$.current=x,R.current=!0,U({_k:T}),ea&&(c(er)||P?e():I(e)),()=>{A.current=!0,n()}},[x]),C(()=>{let e;function t(){let t=l(g)?g(H().data):g;t&&-1!==e&&(e=setTimeout(n,t))}function n(){!H().error&&(v||q().isVisible())&&(m||q().isOnline())?ed(Q).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[g,v,m,x]),(0,i.useDebugValue)(eo),u&&c(er)&&x){if(!O&&P)throw Error("Fallback data is required when using suspense in SSR.");F.current=t,N.current=n,A.current=!1;let e=E[x];if(c(e)||K(ef(e)),c(ei)){let e=ed(Q);c(eo)||(e.status="fulfilled",e.value=!0),K(e)}else throw ei}return{mutate:ef,get data(){return W.data=!0,eo},get error(){return W.error=!0,ei},get isValidating(){return W.isValidating=!0,ec},get isLoading(){return W.isLoading=!0,el}}},function(...e){let t=z(),[n,i,s]=V(e),o=G(t,s),a=r,{use:u}=o,c=(u||[]).concat(Y);for(let e=c.length;e--;)a=c[e](a);return a(n,i||o.fetcher||null,o)}),et="demo+account@hostedscan.com";function en(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function er(e,t){(0,i.useEffect)(()=>{function n(n){e&&e.current&&!e.current.contains(n.target)&&t(e,n)}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[e,t])}function ei(){let[e,t]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let e=()=>{t(window.pageYOffset)};return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)},[]),e}class es extends Error{constructor(e,t,n){super(e),this.status=t,this.body=n}}function eo(){var e,t;let n;let{data:r,error:i,isLoading:s,mutate:o}=(e="/users/me",t={shouldRetryOnError:!1},ee("".concat("https://api.hostedscan.com").concat(e),async e=>{var t;let n=await fetch(e,{credentials:"include"});if(!n.ok){let e=await n.text();throw new es("Failed to fetch data",n.status,e)}return(null===(t=n.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?n.json():n.text()},t)),a=!!i;return r&&!a&&(n=r),{user:n,error:i,isLoading:s,hasError:a,mutate:o}}},46354:function(e){"use strict";var t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function o(e){var t;let n=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),r=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===n.length?r:`${r}; ${n.join("; ")}`}function a(e){let t=new Map;for(let n of e.split(/; */)){if(!n)continue;let e=n.indexOf("=");if(-1===e){t.set(n,"true");continue}let[r,i]=[n.slice(0,e),n.slice(e+1)];try{t.set(r,decodeURIComponent(null!=i?i:"true"))}catch{}}return t}function u(e){var t,n;if(!e)return;let[[r,i],...s]=a(e),{domain:o,expires:u,httponly:d,maxage:f,path:p,samesite:h,secure:g,partitioned:_,priority:v}=Object.fromEntries(s.map(([e,t])=>[e.toLowerCase(),t]));return function(e){let t={};for(let n in e)e[n]&&(t[n]=e[n]);return t}({name:r,value:decodeURIComponent(i),domain:o,...u&&{expires:new Date(u)},...d&&{httpOnly:!0},..."string"==typeof f&&{maxAge:Number(f)},path:p,...h&&{sameSite:c.includes(t=(t=h).toLowerCase())?t:void 0},...g&&{secure:!0},...v&&{priority:l.includes(n=(n=v).toLowerCase())?n:void 0},..._&&{partitioned:!0}})}((e,n)=>{for(var r in n)t(e,r,{get:n[r],enumerable:!0})})(s,{RequestCookies:()=>d,ResponseCookies:()=>f,parseCookie:()=>a,parseSetCookie:()=>u,stringifyCookie:()=>o}),e.exports=((e,s,o,a)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let u of r(s))i.call(e,u)||u===o||t(e,u,{get:()=>s[u],enumerable:!(a=n(s,u))||a.enumerable});return e})(t({},"__esModule",{value:!0}),s);var c=["strict","lax","none"],l=["low","medium","high"],d=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,n]of a(t))this._parsed.set(e,{name:e,value:n})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let n=Array.from(this._parsed);if(!e.length)return n.map(([e,t])=>t);let r="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return n.filter(([e])=>e===r).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,n]=1===e.length?[e[0].name,e[0].value]:e,r=this._parsed;return r.set(t,{name:t,value:n}),this._headers.set("cookie",Array.from(r).map(([e,t])=>o(t)).join("; ")),this}delete(e){let t=this._parsed,n=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>o(t)).join("; ")),n}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},f=class{constructor(e){var t,n,r;this._parsed=new Map,this._headers=e;let i=null!=(r=null!=(n=null==(t=e.getSetCookie)?void 0:t.call(e))?n:e.get("set-cookie"))?r:[];for(let e of Array.isArray(i)?i:function(e){if(!e)return[];var t,n,r,i,s,o=[],a=0;function u(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}for(;a<e.length;){for(t=a,s=!1;u();)if(","===(n=e.charAt(a))){for(r=a,a+=1,u(),i=a;a<e.length&&"="!==(n=e.charAt(a))&&";"!==n&&","!==n;)a+=1;a<e.length&&"="===e.charAt(a)?(s=!0,a=i,o.push(e.substring(t,r)),t=a):a=r+1}else a+=1;(!s||a>=e.length)&&o.push(e.substring(t,e.length))}return o}(i)){let t=u(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let n=Array.from(this._parsed.values());if(!e.length)return n;let r="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return n.filter(e=>e.name===r)}has(e){return this._parsed.has(e)}set(...e){let[t,n,r]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:n,...r})),function(e,t){for(let[,n]of(t.delete("set-cookie"),e)){let e=o(n);t.append("set-cookie",e)}}(i,this._headers),this}delete(...e){let[t,n,r]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:n,domain:r,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(o).join("; ")}}},20345:function(){},32410:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{getPathname:function(){return r},isFullStringUrl:function(){return i},parseUrl:function(){return s}});let n="http://n";function r(e){return new URL(e,n).pathname}function i(e){return/https?:\/\//.test(e)}function s(e){let t;try{t=new URL(e,n)}catch{}return t}},19089:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{Postpone:function(){return f},createPostponedAbortSignal:function(){return m},createPrerenderState:function(){return c},formatDynamicAPIAccesses:function(){return _},markCurrentScopeAsDynamic:function(){return l},trackDynamicDataAccessed:function(){return d},trackDynamicFetch:function(){return p},usedDynamicAPIs:function(){return g}});let i=(r=n(44194))&&r.__esModule?r:{default:r},s=n(65908),o=n(80140),a=n(32410),u="function"==typeof i.default.unstable_postpone;function c(e){return{isDebugSkeleton:e,dynamicAccesses:[]}}function l(e,t){let n=(0,a.getPathname)(e.urlPathname);if(!e.isUnstableCacheCallback){if(e.dynamicShouldError)throw new o.StaticGenBailoutError(`Route ${n} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(e.prerenderState)h(e.prerenderState,t,n);else if(e.revalidate=0,e.isStaticGeneration){let r=new s.DynamicServerError(`Route ${n} couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw e.dynamicUsageDescription=t,e.dynamicUsageStack=r.stack,r}}}function d(e,t){let n=(0,a.getPathname)(e.urlPathname);if(e.isUnstableCacheCallback)throw Error(`Route ${n} used "${t}" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "${t}" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`);if(e.dynamicShouldError)throw new o.StaticGenBailoutError(`Route ${n} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(e.prerenderState)h(e.prerenderState,t,n);else if(e.revalidate=0,e.isStaticGeneration){let r=new s.DynamicServerError(`Route ${n} couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw e.dynamicUsageDescription=t,e.dynamicUsageStack=r.stack,r}}function f({reason:e,prerenderState:t,pathname:n}){h(t,e,n)}function p(e,t){e.prerenderState&&h(e.prerenderState,t,e.urlPathname)}function h(e,t,n){v();let r=`Route ${n} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`;e.dynamicAccesses.push({stack:e.isDebugSkeleton?Error().stack:void 0,expression:t}),i.default.unstable_postpone(r)}function g(e){return e.dynamicAccesses.length>0}function _(e){return e.dynamicAccesses.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function v(){if(!u)throw Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js")}function m(e){v();let t=new AbortController;try{i.default.unstable_postpone(e)}catch(e){t.abort(e)}return t.signal}},63237:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{HeadersAdapter:function(){return s},ReadonlyHeadersError:function(){return i}});let r=n(77117);class i extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new i}}class s extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,n,i){if("symbol"==typeof n)return r.ReflectAdapter.get(t,n,i);let s=n.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===s);if(void 0!==o)return r.ReflectAdapter.get(t,o,i)},set(t,n,i,s){if("symbol"==typeof n)return r.ReflectAdapter.set(t,n,i,s);let o=n.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===o);return r.ReflectAdapter.set(t,a??n,i,s)},has(t,n){if("symbol"==typeof n)return r.ReflectAdapter.has(t,n);let i=n.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0!==s&&r.ReflectAdapter.has(t,s)},deleteProperty(t,n){if("symbol"==typeof n)return r.ReflectAdapter.deleteProperty(t,n);let i=n.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0===s||r.ReflectAdapter.deleteProperty(t,s)}})}static seal(e){return new Proxy(e,{get(e,t,n){switch(t){case"append":case"delete":case"set":return i.callable;default:return r.ReflectAdapter.get(e,t,n)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new s(e)}append(e,t){let n=this.headers[e];"string"==typeof n?this.headers[e]=[n,t]:Array.isArray(n)?n.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[n,r]of this.entries())e.call(t,r,n,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),n=this.get(t);yield[t,n]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},77117:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return n}});class n{static get(e,t,n){let r=Reflect.get(e,t,n);return"function"==typeof r?r.bind(e):r}static set(e,t,n,r){return Reflect.set(e,t,n,r)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},23254:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{MutableRequestCookiesAdapter:function(){return d},ReadonlyRequestCookiesError:function(){return o},RequestCookiesAdapter:function(){return a},appendMutableCookies:function(){return l},getModifiedCookieValues:function(){return c}});let r=n(38157),i=n(77117),s=n(83823);class o extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#cookiessetname-value-options")}static callable(){throw new o}}class a{static seal(e){return new Proxy(e,{get(e,t,n){switch(t){case"clear":case"delete":case"set":return o.callable;default:return i.ReflectAdapter.get(e,t,n)}}})}}let u=Symbol.for("next.mutated.cookies");function c(e){let t=e[u];return t&&Array.isArray(t)&&0!==t.length?t:[]}function l(e,t){let n=c(t);if(0===n.length)return!1;let i=new r.ResponseCookies(e),s=i.getAll();for(let e of n)i.set(e);for(let e of s)i.set(e);return!0}class d{static wrap(e,t){let n=new r.ResponseCookies(new Headers);for(let t of e.getAll())n.set(t);let o=[],a=new Set,c=()=>{let e=s.staticGenerationAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=!0),o=n.getAll().filter(e=>a.has(e.name)),t){let e=[];for(let t of o){let n=new r.ResponseCookies(new Headers);n.set(t),e.push(n.toString())}t(e)}};return new Proxy(n,{get(e,t,n){switch(t){case u:return o;case"delete":return function(...t){a.add("string"==typeof t[0]?t[0]:t[0].name);try{e.delete(...t)}finally{c()}};case"set":return function(...t){a.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t)}finally{c()}};default:return i.ReflectAdapter.get(e,t,n)}}})}}},38157:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{RequestCookies:function(){return r.RequestCookies},ResponseCookies:function(){return r.ResponseCookies},stringifyCookie:function(){return r.stringifyCookie}});let r=n(46354)},37337:function(e,t,n){e.exports=n(61951)},70690:function(e,t,n){e.exports=n(19685)},52795:function(e,t,n){e.exports=n(25071)},65895:function(e,t,n){e.exports=n(88214)},79507:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}(e,t)||f(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw s}}}}n.d(t,{ZP:function(){return r1}});var g={DEBUG:!1,LIB_VERSION:"1.131.3"},_=Array.isArray,v=Object.prototype,m=v.hasOwnProperty,y=v.toString,b=_||function(e){return"[object Array]"===y.call(e)},k=function(e){return"function"==typeof e},w=function(e){return e===Object(e)&&!b(e)},S=function(e){if(w(e)){for(var t in e)if(m.call(e,t))return!1;return!0}return!1},E=function(e){return void 0===e},x=function(e){return"[object String]"==y.call(e)},T=function(e){return null===e},R=function(e){return E(e)||T(e)},O=function(e){return"[object Number]"==y.call(e)},P=function(e){return"[object Boolean]"===y.call(e)},I="undefined"!=typeof window?window:void 0,C="undefined"!=typeof globalThis?globalThis:I,A=Array.prototype,$=A.forEach,L=A.indexOf,F=null==C?void 0:C.navigator,M=null==C?void 0:C.document,j=null==C?void 0:C.location,D=null==C?void 0:C.fetch,N=null!=C&&C.XMLHttpRequest&&"withCredentials"in new C.XMLHttpRequest?C.XMLHttpRequest:void 0,q=null==C?void 0:C.AbortController,B=null==F?void 0:F.userAgent,H=null!=I?I:{},U="[PostHog.js]",G={_log:function(e){if(I&&(g.DEBUG||H.POSTHOG_DEBUG)&&!E(I.console)&&I.console){for(var t=("__rrweb_original__"in I.console[e])?I.console[e].__rrweb_original__:I.console[e],n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(void 0,[U].concat(r))}},info:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];G._log.apply(G,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];G._log.apply(G,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];G._log.apply(G,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[U].concat(n))},uninitializedWarning:function(e){G.error("You must initialize PostHog before calling ".concat(e))}},X={},W=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function J(e,t,n){if(b(e)){if($&&e.forEach===$)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===X)return}}}function V(e,t,n){if(!R(e)){if(b(e))return J(e,t,n);if(e instanceof FormData){var r,i=h(e.entries());try{for(i.s();!(r=i.n()).done;){var s=r.value;if(t.call(n,s[1],s[0])===X)return}}catch(e){i.e(e)}finally{i.f()}}else for(var o in e)if(m.call(e,o)&&t.call(n,e[o],o)===X)return}}var z=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return J(n,function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])}),e};function Y(e,t){return -1!==e.indexOf(t)}function Z(e){for(var t=Object.keys(e),n=t.length,r=Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var K,Q=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},ee=function(e){try{return e()}catch(e){return}},et=function(e){return function(){try{for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(e){G.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),G.critical(e)}}},en=function(e){var t={};return V(e,function(e,n){x(e)&&e.length>0&&(t[n]=e)}),t},er=function(e){var t,n,r,i,s="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,i=0;i<r;i++){var o=e.charCodeAt(i),a=null;o<128?n++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),T(a)||(n>t&&(s+=e.substring(t,n)),s+=a,t=n=i+1)}return n>t&&(s+=e.substring(t,e.length)),s},ei=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,s){if(t){if(t.addEventListener&&!i)t.addEventListener(n,r,!!s);else{var o="on"+n,a=t[o];t[o]=function(n){if(n=n||e(null==I?void 0:I.event)){var i,s=!0;k(a)&&(i=a(n));var o=r.call(t,n);return!1!==i&&!1!==o||(s=!1),s}}}}else G.error("No valid element provided to register_event")}}();function es(e,t){var n=function(){if(!M)return t("document not found");var n=M.createElement("script");n.type="text/javascript",n.src=e,n.onload=function(e){return t(void 0,e)},n.onerror=function(e){return t(e)};var r,i=M.querySelectorAll("body > script");i.length>0?null===(r=i[0].parentNode)||void 0===r||r.insertBefore(n,i[0]):M.body.appendChild(n)};null!=M&&M.body?n():null==M||M.addEventListener("DOMContentLoaded",n)}(eH=K||(K={})).GZipJS="gzip-js",eH.Base64="base64";var eo="$people_distinct_id",ea="__alias",eu="__timers",ec="$autocapture_disabled_server_side",el="$heatmaps_enabled_server_side",ed="$session_recording_enabled_server_side",ef="$console_log_recording_enabled_server_side",ep="$session_recording_network_payload_capture",eh="$session_recording_canvas_recording",eg="$replay_sample_rate",e_="$replay_minimum_duration",ev="$sesid",em="$session_is_sampled",ey="$enabled_feature_flags",eb="$early_access_features",ek="$stored_person_properties",ew="$stored_group_properties",eS="$surveys",eE="$flag_call_reported",ex="$user_state",eT="$client_session_props",eR="$capture_rate_limit",eO="$initial_campaign_params",eP="$initial_referrer_info",eI="$epp",eC="__POSTHOG_TOOLBAR__",eA=[eo,ea,"__cmpns",eu,ed,el,ev,ey,ex,eb,ew,ek,eS,eE,eT,eR,eO,eP,eI],e$="$active_feature_flags",eL="$override_feature_flags",eF="$feature_flag_payloads",eM=function(e){var t,n={},r=h(Z(e||{}));try{for(r.s();!(t=r.n()).done;){var i=l(t.value,2),s=i[0],o=i[1];o&&(n[s]=o)}}catch(e){r.e(e)}finally{r.f()}return n},ej=function(){function e(t){o(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return u(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var e=this.instance.get_property(ey),t=this.instance.get_property(eL);if(!t)return e||{};for(var n=z({},e),r=Object.keys(t),i=0;i<r.length;i++)n[r[i]]=t[r[i]];return this._override_warning||(G.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:n}),this._override_warning=!0),n}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(eF)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(e){this.$anon_distinct_id=e}},{key:"setReloadingPaused",value:function(e){this.reloadFeatureFlagsInAction=e}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var e=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!e.reloadFeatureFlagsInAction&&e.reloadFeatureFlagsQueued&&(e.reloadFeatureFlagsQueued=!1,e._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var e=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var t=this.instance.config.token,n=this.instance.get_property(ek),r=this.instance.get_property(ew),i={token:t,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:n,group_properties:r,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:i,compression:this.instance.config.disable_compression?void 0:K.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(t){e.setReloadingPaused(!1);var n,r=!0;200===t.statusCode&&(e.$anon_distinct_id=void 0,r=!1),e.receivedFeatureFlags(null!==(n=t.json)&&void 0!==n?n:{},r),e._startReloadTimer()}})}}},{key:"getFeatureFlag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var n,r=this.getFlagVariants()[e],i="".concat(r),s=this.instance.get_property(eE)||{};return!t.send_event&&"send_event"in t||e in s&&s[e].includes(i)||(b(s[e])?s[e].push(i):s[e]=[i],null===(n=this.instance.persistence)||void 0===n||n.register(c({},eE,s)),this.instance.capture("$feature_flag_called",{$feature_flag:e,$feature_flag_response:r})),r}G.warn('getFeatureFlag for key "'+e+"\" failed. Feature flags didn't load in time.")}},{key:"getFeatureFlagPayload",value:function(e){return this.getFlagPayloads()[e]}},{key:"isFeatureEnabled",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);G.warn('isFeatureEnabled for key "'+e+"\" failed. Feature flags didn't load in time.")}},{key:"addFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers.push(e)}},{key:"removeFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(t){return t!==e})}},{key:"receivedFeatureFlags",value:function(e,t){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var n=this.getFlagVariants(),r=this.getFlagPayloads();(function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.featureFlags,a=e.featureFlagPayloads;if(o){if(b(o)){var u,l={};if(o)for(var d=0;d<o.length;d++)l[o[d]]=!0;t&&t.register((c(u={},e$,o),c(u,ey,l),u))}else{var f=o,p=a;e.errorsWhileComputingFlags&&(f=i(i({},r),f),p=i(i({},s),p)),t&&t.register((c(n={},e$,Object.keys(eM(f))),c(n,ey,f||{}),c(n,eF,p||{}),n))}}})(e,this.instance.persistence,n,r),this._fireFeatureFlagsCallbacks(t)}}},{key:"override",value:function(e){if(!this.instance.__loaded||!this.instance.persistence)return G.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,!1===e)this.instance.persistence.unregister(eL);else if(b(e)){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;this.instance.persistence.register(c({},eL,t))}else this.instance.persistence.register(c({},eL,e))}},{key:"onFeatureFlags",value:function(e){var t=this;if(this.addFeatureFlagsHandler(e),this.instance.decideEndpointWasHit){var n=this._prepareFeatureFlagsForCallbacks();e(n.flags,n.flagVariants)}return function(){return t.removeFeatureFlagsHandler(e)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,t){var n,r,s=c({},"$feature_enrollment/".concat(e),t);this.instance.capture("$feature_enrollment_update",{$feature_flag:e,$feature_enrollment:t,$set:s}),this.setPersonPropertiesForFlags(s,!1);var o=i(i({},this.getFlagVariants()),{},c({},e,t));null===(n=this.instance.persistence)||void 0===n||n.register((c(r={},e$,Object.keys(eM(o))),c(r,ey,o),r)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.instance.get_property(eb);if(r&&!n)return e(r);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:function(n){var r;if(n.json){var i=n.json.earlyAccessFeatures;return null===(r=t.instance.persistence)||void 0===r||r.register(c({},eb,i)),e(i)}}})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter(function(e){return t[e]}),flagVariants:Object.keys(t).filter(function(e){return t[e]}).reduce(function(e,n){return e[n]=t[n],e},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(e){var t=this._prepareFeatureFlagsForCallbacks(),n=t.flags,r=t.flagVariants;this.featureFlagEventHandlers.forEach(function(t){return t(n,r,{errorsLoading:e})})}},{key:"setPersonPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.instance.get_property(ek)||{};this.instance.register(c({},ek,i(i({},n),e))),t&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(ek)}},{key:"setGroupPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.instance.get_property(ew)||{};0!==Object.keys(n).length&&Object.keys(n).forEach(function(t){n[t]=i(i({},n[t]),e[t]),delete e[t]}),this.instance.register(c({},ew,i(i({},n),e))),t&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(e){if(e){var t=this.instance.get_property(ew)||{};this.instance.register(c({},ew,i(i({},t),{},c({},e,{}))))}else this.instance.unregister(ew)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return O(e)&&isFinite(e)&&Math.floor(e)===e});var eD="0123456789abcdef",eN=function(){function e(t){if(o(this,e),this.bytes=t,16!==t.length)throw TypeError("not 128-bit length")}return u(e,[{key:"toString",value:function(){for(var e="",t=0;t<this.bytes.length;t++)e=e+eD.charAt(this.bytes[t]>>>4)+eD.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+="-");if(36!==e.length)throw Error("Invalid UUIDv7 was generated");return e}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(e){return 0===this.compareTo(e)}},{key:"compareTo",value:function(e){for(var t=0;t<16;t++){var n=this.bytes[t]-e.bytes[t];if(0!==n)return Math.sign(n)}return 0}}],[{key:"fromFieldsV7",value:function(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/1099511627776,s[1]=t/4294967296,s[2]=t/16777216,s[3]=t/65536,s[4]=t/256,s[5]=t,s[6]=112|n>>>8,s[7]=n,s[8]=128|r>>>24,s[9]=r>>>16,s[10]=r>>>8,s[11]=r,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new e(s)}}]),e}(),eq=function(){function e(){o(this,e),c(this,"timestamp",0),c(this,"counter",0),c(this,"random",new eX)}return u(e,[{key:"generate",value:function(){var e=this.generateOrAbort();if(E(e)){this.timestamp=0;var t=this.generateOrAbort();if(E(t))throw Error("Could not generate UUID after timestamp reset");return t}return e}},{key:"generateOrAbort",value:function(){var e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return eN.fromFieldsV7(this.timestamp,Math.trunc(this.counter/1073741824),1073741823&this.counter,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),eB=function(e){if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};I&&!E(I.crypto)&&crypto.getRandomValues&&(eB=function(e){return crypto.getRandomValues(e)});var eH,eU,eG,eX=function(){function e(){o(this,e),c(this,"buffer",new Uint32Array(8)),c(this,"cursor",1/0)}return u(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(eB(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),eW=function(){return eJ().toString()},eJ=function(){return(eU||(eU=new eq)).generate()},eV="",ez=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i,eY={is_supported:function(){return!!M},error:function(e){G.error("cookieStore error: "+e)},get:function(e){if(M){try{for(var t=e+"=",n=M.cookie.split(";").filter(function(e){return e.length}),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}}catch(e){}return null}},parse:function(e){var t;try{t=JSON.parse(eY.get(e))||{}}catch(e){}return t},set:function(e,t,n,r,i){if(M)try{var s="",o="",a=function(e,t){if(t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M;if(eV)return eV;if(!t||["localhost","127.0.0.1"].includes(e))return"";for(var n=e.split("."),r=Math.min(n.length,8),i="dmn_chk_"+eW(),s=RegExp("(^|;)\\s*"+i+"=1");!eV&&r--;){var o=n.slice(r).join("."),a=i+"=1;domain=."+o;t.cookie=a,s.test(t.cookie)&&(t.cookie=a+";expires=Thu, 01 Jan 1970 00:00:00 GMT",eV=o)}return eV}(e);if(!n){var r,i=(r=e.match(ez))?r[0]:"";i!==n&&G.info("Warning: cookie subdomain discovery mismatch",i,n),n=i}return n?"; domain=."+n:""}return""}(M.location.hostname,r);if(n){var u=new Date;u.setTime(u.getTime()+24*n*36e5),s="; expires="+u.toUTCString()}i&&(o="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+a+o;return c.length>3686.4&&G.warn("cookieStore warning: large cookie, len="+c.length),M.cookie=c,c}catch(e){return}},remove:function(e,t){try{eY.set(e,"",-1,t)}catch(e){return}}},eZ=null,eK={is_supported:function(){if(!T(eZ))return eZ;var e=!0;if(E(I))e=!1;else try{var t="__mplssupport__";eK.set(t,"xyz"),'"xyz"'!==eK.get(t)&&(e=!1),eK.remove(t)}catch(t){e=!1}return e||G.error("localStorage unsupported; falling back to cookie store"),eZ=e,e},error:function(e){G.error("localStorage error: "+e)},get:function(e){try{return null==I?void 0:I.localStorage.getItem(e)}catch(e){eK.error(e)}return null},parse:function(e){try{return JSON.parse(eK.get(e))||{}}catch(e){}return null},set:function(e,t){try{null==I||I.localStorage.setItem(e,JSON.stringify(t))}catch(e){eK.error(e)}},remove:function(e){try{null==I||I.localStorage.removeItem(e)}catch(e){eK.error(e)}}},eQ=["distinct_id",ev,em,eI],e0=i(i({},eK),{},{parse:function(e){try{var t={};try{t=eY.parse(e)||{}}catch(e){}var n=z(t,JSON.parse(eK.get(e)||"{}"));return eK.set(e,n),n}catch(e){}return null},set:function(e,t,n,r,i){try{eK.set(e,t);var s={};eQ.forEach(function(e){t[e]&&(s[e]=t[e])}),Object.keys(s).length&&eY.set(e,s,n,r,i)}catch(e){eK.error(e)}},remove:function(e,t){try{null==I||I.localStorage.removeItem(e),eY.remove(e,t)}catch(e){eK.error(e)}}}),e1={},e2={is_supported:function(){return!0},error:function(e){G.error("memoryStorage error: "+e)},get:function(e){return e1[e]||null},parse:function(e){return e1[e]||null},set:function(e,t){e1[e]=t},remove:function(e){delete e1[e]}},e3=null,e4={is_supported:function(){if(!T(e3))return e3;if(e3=!0,E(I))e3=!1;else try{var e="__support__";e4.set(e,"xyz"),'"xyz"'!==e4.get(e)&&(e3=!1),e4.remove(e)}catch(e){e3=!1}return e3},error:function(e){G.error("sessionStorage error: ",e)},get:function(e){try{return null==I?void 0:I.sessionStorage.getItem(e)}catch(e){e4.error(e)}return null},parse:function(e){try{return JSON.parse(e4.get(e))||null}catch(e){}return null},set:function(e,t){try{null==I||I.sessionStorage.setItem(e,JSON.stringify(t))}catch(e){e4.error(e)}},remove:function(e){try{null==I||I.sessionStorage.removeItem(e)}catch(e){e4.error(e)}}},e5=["localhost","127.0.0.1"],e6=function(e){var t=null==M?void 0:M.createElement("a");return E(t)?null:(t.href=e,t)},e8=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",i=[];return V(e,function(e,r){E(e)||E(r)||"undefined"===r||(t=encodeURIComponent(e instanceof File?e.name:e.toString()),n=encodeURIComponent(r),i[i.length]=n+"="+t)}),i.join(r)},e7=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var s=r[i].split("=");if(s[0]===t){n=s;break}}if(!b(n)||n.length<2)return"";var o=n[1];try{o=decodeURIComponent(o)}catch(e){G.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},e9=function(e,t){var n=e.match(RegExp(t+"=([^&]*)"));return n?n[1]:null},te="Mobile",tt="Android",tn="Tablet",tr=tt+" "+tn,ti="iPad",ts="Apple",to=ts+" Watch",ta="Safari",tu="BlackBerry",tc="Samsung",tl=tc+"Browser",td=tc+" Internet",tf="Chrome",tp=tf+" OS",th=tf+" iOS",tg="Internet Explorer",t_=tg+" "+te,tv="Opera",tm=tv+" Mini",ty="Edge",tb="Microsoft "+ty,tk="Firefox",tw=tk+" iOS",tS="Nintendo",tE="PlayStation",tx="Xbox",tT=tt+" "+te,tR=te+" "+ta,tO="Windows",tP=tO+" Phone",tI="Nokia",tC="Ouya",tA="Generic",t$=tA+" "+te.toLowerCase(),tL=tA+" "+tn.toLowerCase(),tF="Konqueror",tM="(\\d+(\\.\\d+)?)",tj=RegExp("Version/"+tM),tD=RegExp(tx,"i"),tN=RegExp(tE+" \\w+","i"),tq=RegExp(tS+" \\w+","i"),tB=RegExp(tu+"|PlayBook|BB10","i"),tH={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},tU=function(e,t){var n,r;return t=t||"",Y(e," OPR/")&&Y(e,"Mini")?tm:Y(e," OPR/")?tv:tB.test(e)?tu:Y(e,"IE"+te)||Y(e,"WPDesktop")?t_:Y(e,tl)?td:Y(e,ty)||Y(e,"Edg/")?tb:Y(e,"FBIOS")?"Facebook "+te:Y(e,tf)?tf:Y(e,"CriOS")?th:Y(e,"UCWEB")||Y(e,"UCBrowser")?"UC Browser":Y(e,"FxiOS")?tw:Y(e,tt)?tT:Y(e.toLowerCase(),tF.toLowerCase())?tF:(n=e,(r=t)&&Y(r,ts)||Y(n,ta)&&!Y(n,tf)&&!Y(n,tt))?Y(e,te)?tR:ta:Y(e,tk)?tk:Y(e,"MSIE")||Y(e,"Trident/")?tg:Y(e,"Gecko")?tk:""},tG=(c(eG={},t_,[RegExp("rv:"+tM)]),c(eG,tb,[RegExp(ty+"?\\/"+tM)]),c(eG,tf,[RegExp(tf+"/"+tM)]),c(eG,th,[RegExp("CriOS\\/"+tM)]),c(eG,"UC Browser",[RegExp("(UCBrowser|UCWEB)\\/"+tM)]),c(eG,ta,[tj]),c(eG,tR,[tj]),c(eG,tv,[RegExp("(Opera|OPR)\\/"+tM)]),c(eG,tk,[RegExp(tk+"\\/"+tM)]),c(eG,tw,[RegExp("FxiOS\\/"+tM)]),c(eG,tF,[RegExp("Konqueror[:/]?"+tM,"i")]),c(eG,tu,[RegExp(tu+" "+tM),tj]),c(eG,tT,[RegExp("android\\s"+tM)]),c(eG,td,[RegExp(tl+"\\/"+tM)]),c(eG,tg,[RegExp("(rv:|MSIE )"+tM)]),c(eG,"Mozilla",[RegExp("rv:"+tM)]),eG),tX=[[RegExp(tx+"; "+tx+" (.*?)[);]","i"),function(e){return[tx,e&&e[1]||""]}],[RegExp(tS,"i"),[tS,""]],[RegExp(tE,"i"),[tE,""]],[tB,[tu,""]],[RegExp(tO,"i"),function(e,t){if(/Phone/.test(t)||/WPDesktop/.test(t))return[tP,""];if(new RegExp(te).test(t)&&!/IEMobile\b/.test(t))return[tO+" "+te,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=tH[n[1]]||"";return/arm/i.test(t)&&(r="RT"),[tO,r]}return[tO,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,function(e){return e&&e[3]?["iOS",[e[3],e[4],e[5]||"0"].join(".")]:["iOS",""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,function(e){var t="";return e&&e.length>=3&&(t=E(e[2])?e[3]:e[2]),["watchOS",t]}],[RegExp("("+tt+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+tt+")","i"),function(e){return e&&e[2]?[tt,[e[2],e[3],e[4]||"0"].join(".")]:[tt,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,function(e){var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[tp,""]],[/Linux|debian/i,["Linux",""]]],tW=function(e){return tq.test(e)?tS:tN.test(e)?tE:tD.test(e)?tx:RegExp(tC,"i").test(e)?tC:RegExp("("+tP+"|WPDesktop)","i").test(e)?tP:/iPad/.test(e)?ti:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?to:tB.test(e)?tu:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":RegExp(tI,"i").test(e)?tI:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(te).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?tt:tr:tt:RegExp("(pda|"+te+")","i").test(e)?t$:RegExp(tn,"i").test(e)&&!RegExp(tn+" pc","i").test(e)?tL:""},tJ="https?://(.*)",tV=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid"],tz={campaignParams:function(e){var t=tV.concat(e||[]),n={};return V(t,function(e){var t=M?e7(M.URL,e):"";t.length&&(n[e]=t)}),n},searchEngine:function(){var e=null==M?void 0:M.referrer;return e?0===e.search(tJ+"google.([^/?]*)")?"google":0===e.search(tJ+"bing.com")?"bing":0===e.search(tJ+"yahoo.com")?"yahoo":0===e.search(tJ+"duckduckgo.com")?"duckduckgo":null:null},searchInfo:function(){var e=tz.searchEngine(),t={};if(!T(e)){t.$search_engine=e;var n=M?e7(M.referrer,"yahoo"!=e?"q":"p"):"";n.length&&(t.ph_keyword=n)}return t},browser:tU,browserVersion:function(e,t){var n=tG[tU(e,t)];if(E(n))return null;for(var r=0;r<n.length;r++){var i=n[r],s=e.match(i);if(s)return parseFloat(s[s.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(var t=0;t<tX.length;t++){var n=l(tX[t],2),r=n[0],i=n[1],s=r.exec(e),o=s&&(k(i)?i(s,e):i);if(o)return o}return["",""]},device:tW,deviceType:function(e){var t=tW(e);return t===ti||t===tr||"Kobo"===t||"Kindle Fire"===t||t===tL?tn:t===tS||t===tx||t===tE||t===tC?"Console":t===to?"Wearable":t?te:"Desktop"},referrer:function(){return(null==M?void 0:M.referrer)||"$direct"},referringDomain:function(){var e;return null!=M&&M.referrer&&(null===(e=e6(M.referrer))||void 0===e?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},properties:function(){if(!B)return{};var e=l(tz.os(B),2);return z(en({$os:e[0],$os_version:e[1],$browser:tz.browser(B,navigator.vendor),$device:tz.device(B),$device_type:tz.deviceType(B)}),{$current_url:null==j?void 0:j.href,$host:null==j?void 0:j.host,$pathname:null==j?void 0:j.pathname,$raw_user_agent:B.length>1e3?B.substring(0,997)+"...":B,$browser_version:tz.browserVersion(B,navigator.vendor),$browser_language:tz.browserLanguage(),$screen_height:null==I?void 0:I.screen.height,$screen_width:null==I?void 0:I.screen.width,$viewport_height:null==I?void 0:I.innerHeight,$viewport_width:null==I?void 0:I.innerWidth,$lib:"web",$lib_version:g.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Q()/1e3})},people_properties:function(){if(!B)return{};var e=l(tz.os(B),2);return z(en({$os:e[0],$os_version:e[1],$browser:tz.browser(B,navigator.vendor)}),{$browser_version:tz.browserVersion(B,navigator.vendor)})}},tY=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],tZ=function(){function e(t){var n;o(this,e),this.config=t,this.props={},this.campaign_params_saved=!1,this.name=(n="",t.token&&(n=t.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),t.persistence_name?"ph_"+t.persistence_name:"ph_"+n+"_posthog"),this.storage=this.buildStorage(t),this.load(),this.update_config(t,t),this.save()}return u(e,[{key:"buildStorage",value:function(e){-1===tY.indexOf(e.persistence.toLowerCase())&&(G.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var t=e.persistence.toLowerCase();return"localstorage"===t&&eK.is_supported()?eK:"localstorage+cookie"===t&&e0.is_supported()?e0:"sessionstorage"===t&&e4.is_supported()?e4:"memory"===t?e2:"cookie"===t?eY:e0.is_supported()?e0:eY}},{key:"properties",value:function(){var e={};return V(this.props,function(t,n){if(n===ey&&w(t))for(var r,i=Object.keys(t),s=0;s<i.length;s++)e["$feature/".concat(i[s])]=t[i[s]];else r=!1,(T(eA)?r:L&&eA.indexOf===L?-1!=eA.indexOf(n):(V(eA,function(e){if(r||(r=e===n))return X}),r))||(e[n]=t)}),e}},{key:"load",value:function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=z({},e))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(e,t,n){var r=this;if(w(e)){E(t)&&(t="None"),this.expire_days=E(n)?this.default_expiry:n;var i=!1;if(V(e,function(e,n){r.props.hasOwnProperty(n)&&r.props[n]!==t||(r.props[n]=e,i=!0)}),i)return this.save(),!0}return!1}},{key:"register",value:function(e,t){var n=this;if(w(e)){this.expire_days=E(t)?this.default_expiry:t;var r=!1;if(V(e,function(t,i){e.hasOwnProperty(i)&&n.props[i]!==t&&(n.props[i]=t,r=!0)}),r)return this.save(),!0}return!1}},{key:"unregister",value:function(e){e in this.props&&(delete this.props[e],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(tz.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"set_initial_campaign_params",value:function(){this.register_once(c({},eO,tz.campaignParams(this.config.custom_campaign_params)),void 0)}},{key:"update_search_keyword",value:function(){this.register(tz.searchInfo())}},{key:"update_referrer_info",value:function(){this.register(tz.referrerInfo())}},{key:"set_initial_referrer_info",value:function(){this.register_once(c({},eP,tz.referrerInfo()),void 0)}},{key:"get_referrer_info",value:function(){return en({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"get_initial_props",value:function(){var e=this,t={};return V([eP,eO],function(n){var r=e.props[n];r&&V(r,function(e,n){t["$initial_"+n.replace(/^\$/,"")]=e})}),t}},{key:"safe_merge",value:function(e){return V(this.props,function(t,n){n in e||(e[n]=t)}),e}},{key:"update_config",value:function(e,t){if(this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var n=this.buildStorage(e),r=this.props;this.clear(),this.storage=n,this.props=r,this.save()}}},{key:"set_disabled",value:function(e){this.disabled=e,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}},{key:"set_event_timer",value:function(e,t){var n=this.props[eu]||{};n[e]=t,this.props[eu]=n,this.save()}},{key:"remove_event_timer",value:function(e){var t=(this.props[eu]||{})[e];return E(t)||(delete this.props[eu][e],this.save()),t}},{key:"get_property",value:function(e){return this.props[e]}},{key:"set_property",value:function(e,t){this.props[e]=t,this.save()}}]),e}(),tK=u(function e(t){var n,r,i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),c(this,"bucketSize",100),c(this,"refillRate",10),c(this,"mutationBuckets",{}),c(this,"loggedTracker",{}),c(this,"refillBuckets",function(){Object.keys(i.mutationBuckets).forEach(function(e){i.mutationBuckets[e]=i.mutationBuckets[e]+i.refillRate,i.mutationBuckets[e]>=i.bucketSize&&delete i.mutationBuckets[e]})}),c(this,"getNodeOrRelevantParent",function(e){var t=i.rrweb.mirror.getNode(e);if("svg"!==(null==t?void 0:t.nodeName)&&t instanceof Element){var n=t.closest("svg");if(n)return[i.rrweb.mirror.getId(n),n]}return[e,t]}),c(this,"numberOfChanges",function(e){var t,n,r,i,s,o,a,u;return(null!==(t=null===(n=e.removes)||void 0===n?void 0:n.length)&&void 0!==t?t:0)+(null!==(r=null===(i=e.attributes)||void 0===i?void 0:i.length)&&void 0!==r?r:0)+(null!==(s=null===(o=e.texts)||void 0===o?void 0:o.length)&&void 0!==s?s:0)+(null!==(a=null===(u=e.adds)||void 0===u?void 0:u.length)&&void 0!==a?a:0)}),c(this,"throttleMutations",function(e){if(3!==e.type||0!==e.data.source)return e;var t=e.data,n=i.numberOfChanges(t);t.attributes&&(t.attributes=t.attributes.filter(function(e){var t,n,r,s=l(i.getNodeOrRelevantParent(e.id),2),o=s[0],a=s[1];return 0!==i.mutationBuckets[o]&&(i.mutationBuckets[o]=null!==(t=i.mutationBuckets[o])&&void 0!==t?t:i.bucketSize,i.mutationBuckets[o]=Math.max(i.mutationBuckets[o]-1,0),0===i.mutationBuckets[o]&&(i.loggedTracker[o]||(i.loggedTracker[o]=!0,null===(n=(r=i.options).onBlockedNode)||void 0===n||n.call(r,o,a))),e)}));var r=i.numberOfChanges(t);return 0!==r||n===r?e:void 0}),this.rrweb=t,this.options=s,this.refillRate=null!==(n=this.options.refillRate)&&void 0!==n?n:this.refillRate,this.bucketSize=null!==(r=this.options.bucketSize)&&void 0!==r?r:this.bucketSize,setInterval(function(){i.refillBuckets()},1e3)}),tQ=((nP=tQ||{})[nP.DomContentLoaded=0]="DomContentLoaded",nP[nP.Load=1]="Load",nP[nP.FullSnapshot=2]="FullSnapshot",nP[nP.IncrementalSnapshot=3]="IncrementalSnapshot",nP[nP.Meta=4]="Meta",nP[nP.Custom=5]="Custom",nP[nP.Plugin=6]="Plugin",nP);function t0(e){return e?W(e).split(/\s+/):[]}function t1(e){var t="";switch(s(e.className)){case"string":t=e.className;break;case"object":t=("baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return t0(t)}function t2(e){return R(e)?null:W(e).split(/(\s+)/).filter(function(e){return nu(e)}).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function t3(e){var t="";return ne(e)&&!nt(e)&&e.childNodes&&e.childNodes.length&&V(e.childNodes,function(e){var n;t6(e)&&e.textContent&&(t+=null!==(n=t2(e.textContent))&&void 0!==n?n:"")}),W(t)}function t4(e){return!!e&&1===e.nodeType}function t5(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function t6(e){return!!e&&3===e.nodeType}function t8(e){return!!e&&11===e.nodeType}var t7=["a","button","form","input","select","textarea","label"];function t9(e){var t=e.parentNode;return!(!t||!t4(t))&&t}function ne(e){for(var t=e;t.parentNode&&!t5(t,"body");t=t.parentNode){var n=t1(t);if(Y(n,"ph-sensitive")||Y(n,"ph-no-capture"))return!1}if(Y(t1(e),"ph-include"))return!0;var r=e.type||"";if(x(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(x(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function nt(e){return!!(t5(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||t5(e,"select")||t5(e,"textarea")||"true"===e.getAttribute("contenteditable"))}var nn="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",nr=new RegExp("^(?:".concat(nn,")$")),ni=new RegExp(nn),ns="\\d{3}-?\\d{2}-?\\d{4}",no=new RegExp("^(".concat(ns,")$")),na=new RegExp("(".concat(ns,")"));function nu(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!(R(e)||x(e)&&(e=W(e),(t?nr:ni).test((e||"").replace(/[- ]/g,""))||(t?no:na).test(e)))}function nc(e){var t=t3(e);return nu(t="".concat(t," ").concat(function e(t){var n="";return t&&t.childNodes&&t.childNodes.length&&V(t.childNodes,function(t){var r;if(t&&"span"===(null===(r=t.tagName)||void 0===r?void 0:r.toLowerCase()))try{var i=t3(t);n="".concat(n," ").concat(i).trim(),t.childNodes&&t.childNodes.length&&(n="".concat(n," ").concat(e(t)).trim())}catch(e){G.error(e)}}),n}(e)).trim())?t:""}function nl(e){return e.replace(/"|\\"/g,'\\"')}var nd="[SessionRecording]",nf={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6},np=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],nh=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],ng=["/s/","/e/","/i/"];function n_(e,t,n,r){if(R(e))return e;var i=(null==t?void 0:t["content-length"])||new Blob([e]).size;return x(i)&&(i=parseInt(i)),i>n?nd+" ".concat(r," body too large to record (").concat(i," bytes)"):e}function nv(e,t){if(R(e))return e;var n=e;return nu(n,!1)||(n=nd+" "+t+" body redacted"),V(nh,function(e){var r,i;null!==(r=n)&&void 0!==r&&r.length&&-1!==(null===(i=n)||void 0===i?void 0:i.indexOf(e))&&(n=nd+" "+t+" body redacted as might contain: "+e)}),n}var nm=function(e,t){var n,r,s={payloadSizeLimitBytes:nf.payloadSizeLimitBytes,performanceEntryTypeToObserve:d(nf.performanceEntryTypeToObserve)},o=!1!==e.session_recording.recordHeaders&&t.recordHeaders,a=!1!==e.session_recording.recordBody&&t.recordBody,u=!1!==e.capture_performance&&t.recordPerformance,c=(r=Math.min(1e6,null!==(n=s.payloadSizeLimitBytes)&&void 0!==n?n:1e6),function(e){return null!=e&&e.requestBody&&(e.requestBody=n_(e.requestBody,e.requestHeaders,r,"Request")),null!=e&&e.responseBody&&(e.responseBody=n_(e.responseBody,e.responseHeaders,r,"Response")),e}),l=function(e){var t;return c(function(e){var t=e6(e.name);if(!(t&&t.pathname&&ng.some(function(e){return 0===t.pathname.indexOf(e)})))return e}((V(Object.keys(null!==(t=e.requestHeaders)&&void 0!==t?t:{}),function(t){var n;np.includes(t.toLowerCase())&&(null===(n=e.requestHeaders)||void 0===n||delete n[t])}),e)))},f=k(e.session_recording.maskNetworkRequestFn);return f&&k(e.session_recording.maskCapturedNetworkRequestFn)&&G.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),f&&(e.session_recording.maskCapturedNetworkRequestFn=function(t){var n=e.session_recording.maskNetworkRequestFn({url:t.name});return i(i({},t),{},{name:null==n?void 0:n.url})}),s.maskRequestFn=k(e.session_recording.maskCapturedNetworkRequestFn)?function(t){var n,r,i,s=l(t);return s&&null!==(n=null===(r=(i=e.session_recording).maskCapturedNetworkRequestFn)||void 0===r?void 0:r.call(i,s))&&void 0!==n?n:void 0}:function(e){return function(e){if(!E(e))return e.requestBody=nv(e.requestBody,"Request"),e.responseBody=nv(e.responseBody,"Response"),e}(l(e))},i(i(i({},nf),s),{},{recordHeaders:o,recordBody:a,recordPerformance:u,recordInitialRequests:u})};function ny(e,t){nR(!0,e,t)}function nb(e,t){nR(!1,e,t)}function nk(e,t){return"1"===nT(e,t)}function nw(e,t){return!!function(e){if(e&&e.respectDnt){var t=e&&e.window||I,n=null==t?void 0:t.navigator,r=!1;return V([null==n?void 0:n.doNotTrack,n.msDoNotTrack,t.doNotTrack],function(e){Y([!0,1,"1","yes"],e)&&(r=!0)}),r}return!1}(t)||"0"===nT(e,t)}function nS(e,t){nE(t=t||{}).remove(nx(e,t),!!t.crossSubdomainCookie)}function nE(e){return"localStorage"===(e=e||{}).persistenceType?eK:"localStorage+cookie"===e.persistenceType?e0:eY}function nx(e,t){return((t=t||{}).persistencePrefix||"__ph_opt_in_out_")+e}function nT(e,t){return nE(t).get(nx(e,t))}function nR(e,t,n){x(t)&&t.length?(nE(n=n||{}).set(nx(t,n),e?1:0,O(n.cookieExpiration)?n.cookieExpiration:null,n.crossSubdomainCookie,n.secureCookie),n.capture&&e&&n.capture(n.captureEventName||"$opt_in",n.captureProperties||{},{send_instantly:!0})):G.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token")}function nO(e){var t=!1;try{var n=e.config.token,r=e.config.respect_dnt,i=e.config.opt_out_capturing_persistence_type,s=e.config.opt_out_capturing_cookie_prefix||void 0,o=e.config.window;n&&(t=nw(n,{respectDnt:r,persistenceType:i,persistencePrefix:s,window:o}))}catch(e){G.error("Unexpected error when checking capturing opt-out status: "+e)}return t}(nC=nI||(nI={}))[nC.Mutation=0]="Mutation",nC[nC.MouseMove=1]="MouseMove",nC[nC.MouseInteraction=2]="MouseInteraction",nC[nC.Scroll=3]="Scroll",nC[nC.ViewportResize=4]="ViewportResize",nC[nC.Input=5]="Input",nC[nC.TouchMove=6]="TouchMove",nC[nC.MediaInteraction=7]="MediaInteraction",nC[nC.StyleSheetRule=8]="StyleSheetRule",nC[nC.CanvasMutation=9]="CanvasMutation",nC[nC.Font=10]="Font",nC[nC.Log=11]="Log",nC[nC.Drag=12]="Drag",nC[nC.StyleDeclaration=13]="StyleDeclaration",nC[nC.Selection=14]="Selection",nC[nC.AdoptedStyleSheet=15]="AdoptedStyleSheet";var nP,nI,nC,nA,n$=[nI.MouseMove,nI.MouseInteraction,nI.Scroll,nI.ViewportResize,nI.Input,nI.TouchMove,nI.MediaInteraction,nI.Drag],nL=function(e){return{rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}},nF="[SessionRecording]",nM=function(){function e(t){var n=this;if(o(this,e),c(this,"queuedRRWebEvents",[]),c(this,"isIdle",!1),c(this,"_linkedFlagSeen",!1),c(this,"_lastActivityTimestamp",Date.now()),c(this,"windowId",null),c(this,"sessionId",null),c(this,"_linkedFlag",null),c(this,"_forceAllowLocalhostNetworkCapture",!1),c(this,"_samplingSessionListener",null),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,null==I||I.addEventListener("beforeunload",function(){n._flushBuffer()}),null==I||I.addEventListener("offline",function(){n._tryAddCustomEvent("browser offline",{})}),null==I||I.addEventListener("online",function(){n._tryAddCustomEvent("browser online",{})}),null==I||I.addEventListener("visibilitychange",function(){if(null!=M&&M.visibilityState){var e="window "+M.visibilityState;n._tryAddCustomEvent(e,{})}}),!this.instance.sessionManager)throw G.error(nF+" started without valid sessionManager"),Error(nF+" started without valid sessionManager. This is a bug.");this.buffer=this.clearBuffer(),this._setupSampling()}return u(e,[{key:"rrwebRecord",get:function(){var e;return null==H||null===(e=H.rrweb)||void 0===e?void 0:e.record}},{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw G.error(nF+" started without valid sessionManager"),Error(nF+" started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){var e=this.instance.get_property(em);return P(e)?e:null}},{key:"sessionDuration",get:function(){var e,t,n=null===(e=this.buffer)||void 0===e?void 0:e.data[(null===(t=this.buffer)||void 0===t?void 0:t.data.length)-1],r=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return n?n.timestamp-r:null}},{key:"isRecordingEnabled",get:function(){var e=!!this.instance.get_property(ed),t=!this.instance.config.disable_session_recording;return I&&e&&t}},{key:"isConsoleLogCaptureEnabled",get:function(){var e=!!this.instance.get_property(ef),t=this.instance.config.enable_recording_console_log;return null!=t?t:e}},{key:"canvasRecording",get:function(){var e=this.instance.get_property(eh);return e&&e.fps&&e.quality?{enabled:e.enabled,fps:e.fps,quality:e.quality}:void 0}},{key:"networkPayloadCapture",get:function(){var e,t,n=this.instance.get_property(ep),r={recordHeaders:null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.recordHeaders,recordBody:null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.recordBody},i=(null==r?void 0:r.recordHeaders)||(null==n?void 0:n.recordHeaders),s=(null==r?void 0:r.recordBody)||(null==n?void 0:n.recordBody),o=this.instance.config.capture_performance||(null==n?void 0:n.capturePerformance);return i||s||o?{recordHeaders:i,recordBody:s,recordPerformance:o}:void 0}},{key:"sampleRate",get:function(){var e=this.instance.get_property(eg);return O(e)?e:null}},{key:"minimumDuration",get:function(){var e=this.instance.get_property(e_);return O(e)?e:null}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?R(this._linkedFlag)||this._linkedFlagSeen?P(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}},{key:"startIfEnabledOrStop",value:function(){this.isRecordingEnabled?(this._startCapture(),G.info(nF+" started")):(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,G.info(nF+" stopped"))}},{key:"makeSamplingDecision",value:function(e){var t,n,r=this.sessionId!==e,i=this.sampleRate;if(O(i)){var s,o=this.isSampled,a=r||!P(o);(s=a?Math.random()<i:o)||!a||G.warn(nF+" Sample rate (".concat(i,") has determined that this sessionId (").concat(e,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:i}),null===(n=this.instance.persistence)||void 0===n||n.register(c({},em,s))}else null===(t=this.instance.persistence)||void 0===t||t.register(c({},em,null))}},{key:"afterDecideResponse",value:function(e){var t,n,r,i=this;if(this._persistDecideResponse(e),this._linkedFlag=(null===(t=e.sessionRecording)||void 0===t?void 0:t.linkedFlag)||null,null!==(n=e.sessionRecording)&&void 0!==n&&n.endpoint&&(this._endpoint=null===(r=e.sessionRecording)||void 0===r?void 0:r.endpoint),this._setupSampling(),!R(this._linkedFlag)){var s=x(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,o=x(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags(function(e,t){var n=w(t)&&s in t,r=o?t[s]===o:n;if(r){var a={linkedFlag:s,linkedVariant:o},u="linked flag matched";G.info(nF+" "+u,a),i._tryAddCustomEvent(u,a)}i._linkedFlagSeen=r})}this.receivedDecide=!0,this.startIfEnabledOrStop()}},{key:"_setupSampling",value:function(){var e=this;O(this.sampleRate)&&T(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId(function(t){e.makeSamplingDecision(t)}))}},{key:"_persistDecideResponse",value:function(e){if(this.instance.persistence){var t=this.instance.persistence,n=function(){var n,r,s,o,a,u,l,d,f=null===(n=e.sessionRecording)||void 0===n?void 0:n.sampleRate,p=R(f)?null:parseFloat(f),h=null===(r=e.sessionRecording)||void 0===r?void 0:r.minimumDurationMilliseconds;t.register((c(d={},ed,!!e.sessionRecording),c(d,ef,null===(s=e.sessionRecording)||void 0===s?void 0:s.consoleLogRecordingEnabled),c(d,ep,i({capturePerformance:e.capturePerformance},null===(o=e.sessionRecording)||void 0===o?void 0:o.networkPayloadCapture)),c(d,eh,{enabled:null===(a=e.sessionRecording)||void 0===a?void 0:a.recordCanvas,fps:null===(u=e.sessionRecording)||void 0===u?void 0:u.canvasFps,quality:null===(l=e.sessionRecording)||void 0===l?void 0:l.canvasQuality}),c(d,eg,p),c(d,e_,E(h)?null:h),d))};n(),this.sessionManager.onSessionId(n)}}},{key:"log",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";null===(t=this.instance.sessionRecording)||void 0===t||t.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:n,trace:[],payload:[JSON.stringify(e)]}},timestamp:Q()})}},{key:"_startCapture",value:function(){var e=this;E(Object.assign)||this._captureStarted||this.instance.config.disable_session_recording||nO(this.instance)||(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():es(this.instance.requestRouter.endpointFor("assets","/static/recorder.js?v=".concat(g.LIB_VERSION)),function(t){if(t)return G.error(nF+" could not load recorder.js",t);e._onScriptLoaded()}))}},{key:"isInteractiveEvent",value:function(e){var t;return 3===e.type&&-1!==n$.indexOf(null===(t=e.data)||void 0===t?void 0:t.source)}},{key:"_updateWindowAndSessionIds",value:function(e){var t=this.isInteractiveEvent(e);t||this.isIdle||e.timestamp-this._lastActivityTimestamp>3e5&&(this.isIdle=!0,this._tryAddCustomEvent("sessionIdle",{reason:"user inactivity",timeSinceLastActive:e.timestamp-this._lastActivityTimestamp,threshold:3e5}));var n=!1;if(t&&(this._lastActivityTimestamp=e.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:e.type}),n=!0)),!this.isIdle){var r=this.sessionManager.checkAndGetSessionAndWindowId(!t,e.timestamp),i=r.windowId,s=r.sessionId,o=this.sessionId!==s,a=this.windowId!==i;this.windowId=i,this.sessionId=s,(n||-1===[2,4].indexOf(e.type)&&(a||o))&&this._tryTakeFullSnapshot()}}},{key:"_tryRRWebMethod",value:function(e){try{return e.rrwebMethod(),!0}catch(t){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):G.warn(nF+" could not emit queued rrweb event.",t,e),!1}}},{key:"_tryAddCustomEvent",value:function(e,t){var n=this;return this._tryRRWebMethod(nL(function(){return n.rrwebRecord.addCustomEvent(e,t)}))}},{key:"_tryTakeFullSnapshot",value:function(){var e=this;return this._tryRRWebMethod(nL(function(){return e.rrwebRecord.takeFullSnapshot()}))}},{key:"_onScriptLoaded",value:function(){for(var e,t=this,n={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},r=this.instance.config.session_recording,s=0,o=Object.entries(r||{});s<o.length;s++){var a=l(o[s],2),u=a[0],c=a[1];u in n&&(n[u]=c)}if(this.canvasRecording&&this.canvasRecording.enabled&&(n.recordCanvas=!0,n.sampling={canvas:this.canvasRecording.fps},n.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=null!==(e=this.mutationRateLimiter)&&void 0!==e?e:new tK(this.rrwebRecord,{onBlockedNode:function(e,n){var r="Too many mutations on node '".concat(e,"'. Rate limiting. This could be due to SVG animations or something similar");G.info(r,{node:n}),t.log(nF+" "+r,"warn")}}),this._scheduleFullSnapshot();var d=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(i({emit:function(e){t.onRRwebEmit(e)},plugins:d},n)),this.instance._addCaptureHook(function(e){try{if("$pageview"===e){var n=I?t._maskUrl(I.location.href):"";if(!n)return;t._tryAddCustomEvent("$pageview",{href:n}),t._tryTakeFullSnapshot()}}catch(e){G.error("Could not add $pageview to rrweb session",e)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:n,activePlugins:d.map(function(e){return null==e?void 0:e.name})}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else G.error(nF+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_scheduleFullSnapshot",value:function(){var e=this;this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),this._fullSnapshotTimer=setInterval(function(){e._tryTakeFullSnapshot()},3e5)}},{key:"_gatherRRWebPlugins",value:function(){var e=[];return H.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&e.push(H.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&k(H.getRecordNetworkPlugin)&&(!e5.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?e.push(H.getRecordNetworkPlugin(nm(this.instance.config,this.networkPayloadCapture))):G.info(nF+" NetworkCapture not started because we are on localhost.")),e}},{key:"onRRwebEmit",value:function(e){if(this._processQueuedEvents(),e&&w(e)){if(e.type===tQ.Meta){var t=this._maskUrl(e.data.href);if(this._lastHref=t,!t)return;e.data.href=t}else this._pageViewFallBack();e.type===tQ.FullSnapshot&&this._scheduleFullSnapshot();var n=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(n){var r=function(e){if(e&&w(e)&&6===e.type&&w(e.data)&&"rrweb/console@1"===e.data.plugin){e.data.payload.payload.length>10&&(e.data.payload.payload=e.data.payload.payload.slice(0,10),e.data.payload.payload.push("...[truncated]"));for(var t=[],n=0;n<e.data.payload.payload.length;n++)e.data.payload.payload[n]&&e.data.payload.payload[n].length>2e3?t.push(e.data.payload.payload[n].slice(0,2e3)+"...[truncated]"):t.push(e.data.payload.payload[n]);return e.data.payload.payload=t,e}return e}(n),i=JSON.stringify(r).length;if(this._updateWindowAndSessionIds(r),!this.isIdle||r.type===tQ.Custom){var s={$snapshot_bytes:i,$snapshot_data:r,$session_id:this.sessionId,$window_id:this.windowId};"disabled"!==this.status?this._captureSnapshotBuffered(s):this.clearBuffer()}}}}},{key:"_pageViewFallBack",value:function(){if(!this.instance.config.capture_pageview&&I){var e=this._maskUrl(I.location.href);this._lastHref!==e&&(this._tryAddCustomEvent("$url_changed",{href:e}),this._lastHref=e)}}},{key:"_processQueuedEvents",value:function(){var e=this;if(this.queuedRRWebEvents.length){var t=d(this.queuedRRWebEvents);this.queuedRRWebEvents=[],t.forEach(function(n){Date.now()-n.enqueuedAt>2e3?e._tryAddCustomEvent("rrwebQueueTimeout",{enqueuedAt:n.enqueuedAt,attempt:n.attempt,queueLength:t.length}):e._tryRRWebMethod(n)&&e._tryAddCustomEvent("rrwebQueueSuccess",{enqueuedAt:n.enqueuedAt,attempt:n.attempt,queueLength:t.length})})}}},{key:"_maskUrl",value:function(e){var t=this.instance.config.session_recording;if(t.maskNetworkRequestFn){var n,r={url:e};return null===(n=r=t.maskNetworkRequestFn(r))||void 0===n?void 0:n.url}return e}},{key:"clearBuffer",value:function(){return this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_flushBuffer",value:function(){var e=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var t=this.minimumDuration,n=this.sessionDuration,r=O(n)&&n>=0,i=O(t)&&r&&n<t;return"buffering"===this.status||i?(this.flushBufferTimer=setTimeout(function(){e._flushBuffer()},2e3),this.buffer||this.clearBuffer()):this.buffer&&0!==this.buffer.data.length?(this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer()):this.buffer||this.clearBuffer()}},{key:"_captureSnapshotBuffered",value:function(e){var t,n=this,r=2+((null===(t=this.buffer)||void 0===t?void 0:t.data.length)||0);(!this.buffer||this.buffer.size+e.$snapshot_bytes+r>943718.4||this.buffer.sessionId&&this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),T(this.buffer.sessionId)&&!T(this.sessionId)&&(this.buffer.sessionId=this.sessionId,this.buffer.windowId=this.windowId),this.buffer.size+=e.$snapshot_bytes,this.buffer.data.push(e.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){n._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(e){this.instance.capture("$snapshot",e,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",_noHeatmaps:!0})}}]),e}(),nj=function(){function e(t){o(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return u(e,[{key:"call",value:function(){var e=this,t={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(ek),group_properties:this.instance.get_property(ew),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:t,compression:this.instance.config.disable_compression?void 0:K.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(t){return e.parseDecideResponse(t.json)}})}},{key:"parseDecideResponse",value:function(e){var t=this;this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var n=!e;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(null!=e?e:{},n),n)G.error("Failed to fetch feature flags from PostHog.");else{if(!M||!M.body)return G.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){t.parseDecideResponse(e)},500);this.instance._afterDecideResponse(e);var r=null==I?void 0:I.extendPostHogWithExceptionAutoCapture;if(e.autocaptureExceptions&&e.autocaptureExceptions&&E(r)&&es(this.instance.requestRouter.endpointFor("assets","/static/exception-autocapture.js"),function(n){if(n)return G.error("Could not load exception autocapture script",n);I.extendPostHogWithExceptionAutocapture(t.instance,e)}),e.siteApps){if(this.instance.config.opt_in_site_apps){var i,s=h(e.siteApps);try{for(s.s();!(i=s.n()).done;)(function(){var e=i.value,n=e.id,r=e.url,s=t.instance.requestRouter.endpointFor("api",r);H["__$$ph_site_app_".concat(n)]=t.instance,es(s,function(e){e&&G.error("Error while initializing PostHog app with config id ".concat(n),e)})})()}catch(e){s.e(e)}finally{s.f()}}else e.siteApps.length>0&&G.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}}]),e}(),nD=null!=I&&I.location?e9(I.location.hash,"__posthog")||e9(location.hash,"state"):null,nN="_postHogToolbarParams";(r_=nA||(nA={}))[r_.UNINITIALIZED=0]="UNINITIALIZED",r_[r_.LOADING=1]="LOADING",r_[r_.LOADED=2]="LOADED";var nq=function(){function e(t){o(this,e),this.instance=t}return u(e,[{key:"setToolbarState",value:function(e){H.ph_toolbar_state=e}},{key:"getToolbarState",value:function(){var e;return null!==(e=H.ph_toolbar_state)&&void 0!==e?e:nA.UNINITIALIZED}},{key:"maybeLoadToolbar",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!I||!M)return!1;n=null!==(e=n)&&void 0!==e?e:I.location,i=null!==(t=i)&&void 0!==t?t:I.history;try{if(!r){try{I.localStorage.setItem("test","test"),I.localStorage.removeItem("test")}catch(e){return!1}r=null==I?void 0:I.localStorage}var s,o=nD||e9(n.hash,"__posthog")||e9(n.hash,"state"),a=o?ee(function(){return JSON.parse(atob(decodeURIComponent(o)))})||ee(function(){return JSON.parse(decodeURIComponent(o))}):null;return a&&"ph_authorize"===a.action?((s=a).source="url",s&&Object.keys(s).length>0&&(a.desiredHash?n.hash=a.desiredHash:i?i.replaceState(i.state,"",n.pathname+n.search):n.hash="")):((s=JSON.parse(r.getItem(nN)||"{}")).source="localstorage",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch(e){return!1}}},{key:"_callLoadToolbar",value:function(e){(H.ph_load_toolbar||H.ph_load_editor)(e,this.instance)}},{key:"loadToolbar",value:function(e){var t=this,n=!(null==M||!M.getElementById(eC));if(!I||n)return!1;var r="custom"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,s=i(i({token:this.instance.config.token},e),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(I.localStorage.setItem(nN,JSON.stringify(i(i({},s),{},{source:void 0}))),this.getToolbarState()===nA.LOADED)this._callLoadToolbar(s);else if(this.getToolbarState()===nA.UNINITIALIZED){this.setToolbarState(nA.LOADING);var o=3e5*Math.floor(Date.now()/3e5);es(this.instance.requestRouter.endpointFor("assets","/static/toolbar.js?t=".concat(o)),function(e){if(e)return G.error("Failed to load toolbar",e),void t.setToolbarState(nA.UNINITIALIZED);t.setToolbarState(nA.LOADED),t._callLoadToolbar(s)}),ei(I,"turbolinks:load",function(){t.setToolbarState(nA.UNINITIALIZED),t.loadToolbar(s)})}return!0}},{key:"_loadEditor",value:function(e){return this.loadToolbar(e)}},{key:"maybeLoadEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this.maybeLoadToolbar(e,t,n)}}]),e}(),nB=function(){function e(t){o(this,e),c(this,"isPaused",!0),c(this,"queue",[]),c(this,"flushTimeoutMs",3e3),this.sendRequest=t}return u(e,[{key:"enqueue",value:function(e){this.queue.push(e),this.flushTimeout||this.setFlushTimeout()}},{key:"unload",value:function(){var e=this;this.clearFlushTimeout();var t=Object.values(this.queue.length>0?this.formatQueue():{});[].concat(d(t.filter(function(e){return 0===e.url.indexOf("/e")})),d(t.filter(function(e){return 0!==e.url.indexOf("/e")}))).map(function(t){e.sendRequest(i(i({},t),{},{transport:"sendBeacon"}))})}},{key:"enable",value:function(){this.isPaused=!1,this.setFlushTimeout()}},{key:"setFlushTimeout",value:function(){var e=this;this.isPaused||(this.flushTimeout=setTimeout(function(){if(e.clearFlushTimeout(),e.queue.length>0){var t=e.formatQueue();for(var n in t)(function(n){var r=t[n],i=(new Date).getTime();r.data&&b(r.data)&&V(r.data,function(e){e.offset=Math.abs(e.timestamp-i),delete e.timestamp}),e.sendRequest(r)})(n)}},this.flushTimeoutMs))}},{key:"clearFlushTimeout",value:function(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}},{key:"formatQueue",value:function(){var e={};return V(this.queue,function(t){var n,r=(t?t.batchKey:null)||t.url;E(e[r])&&(e[r]=i(i({},t),{},{data:[]})),null===(n=e[r].data)||void 0===n||n.push(t.data)}),this.queue=[],e}}]),e}(),nH=Uint8Array,nU=Uint16Array,nG=Uint32Array,nX=new nH([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),nW=new nH([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),nJ=new nH([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nV=function(e,t){for(var n=new nU(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new nG(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},nz=nV(nX,2),nY=nz[0],nZ=nz[1];nY[28]=258,nZ[258]=28;for(var nK=nV(nW,0)[1],nQ=new nU(32768),n0=0;n0<32768;++n0){var n1=(43690&n0)>>>1|(21845&n0)<<1;n1=(61680&(n1=(52428&n1)>>>2|(13107&n1)<<2))>>>4|(3855&n1)<<4,nQ[n0]=((65280&n1)>>>8|(255&n1)<<8)>>>1}var n2=function(e,t,n){for(var r=e.length,i=0,s=new nU(t);i<r;++i)++s[e[i]-1];var o,a=new nU(t);for(i=0;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;if(n){o=new nU(1<<t);var u=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],l=t-e[i],d=a[e[i]-1]++<<l,f=d|(1<<l)-1;d<=f;++d)o[nQ[d]>>>u]=c}else for(o=new nU(r),i=0;i<r;++i)o[i]=nQ[a[e[i]-1]++]>>>15-e[i];return o},n3=new nH(288);for(n0=0;n0<144;++n0)n3[n0]=8;for(n0=144;n0<256;++n0)n3[n0]=9;for(n0=256;n0<280;++n0)n3[n0]=7;for(n0=280;n0<288;++n0)n3[n0]=8;var n4=new nH(32);for(n0=0;n0<32;++n0)n4[n0]=5;var n5=n2(n3,9,0),n6=n2(n4,5,0),n8=function(e){return(e/8>>0)+(7&e&&1)},n7=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof nU?nU:e instanceof nG?nG:nH)(n-t);return r.set(e.subarray(t,n)),r},n9=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},re=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},rt=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return[new nH(0),0];if(1==i){var o=new nH(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var a=n[0],u=n[1],c=0,l=1,d=2;for(n[0]={s:-1,f:a.f+u.f,l:a,r:u};l!=i-1;)a=n[n[c].f<n[d].f?c++:d++],u=n[c!=l&&n[c].f<n[d].f?c++:d++],n[l++]={s:-1,f:a.f+u.f,l:a,r:u};var f=s[0].s;for(r=1;r<i;++r)s[r].s>f&&(f=s[r].s);var p=new nU(f+1),h=rn(n[l-1],p,0);if(h>t){r=0;var g=0,_=h-t,v=1<<_;for(s.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});r<i;++r){var m=s[r].s;if(!(p[m]>t))break;g+=v-(1<<h-p[m]),p[m]=t}for(g>>>=_;g>0;){var y=s[r].s;p[y]<t?g-=1<<t-p[y]++-1:++r}for(;r>=0&&g;--r){var b=s[r].s;p[b]==t&&(--p[b],++g)}h=t}return[new nH(p),h]},rn=function e(t,n,r){return -1==t.s?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},rr=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new nU(++t),r=0,i=e[0],s=1,o=function(e){n[r++]=e},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return[n.subarray(0,r),t]},ri=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},rs=function(e,t,n){var r=n.length,i=n8(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},ro=function(e,t,n,r,i,s,o,a,u,c,l){n9(t,l++,n),++i[256];for(var d=rt(i,15),f=d[0],p=d[1],h=rt(s,15),g=h[0],_=h[1],v=rr(f),m=v[0],y=v[1],b=rr(g),k=b[0],w=b[1],S=new nU(19),E=0;E<m.length;++E)S[31&m[E]]++;for(E=0;E<k.length;++E)S[31&k[E]]++;for(var x=rt(S,7),T=x[0],R=x[1],O=19;O>4&&!T[nJ[O-1]];--O);var P,I,C,A,$=c+5<<3,L=ri(i,n3)+ri(s,n4)+o,F=ri(i,f)+ri(s,g)+o+14+3*O+ri(S,T)+(2*S[16]+3*S[17]+7*S[18]);if($<=L&&$<=F)return rs(t,l,e.subarray(u,u+c));if(n9(t,l,1+(F<L)),l+=2,F<L){P=n2(f,p,0),I=f,C=n2(g,_,0),A=g;var M=n2(T,R,0);for(n9(t,l,y-257),n9(t,l+5,w-1),n9(t,l+10,O-4),l+=14,E=0;E<O;++E)n9(t,l+3*E,T[nJ[E]]);l+=3*O;for(var j=[m,k],D=0;D<2;++D){var N=j[D];for(E=0;E<N.length;++E){var q=31&N[E];n9(t,l,M[q]),l+=T[q],q>15&&(n9(t,l,N[E]>>>5&127),l+=N[E]>>>12)}}}else P=n5,I=n3,C=n6,A=n4;for(E=0;E<a;++E)if(r[E]>255){re(t,l,P[(q=r[E]>>>18&31)+257]),l+=I[q+257],q>7&&(n9(t,l,r[E]>>>23&31),l+=nX[q]);var B=31&r[E];re(t,l,C[B]),l+=A[B],B>3&&(re(t,l,r[E]>>>5&8191),l+=nW[B])}else re(t,l,P[r[E]]),l+=I[r[E]];return re(t,l,P[256]),l+I[256]},ra=new nG([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ru=new nH(0),rc=function(){for(var e=new nG(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),rl=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},rd=!!N||!!D,rf="text/plain",rp=function(e,t){var n=l(e.split("?"),2),r=n[0],s=n[1],o=i({},t);null==s||s.split("&").forEach(function(e){var t=l(e.split("="),1)[0];delete o[t]});var a=e8(o);return a=a?(s?s+"&":"")+a:s,"".concat(r,"?").concat(a)},rh=function(e){var t,n,r,i,s,o,a,u,c,l=e.data,d=e.compression;if(l)return d===K.GZipJS?{contentType:rf,body:new Blob([(t=function(e,t){var n=e.length;if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var r=new nH(e.length+(e.length>>>1)),i=0,s=function(e){r[i++]=e},o=0;o<n;++o){if(i+5>r.length){var a=new nH(i+8+(n-o<<1));a.set(r),r=a}var u=e.charCodeAt(o);u<128?s(u):(u<2048?s(192|u>>>6):(u>55295&&u<57344?(s(240|(u=65536+(1047552&u)|1023&e.charCodeAt(++o))>>>18),s(128|u>>>12&63)):s(224|u>>>12),s(128|u>>>6&63)),s(128|63&u))}return n7(r,0,i)}(JSON.stringify(l)),n={mtime:0},r=4294967295,i={p:function(e){for(var t=r,n=0;n<e.length;++n)t=rc[255&t^e[n]]^t>>>8;r=t},d:function(){return 4294967295^r}},s=t.length,i.p(t),u=(o=10+(n.filename&&n.filename.length+1||0),a=function(e,t,n,r,i,s){var o=e.length,a=new nH(r+o+5*(1+Math.floor(o/7e3))+8),u=a.subarray(r,a.length-8),c=0;if(!t||o<8)for(var l=0;l<=o;l+=65535){var d=l+65535;d<o?c=rs(u,c,e.subarray(l,d)):(u[l]=s,c=rs(u,c,e.subarray(l,o)))}else{for(var f=ra[t-1],p=f>>>13,h=8191&f,g=(1<<n)-1,_=new nU(32768),v=new nU(g+1),m=Math.ceil(n/3),y=2*m,b=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<y)&g},k=new nG(25e3),w=new nU(288),S=new nU(32),E=0,x=0,T=(l=0,0),R=0,O=0;l<o;++l){var P=b(l),I=32767&l,C=v[P];if(_[I]=C,v[P]=I,R<=l){var A=o-l;if((E>7e3||T>24576)&&A>423){c=ro(e,u,0,k,w,S,x,T,O,l-O,c),T=E=x=0,O=l;for(var $=0;$<286;++$)w[$]=0;for($=0;$<30;++$)S[$]=0}var L=2,F=0,M=h,j=I-C&32767;if(A>2&&P==b(l-j))for(var D=Math.min(p,A)-1,N=Math.min(32767,l),q=Math.min(258,A);j<=N&&--M&&I!=C;){if(e[l+L]==e[l+L-j]){for(var B=0;B<q&&e[l+B]==e[l+B-j];++B);if(B>L){if(L=B,F=j,B>D)break;var H=Math.min(j,B-2),U=0;for($=0;$<H;++$){var G=l-j+$+32768&32767,X=G-_[G]+32768&32767;X>U&&(U=X,C=G)}}}j+=(I=C)-(C=_[I])+32768&32767}if(F){k[T++]=268435456|nZ[L]<<18|nK[F];var W=31&nZ[L],J=31&nK[F];x+=nX[W]+nW[J],++w[257+W],++S[J],R=l+L,++E}else k[T++]=e[l],++w[e[l]]}}c=ro(e,u,s,k,w,S,x,T,O,l-O,c),s||(c=rs(u,c,ru))}return n7(a,0,r+n8(c)+i)}(t,null==n.level?6:n.level,null==n.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+n.mem,o,8,!0)).length,function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&rl(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}}(a,n),rl(a,u-8,i.d()),rl(a,u-4,s),a)],{type:rf})}:d===K.Base64?{contentType:"application/x-www-form-urlencoded",body:"data="+encodeURIComponent("string"==typeof(c=function(e){var t,n,r,i,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,u=0,c="",l=[];if(!e)return e;e=er(e);do t=(s=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,n=s>>12&63,r=s>>6&63,i=63&s,l[u++]=o.charAt(t)+o.charAt(n)+o.charAt(r)+o.charAt(i);while(a<e.length);switch(c=l.join(""),e.length%3){case 1:c=c.slice(0,-2)+"==";break;case 2:c=c.slice(0,-1)+"="}return c}(JSON.stringify(l)))?c:JSON.stringify(c))}:{contentType:"application/json",body:JSON.stringify(l)}},rg=[];N&&rg.push({transport:"XHR",method:function(e){var t,n=new N;n.open(e.method||"GET",e.url,!0);var r=null!==(t=rh(e))&&void 0!==t?t:{},i=r.contentType,s=r.body;V(e.headers,function(e,t){n.setRequestHeader(t,e)}),i&&n.setRequestHeader("Content-Type",i),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=function(){if(4===n.readyState){var t,r={statusCode:n.status,text:n.responseText};if(200===n.status)try{r.json=JSON.parse(n.responseText)}catch(e){}null===(t=e.callback)||void 0===t||t.call(e,r)}},n.send(s)}}),D&&rg.push({transport:"fetch",method:function(e){var t,n,r=null!==(t=rh(e))&&void 0!==t?t:{},i=r.contentType,s=r.body,o=new Headers;V(o,function(e,t){o.append(t,e)}),i&&o.append("Content-Type",i);var a=e.url,u=null;if(q){var c=new q;u={signal:c.signal,timeout:setTimeout(function(){return c.abort()},e.timeout)}}D(a,{method:(null==e?void 0:e.method)||"GET",headers:o,keepalive:"POST"===e.method,body:s,signal:null===(n=u)||void 0===n?void 0:n.signal}).then(function(t){return t.text().then(function(n){var r,i={statusCode:t.status,text:n};if(200===t.status)try{i.json=JSON.parse(n)}catch(e){G.error(e)}null===(r=e.callback)||void 0===r||r.call(e,i)})}).catch(function(t){var n;G.error(t),null===(n=e.callback)||void 0===n||n.call(e,{statusCode:0,text:t})}).finally(function(){return u?clearTimeout(u.timeout):null})}}),null!=F&&F.sendBeacon&&rg.push({transport:"sendBeacon",method:function(e){var t=rp(e.url,{beacon:"1"});try{var n,r=null!==(n=rh(e))&&void 0!==n?n:{},i=r.contentType,s=r.body,o="string"==typeof s?new Blob([s],{type:i}):s;F.sendBeacon(t,o)}catch(e){}}});var r_,rv,rm=["retriesPerformedSoFar"],ry=function(){function e(t){var n=this;o(this,e),c(this,"isPolling",!1),c(this,"pollIntervalMs",3e3),c(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!E(I)&&"onLine"in I.navigator&&(this.areWeOnline=I.navigator.onLine,I.addEventListener("online",function(){n.areWeOnline=!0,n.flush()}),I.addEventListener("offline",function(){n.areWeOnline=!1}))}return u(e,[{key:"retriableRequest",value:function(e){var t=this,n=e.retriesPerformedSoFar,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,rm);O(n)&&n>0&&(r.url=rp(r.url,{retry_count:n})),this.instance._send_request(i(i({},r),{},{callback:function(e){var s;200!==e.statusCode&&(e.statusCode<400||e.statusCode>=500)&&(null!=n?n:0)<10?t.enqueue(i({},r)):null===(s=r.callback)||void 0===s||s.call(r,e)}}))}},{key:"enqueue",value:function(e){var t,n,r,i=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=i+1;var s=(r=(Math.random()-.5)*((n=Math.min(18e5,t=3e3*Math.pow(2,i)))-t/2),Math.ceil(n+r)),o=Date.now()+s;this.queue.push({retryAt:o,requestOptions:e});var a="Enqueued failed request for retry in ".concat(s);navigator.onLine||(a+=" (Browser is offline)"),G.warn(a),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var e=this;this.poller&&clearTimeout(this.poller),this.poller=setTimeout(function(){e.areWeOnline&&e.queue.length>0&&e.flush(),e.poll()},this.pollIntervalMs)}},{key:"flush",value:function(){var e=Date.now(),t=[],n=this.queue.filter(function(n){return n.retryAt<e||(t.push(n),!1)});if(this.queue=t,n.length>0){var r,i=h(n);try{for(i.s();!(r=i.n()).done;){var s=r.value.requestOptions;this.retriableRequest(s)}}catch(e){i.e(e)}finally{i.f()}}}},{key:"unload",value:function(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);var e,t=h(this.queue);try{for(t.s();!(e=t.n()).done;){var n=e.value.requestOptions;try{this.instance._send_request(i(i({},n),{},{transport:"sendBeacon"}))}catch(e){G.error(e)}}}catch(e){t.e(e)}finally{t.f()}this.queue=[]}}]),e}(),rb=function(){function e(t,n,r,i){o(this,e),c(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||eW,this._windowIdGenerator=i||eW;var s=t.persistence_name||t.token,a=t.session_idle_timeout_seconds||1800;if(O(a)?a>1800?G.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):a<60&&G.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(G.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),a=1800),this._sessionTimeoutMs=1e3*Math.min(Math.max(a,60),1800),this._window_id_storage_key="ph_"+s+"_window_id",this._primary_window_exists_storage_key="ph_"+s+"_primary_window_exists",this._canUseSessionStorage()){var u=e4.parse(this._window_id_storage_key),l=e4.parse(this._primary_window_exists_storage_key);u&&!l?this._windowId=u:e4.remove(this._window_id_storage_key),e4.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return u(e,[{key:"onSessionId",value:function(e){var t=this;return E(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),function(){t._sessionIdChangedHandlers=t._sessionIdChangedHandlers.filter(function(t){return t!==e})}}},{key:"_canUseSessionStorage",value:function(){return"memory"!==this.config.persistence&&!this.persistence.disabled&&e4.is_supported()}},{key:"_setWindowId",value:function(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&e4.set(this._window_id_storage_key,e))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?e4.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(e,t,n){e===this._sessionId&&t===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=t,this._sessionId=e,this.persistence.register(c({},ev,[t,e,n])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var e=this.persistence.props[ev];return b(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var e=this;null==I||I.addEventListener("beforeunload",function(){e._canUseSessionStorage()&&e4.remove(e._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||(new Date).getTime(),n=l(this._getSessionId(),3),r=n[0],i=n[1],s=n[2],o=this._getWindowId(),a=s&&s>0&&Math.abs(t-s)>864e5,u=!1,c=!i,d=!e&&Math.abs(t-r)>this._sessionTimeoutMs;c||d||a?(i=this._sessionIdGenerator(),o=this._windowIdGenerator(),G.info("[SessionId] new session ID generated",{sessionId:i,windowId:o,changeReason:{noSessionId:c,activityTimeout:d,sessionPastMaximumLength:a}}),s=t,u=!0):o||(o=this._windowIdGenerator(),u=!0);var f=0===r||!e||a?t:r,p=0===s?(new Date).getTime():s;return this._setWindowId(o),this._setSessionId(i,f,p),u&&this._sessionIdChangedHandlers.forEach(function(e){return e(i,o)}),{sessionId:i,windowId:o,sessionStartTimestamp:p}}}]),e}();(rz=rv||(rv={})).US="us",rz.EU="eu",rz.CUSTOM="custom";var rk="i.posthog.com",rw=function(){function e(t){o(this,e),c(this,"_regionCache",{}),this.instance=t}return u(e,[{key:"apiHost",get:function(){return this.instance.config.api_host.trim().replace(/\/$/,"")}},{key:"uiHost",get:function(){var e;return null===(e=this.instance.config.ui_host)||void 0===e?void 0:e.replace(/\/$/,"")}},{key:"region",get:function(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=rv.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=rv.EU:this._regionCache[this.apiHost]=rv.CUSTOM),this._regionCache[this.apiHost]}},{key:"endpointFor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t&&(t="/"===t[0]?t:"/".concat(t)),"ui"===e)return(this.uiHost||this.apiHost.replace(".".concat(rk),".posthog.com"))+t;if(this.region===rv.CUSTOM)return this.apiHost+t;var n=rk+t;switch(e){case"assets":return"https://".concat(this.region,"-assets.").concat(n);case"api":return"https://".concat(this.region,".").concat(n)}}}]),e}(),rS=u(function e(t,n,r,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:["error"];o(this,e),this.name="posthog-js",this.setupOnce=function(e){e(function(e){if(!("*"===s||s.includes(e.level))||!t.__loaded)return e;e.tags||(e.tags={});var o,a,u,c,l,d=t.requestRouter.endpointFor("ui","/project/".concat(t.config.token,"/person/").concat(t.get_distinct_id()));e.tags["PostHog Person URL"]=d,t.sessionRecordingStarted()&&(e.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var f=(null===(o=e.exception)||void 0===o?void 0:o.values)||[],p={$exception_message:(null===(a=f[0])||void 0===a?void 0:a.value)||e.message,$exception_type:null===(u=f[0])||void 0===u?void 0:u.type,$exception_personURL:d,$sentry_event_id:e.event_id,$sentry_exception:e.exception,$sentry_exception_message:(null===(c=f[0])||void 0===c?void 0:c.value)||e.message,$sentry_exception_type:null===(l=f[0])||void 0===l?void 0:l.type,$sentry_tags:e.tags,$level:e.level};return n&&r&&(p.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+e.event_id),t.capture("$exception",p),e})}}),rE=function(){function e(t){o(this,e),this._instance=t}return u(e,[{key:"doPageView",value:function(){var e,t=this._previousScrollProperties();return this._currentPath=null!==(e=null==I?void 0:I.location.pathname)&&void 0!==e?e:"",this._instance.scrollManager.resetContext(),t}},{key:"doPageLeave",value:function(){return this._previousScrollProperties()}},{key:"_previousScrollProperties",value:function(){var e=this._currentPath,t=this._instance.scrollManager.getContext();if(!e||!t)return{};var n=t.maxScrollHeight,r=t.lastScrollY,i=t.maxScrollY,s=t.maxContentHeight,o=t.lastContentY,a=t.maxContentY;return E(n)||E(r)||E(i)||E(s)||E(o)||E(a)?{}:(n=Math.ceil(n),r=Math.ceil(r),i=Math.ceil(i),s=Math.ceil(s),o=Math.ceil(o),a=Math.ceil(a),{$prev_pageview_pathname:e,$prev_pageview_last_scroll:r,$prev_pageview_last_scroll_percentage:n<=1?1:rx(r/n,0,1),$prev_pageview_max_scroll:i,$prev_pageview_max_scroll_percentage:n<=1?1:rx(i/n,0,1),$prev_pageview_last_content:o,$prev_pageview_last_content_percentage:s<=1?1:rx(o/s,0,1),$prev_pageview_max_content:a,$prev_pageview_max_content_percentage:s<=1?1:rx(a/s,0,1)})}}]),e}();function rx(e,t,n){return Math.max(t,Math.min(e,n))}var rT={icontains:function(e){return!!I&&I.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},regex:function(e){var t;return!!I&&(t=I.location.href,!!function(e){try{new RegExp(e)}catch(e){return!1}return!0}(e)&&new RegExp(e).test(t))},exact:function(e){return(null==I?void 0:I.location.href)===e}},rR=function(){function e(t){o(this,e),this.instance=t}return u(e,[{key:"afterDecideResponse",value:function(e){this._decideServerResponse=!!e.surveys,this.loadIfEnabled()}},{key:"loadIfEnabled",value:function(){var e=this,t=null==H?void 0:H.extendPostHogWithSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||t||es(this.instance.requestRouter.endpointFor("assets","/static/surveys.js"),function(t){if(t)return G.error("Could not load surveys script",t);H.extendPostHogWithSurveys(e.instance)})}},{key:"getSurveys",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.instance.config.disable_surveys)return e([]);var r=this.instance.get_property(eS);if(r&&!n)return e(r);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:function(n){if(200!==n.statusCode||!n.json)return e([]);var r,i=n.json.surveys||[];return null===(r=t.instance.persistence)||void 0===r||r.register(c({},eS,i)),e(i)}})}},{key:"getActiveMatchingSurveys",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.getSurveys(function(n){return e(n.filter(function(e){return!(!e.start_date||e.end_date)}).filter(function(e){if(!e.conditions)return!0;var t,n,r,i,s=null===(t=e.conditions)||void 0===t||!t.url||rT[null!==(n=null===(r=e.conditions)||void 0===r?void 0:r.urlMatchType)&&void 0!==n?n:"icontains"](e.conditions.url),o=null===(i=e.conditions)||void 0===i||!i.selector||(null==M?void 0:M.querySelector(e.conditions.selector));return s&&o}).filter(function(e){if(!e.linked_flag_key&&!e.targeting_flag_key)return!0;var n=!e.linked_flag_key||t.instance.featureFlags.isFeatureEnabled(e.linked_flag_key),r=!e.targeting_flag_key||t.instance.featureFlags.isFeatureEnabled(e.targeting_flag_key);return n&&r}))},n)}}]),e}(),rO=function(){function e(t){var n,r,i=this;o(this,e),c(this,"serverLimits",{}),c(this,"lastEventRateLimited",!1),c(this,"checkForLimiting",function(e){var t=e.text;if(t&&t.length)try{(JSON.parse(t).quota_limited||[]).forEach(function(e){G.info("[RateLimiter] ".concat(e||"events"," is quota limited.")),i.serverLimits[e]=(new Date).getTime()+6e4})}catch(e){return void G.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(null==e?void 0:e.message,'"'),{text:t})}}),this.instance=t,this.captureEventsPerSecond=(null===(n=t.config.rate_limiting)||void 0===n?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null===(r=t.config.rate_limiting)||void 0===r?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}return u(e,[{key:"clientRateLimitContext",value:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=(new Date).getTime(),s=null!==(e=null===(t=this.instance.persistence)||void 0===t?void 0:t.get_property(eR))&&void 0!==e?e:{tokens:this.captureEventsBurstLimit,last:i};s.tokens+=(i-s.last)/1e3*this.captureEventsPerSecond,s.last=i,s.tokens>this.captureEventsBurstLimit&&(s.tokens=this.captureEventsBurstLimit);var o=s.tokens<1;return o||r||(s.tokens=Math.max(0,s.tokens-1)),!o||this.lastEventRateLimited||r||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,null===(n=this.instance.persistence)||void 0===n||n.set_property(eR,s),{isRateLimited:o,remainingTokens:s.tokens}}},{key:"isServerRateLimited",value:function(e){var t=this.serverLimits[e||"events"]||!1;return!1!==t&&(new Date).getTime()<t}}]),e}(),rP=function(){return i({initialPathName:(null==j?void 0:j.pathname)||"",referringDomain:tz.referringDomain()},tz.campaignParams())},rI=function(){function e(t,n,r){var i=this;o(this,e),c(this,"_onSessionIdCallback",function(e){var t=i._getStoredProps();if(!t||t.sessionId!==e){var n={sessionId:e,props:i._sessionSourceParamGenerator()};i._persistence.register(c({},eT,n))}}),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||rP,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return u(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[eT]}},{key:"getSessionProps",value:function(){var e,t=null===(e=this._getStoredProps())||void 0===e?void 0:e.props;return t?{$client_session_initial_referring_host:t.referringDomain,$client_session_initial_pathname:t.initialPathName,$client_session_initial_utm_source:t.utm_source,$client_session_initial_utm_campaign:t.utm_campaign,$client_session_initial_utm_medium:t.utm_medium,$client_session_initial_utm_content:t.utm_content,$client_session_initial_utm_term:t.utm_term}:{}}}]),e}(),rC=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],rA=function(e,t){if(!e)return!1;var n=e.toLowerCase();return rC.concat(t||[]).some(function(e){var t=e.toLowerCase();return -1!==n.indexOf(t)})},r$=function(){function e(){o(this,e),this.clicks=[]}return u(e,[{key:"isRageClick",value:function(e,t,n){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(e-r.x)+Math.abs(t-r.y)<30&&n-r.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:n}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:n}];return!1}}]),e}();function rL(e){var t;return e.id===eC||!(null===(t=e.closest)||void 0===t||!t.call(e,"#"+eC))}var rF=function(){function e(t){var n;o(this,e),c(this,"rageclicks",new r$),c(this,"_enabledServerSide",!1),c(this,"_initialized",!1),this.instance=t,this._enabledServerSide=!(null===(n=this.instance.persistence)||void 0===n||!n.props[el])}return u(e,[{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(G.info("[heatmaps] Heatmaps enabled, starting..."),this._setupListeners())}},{key:"isEnabled",get:function(){return E(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps}},{key:"afterDecideResponse",value:function(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register(c({},el,t)),this._enabledServerSide=t,this.startIfEnabled()}},{key:"getAndClearBuffer",value:function(){var e=this.buffer;return this.buffer=void 0,e}},{key:"_setupListeners",value:function(){var e=this;I&&M&&(ei(M,"click",function(t){return e._onClick(t||(null==I?void 0:I.event))},!1,!0),ei(M,"mousemove",function(t){return e._onMouseMove(t||(null==I?void 0:I.event))},!1,!0),this._initialized=!0)}},{key:"_getProperties",value:function(e,t){var n=this.instance.scrollManager.scrollY(),r=this.instance.scrollManager.scrollX(),i=this.instance.scrollManager.scrollElement(),s=function(e,t,n){for(var r=e;r&&!t5(r,"body")&&r!==n;){if(Y(t,null==I?void 0:I.getComputedStyle(r).position))return!0;r=t9(r)}return!1}(e.target,["fixed","sticky"],i);return{x:e.clientX+(s?0:r),y:e.clientY+(s?0:n),target_fixed:s,type:t}}},{key:"_onClick",value:function(e){var t;if(!rL(e.target)){var n=this._getProperties(e,"click");null!==(t=this.rageclicks)&&void 0!==t&&t.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._capture(i(i({},n),{},{type:"rageclick"})),this._capture(n)}}},{key:"_onMouseMove",value:function(e){var t=this;rL(e.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout(function(){t._capture(t._getProperties(e,"mousemove"))},500))}},{key:"_capture",value:function(e){if(I){var t=I.location.href;this.buffer=this.buffer||{},this.buffer[t]||(this.buffer[t]=[]),this.buffer[t].push(e)}}}]),e}(),rM=function(){function e(t){var n=this;o(this,e),c(this,"_updateScrollData",function(){n.context||(n.context={});var e,t,r,i,s=n.scrollElement(),o=n.scrollY(),a=s?Math.max(0,s.scrollHeight-s.clientHeight):0,u=o+((null==s?void 0:s.clientHeight)||0),c=(null==s?void 0:s.scrollHeight)||0;n.context.lastScrollY=Math.ceil(o),n.context.maxScrollY=Math.max(o,null!==(e=n.context.maxScrollY)&&void 0!==e?e:0),n.context.maxScrollHeight=Math.max(a,null!==(t=n.context.maxScrollHeight)&&void 0!==t?t:0),n.context.lastContentY=u,n.context.maxContentY=Math.max(u,null!==(r=n.context.maxContentY)&&void 0!==r?r:0),n.context.maxContentHeight=Math.max(c,null!==(i=n.context.maxContentHeight)&&void 0!==i?i:0)}),this.instance=t}return u(e,[{key:"getContext",value:function(){return this.context}},{key:"resetContext",value:function(){var e=this.context;return setTimeout(this._updateScrollData,0),e}},{key:"startMeasuringScrollPosition",value:function(){null==I||I.addEventListener("scroll",this._updateScrollData,!0),null==I||I.addEventListener("scrollend",this._updateScrollData,!0),null==I||I.addEventListener("resize",this._updateScrollData)}},{key:"scrollElement",value:function(){if(!this.instance.config.scroll_root_selector)return null==I?void 0:I.document.documentElement;var e,t=h(b(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector]);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=null==I?void 0:I.document.querySelector(n);if(r)return r}}catch(e){t.e(e)}finally{t.f()}}},{key:"scrollY",value:function(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return I&&(I.scrollY||I.pageYOffset||I.document.documentElement.scrollTop)||0}},{key:"scrollX",value:function(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return I&&(I.scrollX||I.pageXOffset||I.document.documentElement.scrollLeft)||0}}]),e}(),rj=function(){function e(){o(this,e),c(this,"events",{}),this.events={}}return u(e,[{key:"on",value:function(e,t){var n=this;return this.events[e]||(this.events[e]=[]),this.events[e].push(t),function(){n.events[e]=n.events[e].filter(function(e){return e!==t})}}},{key:"emit",value:function(e,t){var n,r=h(this.events[e]||[]);try{for(r.s();!(n=r.n()).done;)(0,n.value)(t)}catch(e){r.e(e)}finally{r.f()}var i,s=h(this.events["*"]||[]);try{for(s.s();!(i=s.n()).done;)(0,i.value)(e,t)}catch(e){s.e(e)}finally{s.f()}}}]),e}(),rD="$copy_autocapture";function rN(e,t){return t.length>e?t.slice(0,e)+"...":t}var rq=function(){function e(t){o(this,e),c(this,"_initialized",!1),c(this,"_isDisabledServerSide",null),c(this,"rageclicks",new r$),c(this,"_elementsChainAsString",!1),this.instance=t}return u(e,[{key:"config",get:function(){var e,t=w(this.instance.config.autocapture)?this.instance.config.autocapture:{};return t.url_allowlist=null===(e=t.url_allowlist)||void 0===e?void 0:e.map(function(e){return new RegExp(e)}),t}},{key:"_addDomEventHandlers",value:function(){var e=this;if(this.isBrowserSupported()){if(I&&M){var t=function(t){t=t||(null==I?void 0:I.event);try{e._captureEvent(t)}catch(e){G.error("Failed to capture event",e)}},n=function(t){t=t||(null==I?void 0:I.event),e._captureEvent(t,rD)};ei(M,"submit",t,!1,!0),ei(M,"change",t,!1,!0),ei(M,"click",t,!1,!0),this.config.capture_copied_text&&(ei(M,"copy",n,!1,!0),ei(M,"cut",n,!1,!0))}}else G.info("Disabling Automatic Event Collection because this browser is not supported")}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}},{key:"afterDecideResponse",value:function(e){e.elementsChainAsString&&(this._elementsChainAsString=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register(c({},ec,!!e.autocapture_opt_out)),this._isDisabledServerSide=!!e.autocapture_opt_out,this.startIfEnabled()}},{key:"isEnabled",get:function(){var e,t,n=null===(e=this.instance.persistence)||void 0===e?void 0:e.props[ec];if(T(this._isDisabledServerSide)&&!P(n)&&!this.instance.config.advanced_disable_decide)return!1;var r=null!==(t=this._isDisabledServerSide)&&void 0!==t?t:!!n;return!!this.instance.config.autocapture&&!r}},{key:"_previousElementSibling",value:function(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!t4(t));return t}},{key:"_getAugmentPropertiesFromElement",value:function(e){if(!ne(e))return{};var t={};return V(e.attributes,function(e){if(e.name&&0===e.name.indexOf("data-ph-capture-attribute")){var n=e.name.replace("data-ph-capture-attribute-",""),r=e.value;n&&r&&nu(r)&&(t[n]=r)}}),t}},{key:"_getPropertiesFromElement",value:function(e,t,n){var r,i=e.tagName.toLowerCase(),s={tag_name:i};t7.indexOf(i)>-1&&!n&&("a"===i.toLowerCase()||"button"===i.toLowerCase()?s.$el_text=rN(1024,nc(e)):s.$el_text=rN(1024,t3(e)));var o=t1(e);o.length>0&&(s.classes=o.filter(function(e){return""!==e}));var a=null===(r=this.config)||void 0===r?void 0:r.element_attribute_ignorelist;V(e.attributes,function(n){var r;if((!nt(e)||-1!==["name","id","class","aria-label"].indexOf(n.name))&&(null==a||!a.includes(n.name))&&!t&&nu(n.value)&&(!x(r=n.name)||"_ngcontent"!==r.substring(0,10)&&"_nghost"!==r.substring(0,7))){var i=n.value;"class"===n.name&&(i=t0(i).join(" ")),s["attr__"+n.name]=rN(1024,i)}});for(var u=1,c=1,l=e;l=this._previousElementSibling(l);)u++,l.tagName===e.tagName&&c++;return s.nth_child=u,s.nth_of_type=c,s}},{key:"_getDefaultProperties",value:function(e){return{$event_type:e,$ce_version:1}}},{key:"_getEventTarget",value:function(e){var t;return E(e.target)?e.srcElement||null:null!==(t=e.target)&&void 0!==t&&t.shadowRoot?e.composedPath()[0]||null:e.target||null}},{key:"_captureEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$autocapture";if(this.isEnabled){var r,o=this._getEventTarget(e);t6(o)&&(o=o.parentNode||null),"$autocapture"===n&&"click"===e.type&&e instanceof MouseEvent&&this.instance.config.rageclick&&null!==(r=this.rageclicks)&&void 0!==r&&r.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._captureEvent(e,"$rageclick");var a=n===rD;if(o&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!I||!e||t5(e,"html")||!t4(e))return!1;if(null!=n&&n.url_allowlist){var o=I.location.href,a=n.url_allowlist;if(a&&!a.some(function(e){return o.match(e)}))return!1}if(null!=n&&n.dom_event_allowlist){var u=n.dom_event_allowlist;if(u&&!u.some(function(e){return t.type===e}))return!1}for(var c=!1,l=[e],d=!0,f=e;f.parentNode&&!t5(f,"body");)if(t8(f.parentNode))l.push(f.parentNode.host),f=f.parentNode.host;else{if(!(d=t9(f)))break;if(r||t7.indexOf(d.tagName.toLowerCase())>-1)c=!0;else{var p=I.getComputedStyle(d);p&&"pointer"===p.getPropertyValue("cursor")&&(c=!0)}l.push(d),f=d}if(!function(e,t){var n=null==t?void 0:t.element_allowlist;if(E(n))return!0;var r,i=h(e);try{for(i.s();!(r=i.n()).done;){var o=function(){var e=r.value;if(n.some(function(t){return e.tagName.toLowerCase()===t}))return{v:!0}}();if("object"===s(o))return o.v}}catch(e){i.e(e)}finally{i.f()}return!1}(l,n)||!function(e,t){var n=null==t?void 0:t.css_selector_allowlist;if(E(n))return!0;var r,i=h(e);try{for(i.s();!(r=i.n()).done;){var o=function(){var e=r.value;if(n.some(function(t){return e.matches(t)}))return{v:!0}}();if("object"===s(o))return o.v}}catch(e){i.e(e)}finally{i.f()}return!1}(l,n))return!1;var g=I.getComputedStyle(e);if(g&&"pointer"===g.getPropertyValue("cursor")&&"click"===t.type)return!0;var _=e.tagName.toLowerCase();switch(_){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return c?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(t7.indexOf(_)>-1||"true"===e.getAttribute("contenteditable"))}}(o,e,this.config,a,a?["copy","cut"]:void 0)){for(var u,c,d=[o],f=o;f.parentNode&&!t5(f,"body");)t8(f.parentNode)?(d.push(f.parentNode.host),f=f.parentNode.host):(d.push(f.parentNode),f=f.parentNode);var p,g=[],_={},v=!1;if(V(d,function(e){var n=ne(e);"a"===e.tagName.toLowerCase()&&(p=e.getAttribute("href"),p=n&&nu(p)&&p),Y(t1(e),"ph-no-capture")&&(v=!0),g.push(t._getPropertiesFromElement(e,t.instance.config.mask_all_element_attributes,t.instance.config.mask_all_text)),z(_,t._getAugmentPropertiesFromElement(e))}),this.instance.config.mask_all_text||("a"===o.tagName.toLowerCase()||"button"===o.tagName.toLowerCase()?g[0].$el_text=nc(o):g[0].$el_text=t3(o)),p&&(g[0].attr__href=p),v)return!1;var m=z(this._getDefaultProperties(e.type),this._elementsChainAsString?{$elements_chain:g.map(function(e){var t,n,r,i={text:null===(n=e.$el_text)||void 0===n?void 0:n.slice(0,400),tag_name:e.tag_name,href:null===(r=e.attr__href)||void 0===r?void 0:r.slice(0,2048),attr_class:(t=e.attr__class)?b(t)?t:t0(t):void 0,attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return Z(e).filter(function(e){return 0===l(e,1)[0].indexOf("attr__")}).forEach(function(e){var t=l(e,2),n=t[0],r=t[1];return i.attributes[n]=r}),i}).map(function(e){var t,n,r="";if(e.tag_name&&(r+=e.tag_name),e.attr_class){e.attr_class.sort();var s,o=h(e.attr_class);try{for(o.s();!(s=o.n()).done;){var a=s.value;r+=".".concat(a.replace(/"/g,""))}}catch(e){o.e(e)}finally{o.f()}}var u=i(i(i(i({},e.text?{text:e.text}:{}),{},{"nth-child":null!==(t=e.nth_child)&&void 0!==t?t:0,"nth-of-type":null!==(n=e.nth_of_type)&&void 0!==n?n:0},e.href?{href:e.href}:{}),e.attr_id?{attr_id:e.attr_id}:{}),e.attributes),c={};return Z(u).sort(function(e,t){var n=l(e,1)[0],r=l(t,1)[0];return n.localeCompare(r)}).forEach(function(e){var t=l(e,2),n=t[0],r=t[1];return c[nl(n.toString())]=nl(r.toString())}),r+=":"+Z(u).map(function(e){var t=l(e,2),n=t[0],r=t[1];return"".concat(n,'="').concat(r,'"')}).join("")}).join(";")}:{$elements:g},null!==(u=g[0])&&void 0!==u&&u.$el_text?{$el_text:null===(c=g[0])||void 0===c?void 0:c.$el_text}:{},_);if(n===rD){var y,k=t2(null==I||null===(y=I.getSelection())||void 0===y?void 0:y.toString()),w=e.type||"clipboard";if(!k)return!1;m.$selected_content=k,m.$copy_type=w}return this.instance.capture(n,m),!0}}}},{key:"isBrowserSupported",value:function(){return k(null==M?void 0:M.querySelectorAll)}}]),e}(),rB={},rH=function(){},rU="posthog",rG=!rd&&-1===(null==B?void 0:B.indexOf("MSIE"))&&-1===(null==B?void 0:B.indexOf("Mozilla")),rX=function(){var e,t,n;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:!!x(n=null==(t=null==M?void 0:M.location)?void 0:t.hostname)&&"herokuapp.com"!==n.split(".").slice(-2).join("."),persistence:"localStorage+cookie",persistence_name:"",loaded:rH,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:j&&x(null==j?void 0:j.search)&&-1!==j.search.indexOf("__posthog_debug=true")||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==I||null===(e=I.location)||void 0===e?void 0:e.protocol),ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:function(e){var t="Bad HTTP status: "+e.statusCode+" "+e.text;G.error(t)},get_device_id:function(e){return e},_onCapture:rH,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"always"}},rW=function(e){var t={};E(e.process_person)||(t.person_profiles=e.process_person),E(e.xhr_headers)||(t.request_headers=e.xhr_headers),E(e.cookie_name)||(t.persistence_name=e.cookie_name),E(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=z({},t,e);return b(e.property_blacklist)&&(E(e.property_denylist)?n.property_denylist=e.property_blacklist:b(e.property_denylist)?n.property_denylist=[].concat(d(e.property_blacklist),d(e.property_denylist)):G.error("Invalid value for property_denylist config: "+e.property_denylist)),n},rJ=function(){function e(){o(this,e),c(this,"__forceAllowLocalhost",!1)}return u(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(e){G.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}]),e}(),rV=function(){function e(){var t=this;o(this,e),c(this,"webPerformance",new rJ),c(this,"_debugEventEmitter",new rj),this.config=rX(),this.decideEndpointWasHit=!1,this.SentryIntegration=rS,this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.featureFlags=new ej(this),this.toolbar=new nq(this),this.scrollManager=new rM(this),this.pageViewManager=new rE(this),this.surveys=new rR(this),this.rateLimiter=new rO(this),this.requestRouter=new rw(this),this.people={set:function(e,n,r){var i=x(e)?c({},e,n):e;t.setPersonProperties(i),null==r||r({})},set_once:function(e,n,r){var i=x(e)?c({},e,n):e;t.setPersonProperties(void 0,i),null==r||r({})}},this.on("eventCaptured",function(e){return G.info("send",e)})}return u(e,[{key:"init",value:function(t,n,r){if(r&&r!==rU){var i,s=null!==(i=rB[r])&&void 0!==i?i:new e;return s._init(t,n,r),rB[r]=s,rB[rU][r]=s,s}return this._init(t,n,r)}},{key:"_init",value:function(e){var t,n,r=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(E(e)||x(e)&&0===e.trim().length)return G.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return G.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;if(this.__loaded=!0,this.config={},this._triggered_notifs=[],this.set_config(z({},rX(),rW(s),{name:o,token:e})),this.compression=s.disable_compression?void 0:K.Base64,this.persistence=new tZ(this.config),this.sessionPersistence="sessionStorage"===this.config.persistence?this.persistence:new tZ(i(i({},this.config),{},{persistence:"sessionStorage"})),this._requestQueue=new nB(function(e){return r._send_retriable_request(e)}),this._retryQueue=new ry(this),this.__request_queue=[],this.sessionManager=new rb(this.config,this.persistence),this.sessionPropsManager=new rI(this.sessionManager,this.persistence),this.sessionRecording=new nM(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new rq(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new rF(this),this.heatmaps.startIfEnabled(),g.DEBUG=g.DEBUG||this.config.debug,this._gdpr_init(),void 0!==(null===(t=s.bootstrap)||void 0===t?void 0:t.distinctID)){var a,u,c=this.config.get_device_id(eW()),l=null!==(a=s.bootstrap)&&void 0!==a&&a.isIdentifiedID?c:s.bootstrap.distinctID;this.persistence.set_property(ex,null!==(u=s.bootstrap)&&void 0!==u&&u.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:l})}if(this._hasBootstrappedFeatureFlags()){var d,f,p=Object.keys((null===(d=s.bootstrap)||void 0===d?void 0:d.featureFlags)||{}).filter(function(e){var t,n;return!(null===(t=s.bootstrap)||void 0===t||null===(n=t.featureFlags)||void 0===n||!n[e])}).reduce(function(e,t){var n,r;return e[t]=(null===(n=s.bootstrap)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r[t])||!1,e},{}),h=Object.keys((null===(f=s.bootstrap)||void 0===f?void 0:f.featureFlagPayloads)||{}).filter(function(e){return p[e]}).reduce(function(e,t){var n,r,i,o;return null!==(n=s.bootstrap)&&void 0!==n&&null!==(r=n.featureFlagPayloads)&&void 0!==r&&r[t]&&(e[t]=null===(i=s.bootstrap)||void 0===i||null===(o=i.featureFlagPayloads)||void 0===o?void 0:o[t]),e},{});this.featureFlags.receivedFeatureFlags({featureFlags:p,featureFlagPayloads:h})}if(!this.get_distinct_id()){var _=this.config.get_device_id(eW());this.register_once({distinct_id:_,$device_id:_},""),this.persistence.set_property(ex,"anonymous")}return null==I||null===(n=I.addEventListener)||void 0===n||n.call(I,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),s.segment?function(e,t){var n=e.config.segment;if(!n)return t();!function(e,t){var n=e.config.segment;if(!n)return t();var r=function(n){var r=function(){return n.anonymousId()||eW()};e.config.get_device_id=r,n.id()&&(e.register({distinct_id:n.id(),$device_id:r()}),e.persistence.set_property(ex,"identified")),t()},i=n.user();"then"in i&&k(i.then)?i.then(function(e){return r(e)}):r(i)}(e,function(){var r;n.register((Promise&&Promise.resolve||G.warn("This browser does not have Promise support, and can not use the segment integration"),r=function(t,n){if(!n)return t;t.event.userId||t.event.anonymousId===e.get_distinct_id()||e.reset(),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(e.register({distinct_id:t.event.userId}),e.reloadFeatureFlags());var r,i=e._calculate_event_properties(n,null!==(r=t.event.properties)&&void 0!==r?r:{});return t.event.properties=Object.assign({},i,t.event.properties),t},{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(e){return r(e,e.event.event)},page:function(e){return r(e,"$pageview")},identify:function(e){return r(e,"$identify")},screen:function(e){return r(e,"$screen")}})).then(function(){t()})})}(this,function(){return r._loaded()}):this._loaded(),k(this.config._onCapture)&&this.on("eventCaptured",function(e){return r.config._onCapture(e.event,e)}),this}},{key:"_afterDecideResponse",value:function(e){var t,n,r,i,s;this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=Y(e.supportedCompression,K.GZipJS)?K.GZipJS:Y(e.supportedCompression,K.Base64)?K.Base64:void 0),null!==(t=e.analytics)&&void 0!==t&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),null===(n=this.sessionRecording)||void 0===n||n.afterDecideResponse(e),null===(r=this.autocapture)||void 0===r||r.afterDecideResponse(e),null===(i=this.heatmaps)||void 0===i||i.afterDecideResponse(e),null===(s=this.surveys)||void 0===s||s.afterDecideResponse(e)}},{key:"_loaded",value:function(){var e=this,t=this.config.advanced_disable_decide;t||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(e){G.critical("`loaded` function failed",e)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout(function(){M&&e.capture("$pageview",{title:M.title},{send_instantly:!0})},1),t||(new nj(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var e;this.has_opted_out_capturing()||this.config.request_batching&&(null===(e=this._requestQueue)||void 0===e||e.enable())}},{key:"_dom_loaded",value:function(){var e=this;this.has_opted_out_capturing()||J(this.__request_queue,function(t){return e._send_retriable_request(t)}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_handle_unload",value:function(){var e,t;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture("$pageleave"),null===(e=this._requestQueue)||void 0===e||e.unload(),null===(t=this._retryQueue)||void 0===t||t.unload()):this._shouldCapturePageleave()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_send_request",value:function(e){var t=this;this.__loaded&&(rG?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=rp(e.url,{ip:this.config.ip?1:0}),e.headers=this.config.request_headers,e.compression="best-available"===e.compression?this.compression:e.compression,function(e){var t,n,r,s=i({},e);s.timeout=s.timeout||6e4,s.url=rp(s.url,{_:(new Date).getTime().toString(),ver:g.LIB_VERSION,compression:s.compression});var o=null!==(t=s.transport)&&void 0!==t?t:"XHR",a=null!==(n=null===(r=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}(rg,function(e){return e.transport===o}))||void 0===r?void 0:r.method)&&void 0!==n?n:rg[0].method;if(!a)throw Error("No available transport method");a(s)}(i(i({},e),{},{callback:function(n){var r,i,s;t.rateLimiter.checkForLimiting(n),n.statusCode>=400&&(null===(i=(s=t.config).on_request_error)||void 0===i||i.call(s,n)),null===(r=e.callback)||void 0===r||r.call(e,n)}}))))}},{key:"_send_retriable_request",value:function(e){this._retryQueue?this._retryQueue.retriableRequest(e):this._send_request(e)}},{key:"_execute_array",value:function(e){var t,n=this,r=[],i=[],s=[];J(e,function(e){e&&(b(t=e[0])?s.push(e):k(e)?e.call(n):b(e)&&"alias"===t?r.push(e):b(e)&&-1!==t.indexOf("capture")&&k(n[t])?s.push(e):i.push(e))});var o=function(e,t){J(e,function(e){if(b(e[0])){var n=t;V(e,function(e){n=n[e[0]].apply(n,e.slice(1))})}else this[e[0]].apply(this,e.slice(1))},t)};o(r,this),o(i,this),o(s,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var e,t;return(null===(e=this.config.bootstrap)||void 0===e?void 0:e.featureFlags)&&Object.keys(null===(t=this.config.bootstrap)||void 0===t?void 0:t.featureFlags).length>0||!1}},{key:"push",value:function(e){this._execute_array([e])}},{key:"capture",value:function(e,t,n){var r;if(!(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue))return G.uninitializedWarning("posthog.capture");if(!nO(this)){if(!E(e)&&x(e)){if(!B||this.config.opt_out_useragent_filter||!rA(B,this.config.custom_blocked_useragents)){var s=null!=n&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==s||!s.isRateLimited){this.sessionPersistence.update_search_keyword(),this.config.store_google&&(this.sessionPersistence.update_campaign_params(),this.persistence.set_initial_campaign_params()),this.config.save_referrer&&(this.sessionPersistence.update_referrer_info(),this.persistence.set_initial_referrer_info());var o,a,u,c,l={uuid:eW(),event:e,properties:this._calculate_event_properties(e,t||{})};if(null==n||!n._noHeatmaps){var d,f=null===(d=this.heatmaps)||void 0===d?void 0:d.getAndClearBuffer();f&&(l.properties.$heatmap_data=f)}s&&(l.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),(null==n?void 0:n.$set)&&(l.$set=null==n?void 0:n.$set);var p=this._calculate_set_once_properties(null==n?void 0:n.$set_once);p&&(l.$set_once=p),(o=l,a=null!=n&&n._noTruncate?null:this.config.properties_string_max_length,u=function(e){return x(e)&&!T(a)?e.slice(0,a):e},c=new Set,l=function e(t,n){var r;return t!==Object(t)?u?u(t,n):t:c.has(t)?void 0:(c.add(t),b(t)?(r=[],J(t,function(t){r.push(e(t))})):(r={},V(t,function(t,n){c.has(t)||(r[n]=e(t,n))})),r)}(o)).timestamp=(null==n?void 0:n.timestamp)||new Date,E(null==n?void 0:n.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=new Date);var h=i(i({},l.properties.$set),l.$set);S(h)||this.setPersonPropertiesForFlags(h),this._debugEventEmitter.emit("eventCaptured",l);var g={method:"POST",url:null!==(r=null==n?void 0:n._url)&&void 0!==r?r:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:l,compression:"best-available",batchKey:null==n?void 0:n._batchKey};return!this.config.request_batching||n&&(null==n||!n._batchKey)||null!=n&&n.send_instantly?this._send_retriable_request(g):this._requestQueue.enqueue(g),l}G.critical("This capture call is ignored due to client rate limiting.")}}else G.error("No event name provided to posthog.capture")}}},{key:"_addCaptureHook",value:function(e){this.on("eventCaptured",function(t){return e(t.event)})}},{key:"_calculate_event_properties",value:function(e,t){if(!this.persistence||!this.sessionPersistence)return t;var n=this.persistence.remove_event_timer(e),r=i({},t);if(r.token=this.config.token,"$snapshot"===e){var s=i(i({},this.persistence.properties()),this.sessionPersistence.properties());return r.distinct_id=s.distinct_id,r}var o=tz.properties();if(this.sessionManager){var a=this.sessionManager.checkAndGetSessionAndWindowId(),u=a.sessionId,c=a.windowId;r.$session_id=u,r.$window_id=c}if(this.requestRouter.region===rv.CUSTOM&&(r.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&("$pageview"===e||"$pageleave"===e||"$autocapture"===e)){var l=this.sessionPropsManager.getSessionProps();r=z(r,l)}if(!this.config.disable_scroll_properties){var d={};"$pageview"===e?d=this.pageViewManager.doPageView():"$pageleave"===e&&(d=this.pageViewManager.doPageLeave()),r=z(r,d)}if("$pageview"===e&&M&&(r.title=M.title),!E(n)){var f=(new Date).getTime()-n;r.$duration=parseFloat((f/1e3).toFixed(3))}B&&this.config.opt_out_useragent_filter&&(r.$browser_type=rA(B,this.config.custom_blocked_useragents)?"bot":"browser"),(r=z({},o,this.persistence.properties(),this.sessionPersistence.properties(),r)).$is_identified=this._isIdentified(),b(this.config.property_denylist)?V(this.config.property_denylist,function(e){delete r[e]}):G.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var p=this.config.sanitize_properties;return p&&(r=p(r,e)),r.$process_person_profile=this._hasPersonProcessing(),r}},{key:"_calculate_set_once_properties",value:function(e){if(!this.persistence||!this._hasPersonProcessing())return e;var t=z({},this.persistence.get_initial_props(),e||{});return S(t)?void 0:t}},{key:"register",value:function(e,t){var n;null===(n=this.persistence)||void 0===n||n.register(e,t)}},{key:"register_once",value:function(e,t,n){var r;null===(r=this.persistence)||void 0===r||r.register_once(e,t,n)}},{key:"register_for_session",value:function(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.register(e)}},{key:"unregister",value:function(e){var t;null===(t=this.persistence)||void 0===t||t.unregister(e)}},{key:"unregister_for_session",value:function(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.unregister(e)}},{key:"_register_single",value:function(e,t){this.register(c({},e,t))}},{key:"getFeatureFlag",value:function(e,t){return this.featureFlags.getFeatureFlag(e,t)}},{key:"getFeatureFlagPayload",value:function(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(e){return t}}},{key:"isFeatureEnabled",value:function(e,t){return this.featureFlags.isFeatureEnabled(e,t)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,t){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t)}},{key:"getEarlyAccessFeatures",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(e,t)}},{key:"on",value:function(e,t){return this._debugEventEmitter.on(e,t)}},{key:"onFeatureFlags",value:function(e){return this.featureFlags.onFeatureFlags(e)}},{key:"onSessionId",value:function(e){var t,n;return null!==(t=null===(n=this.sessionManager)||void 0===n?void 0:n.onSessionId(e))&&void 0!==t?t:function(){}}},{key:"getSurveys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getSurveys(e,t)}},{key:"getActiveMatchingSurveys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getActiveMatchingSurveys(e,t)}},{key:"identify",value:function(e,t,n){if(!this.__loaded||!this.persistence)return G.uninitializedWarning("posthog.identify");if(O(e)&&(e=e.toString(),G.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e){if(["distinct_id","distinctid"].includes(e.toLowerCase()))G.critical('The string "'.concat(e,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var r=this.get_distinct_id();this.register({$user_id:e}),this.get_property("$device_id")||this.register_once({$had_persisted_distinct_id:!0,$device_id:r},""),e!==r&&e!==this.get_property(ea)&&(this.unregister(ea),this.register({distinct_id:e}));var i="anonymous"===(this.persistence.get_property(ex)||"anonymous");e!==r&&i?(this.persistence.set_property(ex,"identified"),this.setPersonPropertiesForFlags(t||{},!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:r},{$set:t||{},$set_once:n||{}}),this.featureFlags.setAnonymousDistinctId(r)):(t||n)&&this.setPersonProperties(t,n),e!==r&&(this.reloadFeatureFlags(),this.unregister(eE))}}else G.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(e,t){(e||t)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(e||{}),this.capture("$set",{$set:e||{},$set_once:t||{}}))}},{key:"group",value:function(e,t,n){if(e&&t){if(this._requirePersonProcessing("posthog.group")){var r=this.getGroups();r[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:i(i({},r),{},c({},e,t))}),n&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:n}),this.setGroupPropertiesForFlags(c({},e,n))),r[e]===t||n||this.reloadFeatureFlags()}}else G.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(e,t)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}},{key:"resetGroupPropertiesForFlags",value:function(e){this.featureFlags.resetGroupPropertiesForFlags(e)}},{key:"reset",value:function(e){if(!this.__loaded)return G.uninitializedWarning("posthog.reset");var t,n,r,i,s=this.get_property("$device_id");null===(t=this.persistence)||void 0===t||t.clear(),null===(n=this.sessionPersistence)||void 0===n||n.clear(),null===(r=this.persistence)||void 0===r||r.set_property(ex,"anonymous"),null===(i=this.sessionManager)||void 0===i||i.resetSessionId();var o=this.config.get_device_id(eW());this.register_once({distinct_id:o,$device_id:e?o:s},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var e,t;return null!==(e=null===(t=this.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==e?e:""}},{key:"get_session_replay_url",value:function(e){if(!this.sessionManager)return"";var t=this.sessionManager.checkAndGetSessionAndWindowId(!0),n=t.sessionId,r=t.sessionStartTimestamp,i=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(n));if(null!=e&&e.withTimestamp&&r){var s,o=null!==(s=e.timestampLookBack)&&void 0!==s?s:10;if(!r)return i;var a=Math.max(Math.floor(((new Date).getTime()-r)/1e3)-o,0);i+="?t=".concat(a)}return i}},{key:"alias",value:function(e,t){return e===this.get_property(eo)?(G.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(E(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(ea,e),this.capture("$create_alias",{alias:e,distinct_id:t})):(G.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}},{key:"set_config",value:function(e){var t,n,r,s,o=i({},this.config);w(e)&&(z(this.config,rW(e)),null===(t=this.persistence)||void 0===t||t.update_config(this.config,o),this.sessionPersistence="sessionStorage"===this.config.persistence?this.persistence:new tZ(i(i({},this.config),{},{persistence:"sessionStorage"})),eK.is_supported()&&"true"===eK.get("ph_debug")&&(this.config.debug=!0),this.config.debug&&(g.DEBUG=!0),null===(n=this.sessionRecording)||void 0===n||n.startIfEnabledOrStop(),null===(r=this.autocapture)||void 0===r||r.startIfEnabled(),null===(s=this.heatmaps)||void 0===s||s.startIfEnabled(),this.surveys.loadIfEnabled())}},{key:"startSessionRecording",value:function(e){if(null!=e&&e.sampling){var t,n,r=null===(t=this.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId();null===(n=this.persistence)||void 0===n||n.register(c({},em,!0)),G.info("Session recording started with sampling override for session: ",null==r?void 0:r.sessionId)}this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var e;return!(null===(e=this.sessionRecording)||void 0===e||!e.started)}},{key:"loadToolbar",value:function(e){return this.toolbar.loadToolbar(e)}},{key:"get_property",value:function(e){var t;return null===(t=this.persistence)||void 0===t?void 0:t.props[e]}},{key:"getSessionProperty",value:function(e){var t;return null===(t=this.sessionPersistence)||void 0===t?void 0:t.props[e]}},{key:"toString",value:function(){var e,t=null!==(e=this.config.name)&&void 0!==e?e:rU;return t!==rU&&(t=rU+"."+t),t}},{key:"_isIdentified",value:function(){var e,t;return"identified"===(null===(e=this.persistence)||void 0===e?void 0:e.get_property(ex))||"identified"===(null===(t=this.sessionPersistence)||void 0===t?void 0:t.get_property(ex))}},{key:"_hasPersonProcessing",value:function(){var e,t,n,r;return!("never"===this.config.person_profiles||"identified_only"===this.config.person_profiles&&!this._isIdentified()&&S(this.getGroups())&&(null===(e=this.persistence)||void 0===e||null===(t=e.props)||void 0===t||!t[ea])&&(null===(n=this.persistence)||void 0===n||null===(r=n.props)||void 0===r||!r[eI]))}},{key:"_shouldCapturePageleave",value:function(){return!0===this.config.capture_pageleave||"if_capture_pageview"===this.config.capture_pageleave&&this.config.capture_pageview}},{key:"_requirePersonProcessing",value:function(e){return"never"===this.config.person_profiles?(G.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(eI,!0),!0)}},{key:"_gdpr_init",value:function(){"localStorage"===this.config.opt_out_capturing_persistence_type&&eK.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_capturing()&&(this.config.opt_out_capturing_by_default||eY.get("ph_optout"))&&(eY.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(e){var t,n,r,i,s;if(e&&e.clear_persistence)r=!0;else{if(!e||!e.enable_persistence)return;r=!1}this.config.disable_persistence||(null===(t=this.persistence)||void 0===t?void 0:t.disabled)===r||null===(i=this.persistence)||void 0===i||i.set_disabled(r),this.config.disable_persistence||(null===(n=this.sessionPersistence)||void 0===n?void 0:n.disabled)===r||null===(s=this.sessionPersistence)||void 0===s||s.set_disabled(r)}},{key:"_gdpr_call_func",value:function(e,t){return t=z({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},t||{}),eK.is_supported()||"localStorage"!==t.persistence_type||(t.persistence_type="cookie"),e(this.config.token,{capture:t.capture,captureEventName:t.capture_event_name,captureProperties:t.capture_properties,persistenceType:t.persistence_type,persistencePrefix:t.cookie_prefix,cookieExpiration:t.cookie_expiration,crossSubdomainCookie:t.cross_subdomain_cookie,secureCookie:t.secure_cookie})}},{key:"opt_in_capturing",value:function(e){e=z({enable_persistence:!0},e||{}),this._gdpr_call_func(ny,e),this._gdpr_update_persistence(e)}},{key:"opt_out_capturing",value:function(e){var t=z({clear_persistence:!0},e||{});this._gdpr_call_func(nb,t),this._gdpr_update_persistence(t)}},{key:"has_opted_in_capturing",value:function(e){return this._gdpr_call_func(nk,e)}},{key:"has_opted_out_capturing",value:function(e){return this._gdpr_call_func(nw,e)}},{key:"clear_opt_in_out_capturing",value:function(e){var t=z({enable_persistence:!0},null!=e?e:{});this._gdpr_call_func(nS,t),this._gdpr_update_persistence(t)}},{key:"debug",value:function(e){!1===e?(null==I||I.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(null==I||I.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();!function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=et(e.prototype[t[n]])}(rV,["identify"]),(rY=rK||(rK={})).Popover="popover",rY.API="api",rY.Widget="widget",(rZ=rQ||(rQ={})).Open="open",rZ.MultipleChoice="multiple_choice",rZ.SingleChoice="single_choice",rZ.Rating="rating",rZ.Link="link";var rz,rY,rZ,rK,rQ,r0,r1=(r0=rB[rU]=new rV,function(){function e(){e.done||(e.done=!0,rG=!1,V(rB,function(e){e._dom_loaded()}))}null!=M&&M.addEventListener&&("complete"===M.readyState?e():M.addEventListener("DOMContentLoaded",e,!1)),I&&ei(I,"load",e,!0)}(),r0)},22220:function(e,t,n){"use strict";n.d(t,{U0:function(){return a},zf:function(){return o}});var r=n(79507),i=n(44194),s=(0,i.createContext)({client:r.ZP});function o(e){var t=e.children,n=e.client,o=e.apiKey,a=e.options,u=(0,i.useMemo)(function(){return(n&&o&&console.warn("[PostHog.js] You have provided both a client and an apiKey to PostHogProvider. The apiKey will be ignored in favour of the client."),n&&a&&console.warn("[PostHog.js] You have provided both a client and options to PostHogProvider. The options will be ignored in favour of the client."),n)?n:(o&&(r.ZP.__loaded&&console.warn("[PostHog.js] was already loaded elsewhere. This may cause issues."),r.ZP.init(o,a)),r.ZP)},[n,o]);return i.createElement(s.Provider,{value:{client:u}},t)}var a=function(){return(0,i.useContext)(s).client}},73656:function(e){var t,n,r,i=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var u=[],c=!1,l=-1;function d(){c&&r&&(c=!1,r.length?u=r.concat(u):l=-1,u.length&&f())}function f(){if(!c){var e=a(d);c=!0;for(var t=u.length;t;){for(r=u,u=[];++l<t;)r&&r[l].run();l=-1,t=u.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}},14527:function(e,t,n){"use strict";var r=n(44194),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=r.useState,o=r.useEffect,a=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return a(function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})},[e,n,t]),o(function(){return c(i)&&l({inst:i}),e(function(){c(i)&&l({inst:i})})},[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},38645:function(e,t,n){"use strict";e.exports=n(14527)}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[9774,179],function(){return t(68702),t(42791),t(25071)}),_N_E=e.O()}]);